{"ast":null,"code":"import { useToast } from \"vue-toastification\";\nexport default {\n  name: \"login\",\n  data: () => ({\n    email: '',\n    password: '',\n    backend: \"s\",\n    toast: useToast()\n  }),\n  created() {\n    this.backend = this.$store.state.backendUrl + `auth/token/login/`;\n  },\n  methods: {\n    async login() {\n      let email = this.email;\n      let password = this.password;\n      await this.$store.dispatch('login', {\n        email,\n        password\n      }).catch(err => {\n        console.log(err), this.toast.error(\"Ви неправильно ввели електронну пошту або пароль\");\n      });\n      var token = this.$store.state.access;\n      await this.$store.dispatch('set_user', token).then(() => {\n        let r = this.$router.resolve({\n          name: 'home' // put your route information in\n        });\n\n        window.location.assign(r.href);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}