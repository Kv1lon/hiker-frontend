{"ast":null,"code":"import { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport Multiselect from \"@vueform/multiselect\";\nimport VueNumberInput from \"@chenfengyuan/vue-number-input\";\nimport { useToast } from \"vue-toastification\";\nimport f from \"./airport.csv\";\nimport md from \"./flightsearch.md\";\nimport axios from \"axios\";\nexport default {\n  props: ['slug'],\n  name: \"ticket_single\",\n  inheritAttrs: false,\n  emits: ['confirm', 'cancel'],\n  components: {\n    'font-awesome-icon': FontAwesomeIcon,\n    Multiselect,\n    VueNumberInput\n  },\n  data: () => ({\n    listPosts: [],\n    popular: [],\n    user: {},\n    total: 0,\n    date: \"\",\n    adult: 1,\n    teen: 0,\n    baby: 0,\n    forward: '',\n    back: '',\n    reqs: [],\n    tickets_i: {\n      it: 0,\n      fl: 0,\n      tr: 0\n    },\n    trip_class: '',\n    timezone: \"UTC\",\n    traveler_id: 1,\n    modelConfig: {\n      type: 'string',\n      mask: 'YYYY-MM-DD hh:mm:ss',\n      timeAdjust: '24:00:00'\n    },\n    show: false,\n    orl: \"\",\n    del: \"\",\n    op: {},\n    arar: {},\n    ticket: {},\n    travalerType: {\n      \"ADULT\": \"Дорослий\",\n      \"CHILD\": \"Дитина\",\n      \"SENIOR\": \"Поважного віку\",\n      \"YOUNG\": \"Молодий\",\n      \"HELD_INFANT\": \"Немовля\",\n      \"SEATED_INFANT\": \"Сидяче немовля\",\n      \"STUDENT\": \"Ученик\"\n    },\n    fareType: {\n      \"STANDARD\": \"Стандарт\",\n      \"INCLUSIVE_TOUR\": \"Інклюзивний тур\",\n      \"ADULT_WITH_COMPANION\": \"Дорослий із супутником\",\n      \"COMPANION\": \"Супутник\"\n    },\n    travelers_info: [],\n    toast: useToast(),\n    loading: false\n  }),\n  created() {\n    this.loading = true;\n    this.loadTicket();\n    this.loadPopularPosts();\n    this.user = this.$store.state.cuser;\n    var data_airports = this.loadCsv(f);\n    this.arar, this.op = data_airports;\n  },\n  mounted() {\n    console.log(this.$store.state);\n  },\n  methods: {\n    loadCsv(allText) {\n      var ops = [];\n      var mdd = md.join(\"\");\n      for (var i = 1; i < allText.length; i++) {\n        if (mdd.includes(allText[i][0])) {\n          var st = \"\";\n          for (var j = 0; j < allText[i].length - 2; j++) {\n            st += allText[i][j] + \" \";\n          }\n          allText[i].push(st);\n          ops.push(st);\n        }\n      }\n      allText.shift();\n      return allText, ops;\n    },\n    async loadPopularPosts() {\n      await axios({\n        url: this.$store.state.backendUrl + `api/v1/blog?limit=3&search=&date=month&ordering=descending`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.popular = response.data.results;\n      });\n    },\n    async loadTicket() {\n      var data = \"grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h\";\n      var token;\n      var access = localStorage.getItem('access');\n      if (access) {\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n      await axios({\n        url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n        data: data,\n        method: 'POST',\n        headers: {\n          \"Content-type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(response => {\n        token = response.data.token_type + \" \" + response.data.access_token;\n      });\n      var id;\n      var url = `${this.$store.getters.getServerUrl}api/v1/ticket/${this.slug}`;\n      await axios({\n        url: url,\n        method: 'GET',\n        headers: {\n          \"Authorization\": \"JWT \" + localStorage.getItem('access')\n        }\n      }).then(response => {\n        id = response.data.text_id, console.log(response);\n      });\n      await axios({\n        url: `https://test.api.amadeus.com/v1/booking/flight-orders/${id}`,\n        method: 'GET',\n        headers: {\n          \"Authorization\": token\n        }\n      }).then(response => {\n        this.ticket = response.data.data, this.loading = false;\n        console.log(response);\n      });\n    },\n    async searchTickets() {\n      var data = \"grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h\";\n      var token;\n      var access = localStorage.getItem('access');\n      if (access) {\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n      this.loading = true;\n      await axios({\n        url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n        data: data,\n        method: 'POST',\n        headers: {\n          \"Content-type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(response => {\n        console.log(response), token = response.data.token_type + \" \" + response.data.access_token;\n      });\n      this.orl = this.orl.slice(0, 3);\n      this.del = this.del.slice(0, 3);\n      var date = this.forward.toString().slice(10);\n      var data1 = {\n        \"id\": 1,\n        \"originLocationCode\": this.orl,\n        \"destinationLocationCode\": this.del,\n        \"departureDateTimeRange\": {\n          \"date\": this.forward.slice(0, 10),\n          \"time\": this.forward.slice(11)\n        }\n      };\n      if (this.back[0]) {\n        var data2 = {\n          \"id\": 2,\n          \"originLocationCode\": this.del,\n          \"destinationLocationCode\": this.orl,\n          \"departureDateTimeRange\": {\n            \"date\": this.back.slice(0, 10),\n            \"time\": this.back.slice(11)\n          }\n        };\n        var dd = [data1, data2];\n      } else {\n        var dd = [data1];\n      }\n      var travelers = [];\n      var c = 0;\n      for (var i = 0; i < this.adult; i++) {\n        c++;\n        travelers.push({\n          \"id\": c,\n          \"travelerType\": \"ADULT\"\n        });\n      }\n      for (var i = 0; i < this.teen; i++) {\n        c++;\n        travelers.push({\n          \"id\": c,\n          \"travelerType\": \"CHILD\"\n        });\n      }\n      for (var i = 0; i < this.baby; i++) {\n        c++;\n        if (i < this.adult) {\n          travelers.push({\n            \"id\": c,\n            \"travelerType\": \"HELD_INFANT\",\n            \"associatedAdultId\": i + 1\n          });\n        }\n      }\n      var cabin = \"\";\n      if (this.trip_class === \"E\") {\n        cabin = \"ECONOMY\";\n      } else if (this.trip_class === \"PE\") {\n        cabin = \"PREMIUM_ECONOMY\";\n      } else if (this.trip_class === \"B\") {\n        cabin = \"BUSINESS\";\n      } else if (this.trip_class === \"F\") {\n        cabin = \"FIRST\";\n      }\n      var d = {\n        \"currencyCode\": \"USD\",\n        \"originDestinations\": dd,\n        \"travelers\": travelers,\n        \"sources\": [\"GDS\"],\n        \"searchCriteria\": {\n          \"maxFlightOffers\": 20,\n          \"flightFilters\": {\n            \"cabinRestrictions\": [{\n              \"cabin\": cabin,\n              \"coverage\": \"MOST_SEGMENTS\",\n              \"originDestinationIds\": [\"1\"]\n            }],\n            \"carrierRestrictions\": {\n              \"excludedCarrierCodes\": [\"AA\", \"TP\", \"AZ\"]\n            }\n          }\n        }\n      };\n      var that = this;\n      await axios({\n        url: 'https://test.api.amadeus.com/v2/shopping/flight-offers',\n        data: d,\n        method: 'POST',\n        headers: {\n          \"Authorization\": token\n        }\n      }).then(res => {\n        if (res.data.data[0]) {\n          data = res.data.data;\n          this.loading = false, data = res.data.data, console.log(this.$store.state);\n          this.$store.dispatch('tickets_arr', {\n            data\n          }), this.goTo(\"tickets\");\n        } else {\n          that.toast.error(\"Немає білетів\"), this.loading = false;\n        }\n      }).catch(err => {\n        console.log(err), that.toast.error(\"Введіть валідні данні або спробуйте пізніше\"), this.loading = false;\n      });\n      console.log(this.$store.state.tickets);\n      access = localStorage.getItem('access');\n      if (access) {\n        axios.defaults.headers.common['Authorization'] = \"JWT \" + access;\n      }\n    },\n    goTo(name, params) {\n      let r = this.$router.resolve({\n        name: name,\n        params: params // put your route information in\n      });\n\n      window.location.assign(r.href);\n    },\n    format_date(data) {\n      if (data.includes(\"-\")) {\n        return data.slice(0, 10).replaceAll(\"-\", \".\") + \" \" + data.slice(11, 16);\n      } else if (data.includes(\"P\")) {\n        return data.replaceAll(\"P\", \"\").replaceAll(\"T\", \"\").replaceAll(\"D\", \" день(днів) \").replaceAll(\"H\", \" год. \").replaceAll(\"M\", \" хвилин(а) \");\n      }\n    },\n    next_flight(ticket) {\n      if (this.tickets_i['fl'] < ticket.flightOffers[0].itineraries[this.tickets_i['it']].segments.length - 1) {\n        this.tickets_i['fl']++;\n      } else if (this.tickets_i['fl'] >= ticket.itineraries[this.tickets_i['it']].segments.length - 1 && this.tickets_i['it'] < ticket.itineraries.length - 1) {\n        this.tickets_i['it']++;\n        this.tickets_i['fl'] = 0;\n      }\n    },\n    prev_flight(ticket) {\n      if (this.tickets_i['fl'] > 0) {\n        this.tickets_i['fl']--;\n      } else if (this.tickets_i['fl'] === 0 && this.tickets_i['it'] > 0) {\n        this.tickets_i['it']--;\n        this.tickets_i['fl'] = ticket.itineraries[this.tickets_i['it']].segments.length - 1;\n      }\n    }\n  }\n};","map":{"version":3,"names":["FontAwesomeIcon","Multiselect","VueNumberInput","useToast","f","md","axios","props","name","inheritAttrs","emits","components","data","listPosts","popular","user","total","date","adult","teen","baby","forward","back","reqs","tickets_i","it","fl","tr","trip_class","timezone","traveler_id","modelConfig","type","mask","timeAdjust","show","orl","del","op","arar","ticket","travalerType","fareType","travelers_info","toast","loading","created","loadTicket","loadPopularPosts","$store","state","cuser","data_airports","loadCsv","mounted","console","log","methods","allText","ops","mdd","join","i","length","includes","st","j","push","shift","url","backendUrl","method","headers","then","response","results","token","access","localStorage","getItem","defaults","common","token_type","access_token","id","getters","getServerUrl","slug","text_id","searchTickets","slice","toString","data1","data2","dd","travelers","c","cabin","d","that","res","dispatch","goTo","error","catch","err","tickets","params","r","$router","resolve","window","location","assign","href","format_date","replaceAll","next_flight","flightOffers","itineraries","segments","prev_flight"],"sources":["/home/oliverqa/Documents/hiker-frontend/src/views/tickets_cab_single.vue"],"sourcesContent":["<template>\n        <div v-if=\"loading\" class=\"preloader\">\n    <div class=\"preloader__image\">\n    </div></div>\n\n  <div v-else  class=\"container mtb\">\n    <div class=\"row\">\n      <div class=\"col-lg-8\">\n        <div class=\"buy\" data-aos=\"zoom-in\" data-aos-delay=\"300\">\n            <div class=\"ticket\">Дата бронювання: {{format_date(ticket.associatedRecords.find(x=>x.creationDate).creationDate)}}</div>\n            <div  v-for=\"segm in ticket.flightOffers[0].itineraries[0].segments\" :key=\"ticket.flightOffers[0].id\">\n                <div class=\"ticket\">Звідки: {{segm.departure.iataCode}}</div>\n            <h4 class=\"ticket\">Відїзд: {{format_date(segm.departure.at)}}</h4>\n            <div class=\"ticket\">Куди: {{segm.arrival.iataCode}}</div>\n            <h4 class=\"ticket\">Прибуття: {{format_date(segm.arrival.at)}}</h4>\n                </div>\n             <hr v-if=\"ticket.flightOffers[0].itineraries[1]\">\n             <div v-if=\"ticket.flightOffers[0].itineraries[1]\" v-for=\"segm in ticket.flightOffers[0].itineraries[1].segments\" :key=\"ticket.flightOffers[0].id\">\n\n            <div class=\"ticket\">Звідки: {{segm.departure.iataCode}}</div>\n            <h4 class=\"ticket\">Відїзд: {{format_date(segm.departure.at)}}</h4>\n            <div class=\"ticket\">Куди: {{segm.arrival.iataCode}}</div>\n            <h4 class=\"ticket\">Прибуття: {{format_date(segm.arrival.at)}}</h4>\n        </div>\n        </div>\n\n\n        <div  class=\"buy\" data-aos=\"zoom-in\" data-aos-delay=\"300\">\n                <div  >\n            <h3 class=\"ticket\">Id: {{ticket.travelers[tickets_i['tr']].id}}</h3>\n            <h3 class=\"ticket\">Імя: {{ticket.travelers[tickets_i['tr']].name.firstName+\" \"+ticket.travelers[tickets_i['tr']].name.lastName}}</h3>\n            <h3 class=\"ticket\">Тариф: {{ticket.travelers[tickets_i['tr']].contact.purpose}}</h3>\n                </div>                        <button v-if=\"tickets_i['tr']>0\" class=\"btn btn-theme\" @click.prevent=\"tickets_i['tr']--\">Минулий пасажир</button>\n\n                        <button v-if=\"tickets_i['tr']<ticket.flightOffers[0].travelerPricings.length-1\" class=\"btn btn-theme\" @click.prevent=\"tickets_i['tr']++\">Наступний пасажир</button>\n\n                <form class=\"form-detail\">\n\n\t\t\t\t<div v-if=\"ticket.travelers[tickets_i['tr']].contact.emailAddress\" class=\"form-row\">\n\t\t\t\t\t<label for=\"email\">Email</label>\n\t\t\t\t\t<input type=\"email\" v-model=\"ticket.travelers[tickets_i['tr']].contact.emailAddress\" name=\"email\" id=\"email\" readonly class=\"input-text\" placeholder=\"Email\" required>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"ticket.travelers[tickets_i['tr']].contact.phones[0].number\" class=\"form-row\">\n\t\t\t\t\t<label for=\"phone\">Телефон</label>\n\t\t\t\t\t<input v-model=\"ticket.travelers[tickets_i['tr']].contact.phones[0].number\" type=\"text\" name=\"phone\" id=\"phone\" class=\"input-text\" readonly placeholder=\"Номер телефона\" required>\n\t\t\t\t</div>\n\t\t\t</form></div>\n\n\n\n\n\n\n  <div>\n    <vue-final-modal v-model=\"show\" :resize=\"true\" :keep-changed-style=\"true\" :esc-to-close=\"true\"  :resize-directions=\"['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\"\n classes=\"modal-container\" content-class=\"modal-content\">\n<font-awesome-icon  class=\"modal__close\" @click=\"show = false\" :icon=\"['fas', 'times']\"  />\n        <span class=\"modal__title\"><h3>Пошук білетів</h3></span>\n      <div class=\"modal__content\">\n <div class=\"hline\"></div>\n    <div class=\"\">\n          <h4>Звідки </h4>\n            <div class=\"form-group\">\n              <div class=\"form-group\">\n                   <Multiselect :close-on-select=\"true\" :searchable=\"true\" v-model=\"orl\" :options=\"op\" >       <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect></div>\n</div>\n    <h4>Куди</h4>\n            <div class=\"form-group\">\n                   <Multiselect :close-on-select=\"true\" :searchable=\"true\" v-model=\"del\" :options=\"op\" >       <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect></div>\n        <h4>Коли</h4>\n\n\n                <v-date-picker mode=\"dateTime\" :is24hr=\"true\" :timezone=\"timezone\" :minute-increment=\"5\"  :model-config=\"modelConfig\"  class=\"btn\" v-model=\"forward\"  > <template v-slot=\"{ inputValue, togglePopover }\">\n      <div class=\"form-group\">\n        <button\n          @click=\"togglePopover()\"\n                    class=\"form-control \"\n\n        >\n          <font-awesome-icon :icon=\"['far', 'calendar-alt']\" />\n\n        </button>\n        <input\n          :value=\"inputValue\"\n                    class=\"form-control \"\n\n          readonly\n        />\n      </div>\n    </template></v-date-picker>\n    <h4>Назад(Не обовязково)</h4>\n\n\n                <v-date-picker mode=\"dateTime\" :is24hr=\"true\" :timezone=\"timezone\"  :minute-increment=\"5\" :model-config=\"modelConfig\"  class=\"btn \" v-model=\"back\" ><template v-slot=\"{ inputValue, togglePopover }\">\n      <div class=\"form-group\">\n        <button\n          @click=\"togglePopover()\"\n          class=\"form-control \"\n        >\n          <font-awesome-icon :icon=\"['far', 'calendar-alt']\" />\n        </button>\n        <input\n          :value=\"inputValue\"\n          readonly\n          class=\"form-control\"\n        />\n      </div>\n    </template></v-date-picker>\n          <h4>Пасажиры</h4>\n          <div class=\"btn btn-theme\">Дорослі\n              <vue-number-input class=\"form-control\" v-model=\"adult\" :min=\"1\" :max=\"9-teen\"  controls></vue-number-input>\n</div>\n          <div class=\"btn btn-theme\" >Діти\n              <vue-number-input class=\"form-control\" v-model=\"teen\" :min=\"0\" :max=\"9-adult\"  controls></vue-number-input></div>\n              <div class=\"btn btn-theme\" >Немовлята\n              <vue-number-input class=\"form-control\" v-model=\"baby\" :min=\"0\" :max=\"adult\"  controls></vue-number-input>\n</div>\n                   <h4>Клас</h4>\n          <div class=\"btn btn-theme\">Эконом <input type=\"radio\" v-model=\"trip_class \" name=\"popular\" value=\"E\"/></div>\n          <div class=\"btn btn-theme\">Преміум-эконом <input type=\"radio\" v-model=\"trip_class \" name=\"popular\" value=\"PE\"/></div>\n          <div class=\"btn btn-theme\" >Бізнес <input type=\"radio\" name=\"popular\"  v-model=\"trip_class \" value=\"B\"/></div>\n          <div class=\"btn btn-theme\" >Перший <input type=\"radio\" name=\"popular\"  v-model=\"trip_class \" value=\"F\"/></div>\n          <div><button @click=\"searchTickets\"  class=\"btn btn-block btn-success\">Знайти білети</button></div>\n      </div></div>\n    </vue-final-modal>\n  </div>\n      </div>\n  <div data-aos=\"slide-right\" data-aos-delay=\"300\" class=\"col-lg-4\">\n      <button @click.prevent=\"show=true\" class=\"find-tickets-btn btn btn-primary\">Знайти білети</button>\n\n        <aside v-if=\"user.username\" class=\"single_sidebar_widget author_widget\">\n                        <img :src=\"user.profile_img\" alt=\"Admin\" class=\" img-rounded rounded-circle profile_img\">\n          <h4>{{user.username}}</h4>\n          <p>{{user.email}}</p>\n\n          <div class=\"br\"></div>\n        </aside>\n\n        <div class=\"spacing\"></div>\n\n\n        <h3 v-if=\"popular[0]\">Популярні пости</h3>\n        <ul class=\"popular-posts\">\n          <li data-aos=\"zoom-in\" class=\"popular-post\" v-for=\"post_p in popular\" :key=\"post_p.id\" @click.prevent = 'goTo(\"post\",{slug:post_p.slug})'><img style=\"height: 8vh\" :src=\"post_p.img\" />\n            <p><a href=\"\">{{post_p.title}}</a></p>\n            <em> <font-awesome-icon :icon=\"['far', 'clock']\" />  {{post_p.date}}\n             <div><font-awesome-icon :icon=\"['far', 'user']\" />{{post_p.author}}</div><font-awesome-icon :icon=\"['far', 'comment']\" />{{post_p.comments.length}} <font-awesome-icon :icon=\"['far', 'heart']\" />{{post_p.likes.length}} <font-awesome-icon :icon=\"['far', 'eye']\" />{{post_p.views}}</em>\n          </li>\n        </ul>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n    import {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\n    import Multiselect from \"@vueform/multiselect\";\n    import VueNumberInput from \"@chenfengyuan/vue-number-input\";\n    import {useToast} from \"vue-toastification\";\n    import f from \"./airport.csv\";\n    import md from \"./flightsearch.md\";\n    import axios from \"axios\";\n\n    export default {\n                props:['slug'],\n\n        name: \"ticket_single\",\n        inheritAttrs: false,\n  emits: ['confirm', 'cancel'],\n            components:{'font-awesome-icon': FontAwesomeIcon,Multiselect,VueNumberInput},\n            data: () => ({\n      listPosts: [],\n        popular:[],\n      user:{},\n      total:0,\n      date:\"\",\n        adult:1,\n        teen:0,\n        baby:0,\n        forward:'',\n        back:'',\n                reqs:[],\n                tickets_i:{it:0,fl:0,tr:0},\n                trip_class :'',\n\n                timezone:\"UTC\",\n                traveler_id:1,\n              modelConfig: {\n        type: 'string',\n        mask: 'YYYY-MM-DD hh:mm:ss',\n                        timeAdjust: '24:00:00',\n\n      },\nshow:false,\n      orl:\"\",\n      del:\"\",\n        op:{},\n        arar:{},\n        ticket:{},\n\n                travalerType:{        \"ADULT\":\"Дорослий\",\n        \"CHILD\":\"Дитина\",\n        \"SENIOR\":\"Поважного віку\",\n        \"YOUNG\":\"Молодий\",\n        \"HELD_INFANT\":\"Немовля\",\n        \"SEATED_INFANT\":\"Сидяче немовля\",\n        \"STUDENT\":\"Ученик\"},\n                fareType:{        \"STANDARD\":\"Стандарт\",\n        \"INCLUSIVE_TOUR\":\"Інклюзивний тур\",\n        \"ADULT_WITH_COMPANION\":\"Дорослий із супутником\",\n        \"COMPANION\":\"Супутник\"},\n                travelers_info:[],\n                    toast : useToast(),\n                  loading:false,\n            }),\n        created() {\n                        this.loading = true\n\n      this.loadTicket()\n\n      this.loadPopularPosts()\n      this.user = this.$store.state.cuser\n                var data_airports = this.loadCsv(f);\n      this.arar, this.op = data_airports\n\n    },\n      mounted() {\n console.log(this.$store.state)      },\n\n      methods: {\n\n          loadCsv(allText) {\n              var ops = []\n              var mdd = md.join(\"\")\n\n              for (var i = 1; i < allText.length; i++) {\n                  if (mdd.includes(allText[i][0])) {\n\n\n                      var st = \"\";\n                      for (var j = 0; j < allText[i].length - 2; j++) {\n                          st += allText[i][j] + \" \"\n                      }\n                      allText[i].push(st);\n                      ops.push(st)\n                  }\n              }\n              allText.shift()\n              return allText, ops\n          },\n\n          async loadPopularPosts() {\n\n\n              await axios({\n                  url: this.$store.state.backendUrl+`api/v1/blog?limit=3&search=&date=month&ordering=descending`,\n                  method: 'GET',\n                  headers: {'Content-type': 'application/json',}\n              }).then(response => {\n                  this.popular = response.data.results\n              })\n          },\n          async loadTicket() {\n\n              var data = \"grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h\"\n              var token;\n              var access = localStorage.getItem('access')\n              if (access) {\n                  delete axios.defaults.headers.common[\"Authorization\"];\n              }\n              await axios({\n                  url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n                  data: data,\n                  method: 'POST',\n                  headers: {\"Content-type\": \"application/x-www-form-urlencoded\"}\n              }).then(response => {\n                  token = response.data.token_type + \" \" + response.data.access_token\n              })\n                    var id ;\n                            var url =  `${this.$store.getters.getServerUrl}api/v1/ticket/${this.slug}`;\n        await axios({url: url,\n            method: 'GET',\n                headers: {\"Authorization\":\"JWT \" + localStorage.getItem('access')}\n\n        }).then(response => {id = response.data.text_id, console.log(response)})\n       await axios({\n                  url: `https://test.api.amadeus.com/v1/booking/flight-orders/${id}`,\n                  method: 'GET',\n                  headers: {\"Authorization\": token}\n              }).then(response => {this.ticket = response.data.data, this.loading=false\n                  console.log(response)\n              })\n\n\n\n          },\n\n\n      async searchTickets(){\n        var data= \"grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h\"\n        var token;\nvar access = localStorage.getItem('access')\nif (access) {\ndelete axios.defaults.headers.common[\"Authorization\"];\n    }\n    this.loading = true\n        await axios({url: 'https://test.api.amadeus.com/v1/security/oauth2/token', data: data, method: 'POST', headers:{\"Content-type\":\"application/x-www-form-urlencoded\"} }).then(response => {console.log(response), token = response.data.token_type+\" \"+response.data.access_token\n})\n        this.orl = this.orl.slice(0,3)\n       this.del= this.del.slice(0,3)\n          var date = this.forward.toString().slice(10)\n                    var data1 = {\"id\":1,\n                            \"originLocationCode\":this.orl,\n                            \"destinationLocationCode\":this.del,\n                            \"departureDateTimeRange\": {\n                                \"date\": this.forward.slice(0,10),\n                                \"time\": this.forward.slice(11)\n                              }}\nif(this.back[0]){\n                    var data2 = {\"id\":2,\n                            \"originLocationCode\":this.del,\n                            \"destinationLocationCode\":this.orl,\n                            \"departureDateTimeRange\": {\n                                \"date\": this.back.slice(0,10),\n                                \"time\": this.back.slice(11)\n                              }}\nvar dd = [data1,data2]\n}\nelse{\n    var dd = [data1]\n}\nvar travelers =[]\n                    var c =0;\n                    for(var i =0;i<this.adult;i++){\n                        c++;\n                        travelers.push({\"id\":c,\"travelerType\": \"ADULT\"})\n                    }\n                    for(var i =0;i<this.teen;i++){\n                        c++;\n                        travelers.push({\"id\":c,\"travelerType\": \"CHILD\"})\n                    }\n                    for(var i =0;i<this.baby;i++){\n                        c++;\n                        if(i<this.adult) {\n                            travelers.push({\"id\": c, \"travelerType\": \"HELD_INFANT\", \"associatedAdultId\": i+1})\n                        }\n\n                    }\nvar cabin= \"\"\nif(this.trip_class === \"E\"){\n    cabin= \"ECONOMY\"\n}\nelse if(this.trip_class ===\"PE\"){\n        cabin= \"PREMIUM_ECONOMY\"\n\n}\nelse if(this.trip_class ===\"B\"){\n        cabin= \"BUSINESS\"\n\n}\nelse if(this.trip_class ===\"F\"){\n        cabin= \"FIRST\"\n\n}\n          var d = {\n  \"currencyCode\": \"USD\",\n  \"originDestinations\": dd,\n  \"travelers\": travelers,\n  \"sources\": [\n    \"GDS\"\n  ],\n  \"searchCriteria\": {\n    \"maxFlightOffers\": 20,\n    \"flightFilters\": {\n      \"cabinRestrictions\": [\n        {\n          \"cabin\": cabin,\n          \"coverage\": \"MOST_SEGMENTS\",\n          \"originDestinationIds\": [\n            \"1\"\n          ]\n        }\n      ],\n      \"carrierRestrictions\": {\n        \"excludedCarrierCodes\": [\n          \"AA\",\n          \"TP\",\n          \"AZ\"\n        ]\n      }\n    }\n  }\n}\nvar that = this\nawait axios({url: 'https://test.api.amadeus.com/v2/shopping/flight-offers',data:d,  method: 'POST' ,headers:{\"Authorization\":token}}).then(res=>{\n    if(res.data.data[0]){\n        data = res.data.data\n    this.loading=false,\n        data = res.data.data,\n         console.log(this.$store.state)\n                  this.$store.dispatch('tickets_arr', { data })\n\n         ,this.goTo(\"tickets\",)\n    }\n    else {\n        that.toast.error(\"Немає білетів\"),this.loading = false\n    }\n})\n    .catch(err => {console.log(err), that.toast.error(\"Введіть валідні данні або спробуйте пізніше\"),this.loading = false})\n        console.log(this.$store.state.tickets)\n\n          access = localStorage.getItem('access')\nif (access) {\n  axios.defaults.headers.common['Authorization'] = \"JWT \" + access\n    }\n                    },\n\n      goTo(name,params) {\n        let r = this.$router.resolve({\n          name: name,params: params// put your route information in\n        })\n        window.location.assign(r.href)\n      },\n        format_date(data){\n            if (data.includes(\"-\")){\n        return data.slice(0,10).replaceAll(\"-\",\".\")+\" \"+data.slice(11,16)}\n            else if(data.includes(\"P\")){\n                return data.replaceAll(\"P\",\"\").replaceAll(\"T\",\"\").replaceAll(\"D\",\" день(днів) \").replaceAll(\"H\",\" год. \").replaceAll(\"M\",\" хвилин(а) \")\n            }\n        },\nnext_flight(ticket){if (this.tickets_i['fl']<ticket.flightOffers[0].itineraries[this.tickets_i['it']].segments.length-1){\n    this.tickets_i['fl']++;\n}\n        else if(this.tickets_i['fl']>=ticket.itineraries[this.tickets_i['it']].segments.length-1 && this.tickets_i['it']<ticket.itineraries.length-1){\n                this.tickets_i['it']++;\n                this.tickets_i['fl']=0;\n\n}\n        },\nprev_flight(ticket){if (this.tickets_i['fl']>0){\n    this.tickets_i['fl']--;\n}\n        else if(this.tickets_i['fl']===0 && this.tickets_i['it']>0){\n                this.tickets_i['it']--;\n                this.tickets_i['fl']=ticket.itineraries[this.tickets_i['it']].segments.length-1;\n\n}\n        },\n\n    }}\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style scoped lang=\"scss\">\n .multiselect-tag.is-user {\n        padding: 5px 8px;\n        border-radius: 22px;\n        background: #35495e;\n        margin: 3px 3px 8px;\n    }\n    .multiselect-tag.is-user i:before {\n        color: #ffffff;\n        border-radius: 50%;;\n    }\n.buy{\nborder-color: lightgrey;\n    border-radius: 5px;\n    border-style: solid;\n    border-width: 1px;\n    padding: 1%;\n    margin:2%;\n}\n.ticket{\n    display: inline-block;\n    margin: 1%;\n}\n    #upload_pr {\n   opacity: 0;\n   position: absolute;\n   z-index: -1;\n}\n\n.btn{\n  margin: 1%;\n}\n  .preloader {\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    background: #fff;\n    z-index: 1001;\n  }\n\n  .preloader__image {\n    position: relative;\n    top: 50%;\n    left: 50%;\n    width: 64px;\n    height: 64px;\n    margin-top: -32px;\n    margin-left: -32px;\n    background: url('../assets/Walk.gif') no-repeat 50% 50%;\n    /*расположение (url) изображения gif и др. параметры*/\n  }\n\n  .loaded_hiding .preloader {\n    transition: 0.3s opacity;\n    opacity: 0;\n  }\n\n  .loaded .preloader {\n    opacity: 50%;\n  }\n    *,*:before,*:after {\n  box-sizing: border-box;\n}\nhtml {\n  font-size: 16px;\n}\n\n.plane {\n  width: 350px;\n    margin-right:auto;\n    margin-left: auto;\n}\n.close {\n  position: absolute;\n  right: 32px;\n  top: 32px;\n  width: 32px;\n  height: 32px;\n  opacity: 0.3;\n}\n.close:hover {\n  opacity: 1;\n}\n.close:before, .close:after {\n  position: absolute;\n  left: 15px;\n  content: ' ';\n  height: 33px;\n  width: 2px;\n  background-color: #333;\n}\n.close:before {\n  transform: rotate(45deg);\n}\n.close:after {\n  transform: rotate(-45deg);\n}\n.cockpit {\n  height: 250px;\n  position: relative;\n  overflow: hidden;\n  text-align: center;\n  border-bottom: 5px solid #d8d8d8;\n  &:before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 500px;\n    width: 100%;\n    border-radius: 50%;\n    border-right: 5px solid #d8d8d8;\n    border-left: 5px solid #d8d8d8;\n  }\n  h1 {\n    width: 60%;\n    margin: 100px auto 35px auto;\n  }\n}\n.exit {\n  position: relative;\n  height: 50px;\n  &:before,\n  &:after {\n    content: \"EXIT\";\n    font-size: 14px;\n    line-height: 18px;\n    padding: 0px 2px;\n      margin: -20px;\n    font-family: \"Arial Narrow\", Arial, sans-serif;\n    display: block;\n    position: absolute;\n    background: green;\n    color: white;\n    top: 50%;\n    transform: translate(0, -50%);\n  }\n  &:before {\n    left: 0;\n  }\n  &:after {\n    right: 0;\n  }\n}\n\n.fuselage {\n  border-right: 5px solid #d8d8d8;\n  border-left: 5px solid #d8d8d8;\n}\n\nol {\n  list-style :none;\n  padding: 0;\n  margin: 0;\n}\n\n.row {\n\n}\n\n.find-tickets-btn{\n    padding: 10%;\n    border-radius: 10px;\n    font-weight: bold;\n    width: 100%;\n}\n\n.plane-desc{    margin-left: 40px;\n    margin-top:10px;\n    display: inline-block;\n    max-width: 400px;\n    position: absolute;\n}\n.c{\n    margin-bottom: 10%;\n}\n.seats {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: center;\n\n}\n\n.seat {\n  display: flex;\n  flex: 0 0 14.28571428571429%;\n  padding: 5px;\n  position: relative;\n\n  input[type=radio] {\n    position: absolute;\n    opacity: 0;\n  }\n  input[type=radio]:checked {\n    + label {\n      background: #F42536;\ncolor: #EBEBEB;\n      -webkit-animation-name: rubberBand;\n          animation-name: rubberBand;\n      animation-duration: 300ms;\n      animation-fill-mode: both;\n    }\n  }\n  input[type=radio]:disabled {\n    + label {\n      background: #dddddd;\n        color:white;\n      text-indent: -9999px;\n      overflow: hidden;\n      &:after {\n        content: \"X\";\n        text-indent: 0;\n        position: absolute;\n        top: 4px;\n        left: 50%;\n        transform: translate(-50%, 0%);\n      }\n      &:hover {\n        box-shadow: none;\n        cursor: not-allowed;\n      }\n    }\n  }\n  label {\n              color:white;\n\n    display: block;\n    position: relative;\n    width: 100%;\n    text-align: center;\n    font-size: 14px;\n    font-weight: bold;\n    line-height: 1.5rem;\n    padding: 4px 0;\n    background: #2e6da4;\n    border-radius: 5px;\n    animation-duration: 300ms;\n    animation-fill-mode: both;\n\n    &:before {\n      content: \"\";\n      position: absolute;\n      width: 75%;\n      height: 75%;\n      top: 1px;\n      left: 50%;\n        color: gray;\n      transform: translate(-50%, 0%);\n          border-radius: 3px;\n    }\n    &:hover {\n      cursor: pointer;\n      box-shadow: 0 0 0px 2px #5C6AFF;\n    }\n\n  }\n}\n\n@-webkit-keyframes rubberBand {\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, 0.75, 1);\n            transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    -webkit-transform: scale3d(0.75, 1.25, 1);\n            transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, 0.85, 1);\n            transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    -webkit-transform: scale3d(.95, 1.05, 1);\n            transform: scale3d(.95, 1.05, 1);\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, .95, 1);\n            transform: scale3d(1.05, .95, 1);\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n\n@keyframes rubberBand {\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    -webkit-transform: scale3d(1.25, 0.75, 1);\n            transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    -webkit-transform: scale3d(0.75, 1.25, 1);\n            transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    -webkit-transform: scale3d(1.15, 0.85, 1);\n            transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    -webkit-transform: scale3d(.95, 1.05, 1);\n            transform: scale3d(.95, 1.05, 1);\n  }\n\n  75% {\n    -webkit-transform: scale3d(1.05, .95, 1);\n            transform: scale3d(1.05, .95, 1);\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n            transform: scale3d(1, 1, 1);\n  }\n}\n\n.rubberBand {\n  -webkit-animation-name: rubberBand;\n          animation-name: rubberBand;\n}\n.img-rounded{\n  max-height: 9vh;\n  float: left;\n  margin-right: 1%;\n  border-radius: 50%;\n}\n</style><style scoped>\n::v-deep .modal-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n::v-deep .modal-content {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  max-height: 60%;\n  margin: 0 1rem;\n  padding: 1rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 20px;\n    margin-top:auto;\n    margin-bottom: auto;\n}\n.modal__title {\n  margin: 0 2rem 0 0;\n  font-size: 1.5rem;\n  font-weight: 700;\n}\n.modal__content {\n  flex-grow: 1;\n  overflow-y: auto;\n    padding: 3%;\n}\n.modal__action {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 1rem 0 0;\n}\n.modal__close {\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n    cursor: pointer;\n}\n</style>\n\n<style scoped>\n.dark-mode div::v-deep .modal-content {\n  border-color: #2d3748;\n  background-color: #1a202c;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}