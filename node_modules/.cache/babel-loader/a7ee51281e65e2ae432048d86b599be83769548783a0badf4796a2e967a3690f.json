{"ast":null,"code":"import axios from \"axios\";\nimport CKEditor from '@ckeditor/ckeditor5-vue';\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\nimport Editor from '@ckeditor/ckeditor5-simple-build';\nimport Multiselect from '@vueform/multiselect';\nimport { useToast } from \"vue-toastification\";\nexport default {\n  name: \"panel\",\n  components: {\n    ckeditor: CKEditor.component,\n    VueCropper,\n    Multiselect\n  },\n  data: () => ({\n    select: null,\n    description: \"\",\n    title: \"\",\n    content: \"\",\n    author: \"\",\n    selected_file: null,\n    imgSrc: \"\",\n    tags: [],\n    cities: [],\n    countries: [],\n    opt_tags: [],\n    opt_cities: [],\n    opt_countries: [],\n    s_tags: [],\n    s_cities: [],\n    s_countries: [],\n    r_tags: [],\n    r_cities: [],\n    r_countries: [],\n    msg: [],\n    toast: useToast(),\n    markers: [],\n    marker_id: 1,\n    latLang: [],\n    LegPoints: [],\n    directionsService: new google.maps.DirectionsService(),\n    _directionsRenderer: new google.maps.DirectionsRenderer(),\n    bounds: new google.maps.LatLngBounds(),\n    // Авто масштабирование карты\n    mapOptions: {\n      center: {\n        lat: 35,\n        lng: 100.644\n      },\n      zoomControl: true,\n      zoom: 3,\n      gestureHandling: 'auto'\n    },\n    editorConfig: {\n      toolbar: {\n        items: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'outdent', 'indent', '|', 'imageUpload', 'blockQuote', 'insertTable', 'mediaEmbed', 'undo', 'redo']\n      },\n      language: 'ru',\n      image: {\n        toolbar: ['imageTextAlternative', 'imageStyle:alignLeft', 'imageStyle:inLine', 'imageStyle:alignRight', 'toggleImageCaption', 'imageStyle:alignCenter', 'imageStyle:centeredImage']\n      },\n      table: {\n        contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']\n      },\n      simpleUpload: {\n        // The URL that the images are uploaded to.\n        uploadUrl: \"\"\n        // Enable the XMLHttpRequest.withCredentials property.withCredentials: false,\n      }\n    },\n\n    editor: Editor\n  }),\n  created() {\n    this.author = this.$store.state.cuser.id;\n    this.loadListTags();\n    this.loadListCities();\n    this.loadListCountries();\n    this.editorConfig.simpleUpload.uploadUrl = this.$store.state.backendUrl + 'api/v1/upload_img/none/';\n  },\n  mounted() {\n    this.initMap();\n  },\n  watch: {\n    content(value) {\n      // binding this to the data value in the email input\n      this.content = value;\n      this.validateContent(value);\n    },\n    description(value) {\n      // binding this to the data value in the email input\n      this.description = value;\n      this.validateDescription(value);\n    },\n    title(value) {\n      this.title = value;\n      this.validateTitle(value);\n    }\n  },\n  methods: {\n    cropImage() {\n      this.selected_file = this.$refs.cropper.getCroppedCanvas().toDataURL();\n    },\n    flipX() {\n      const dom = this.$refs.flipX;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleX(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    flipY() {\n      const dom = this.$refs.flipY;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleY(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    reset() {\n      this.$refs.cropper.reset();\n    },\n    rotate(deg) {\n      this.$refs.cropper.rotate(deg);\n    },\n    setImage(e) {\n      const file = e.target.files[0];\n      if (file.type.indexOf('image/') === -1) {\n        this.toast.warning('Оберіть фото або файл');\n        return;\n      }\n      if (typeof FileReader === 'function') {\n        const reader = new FileReader();\n        reader.onload = event => {\n          this.imgSrc = event.target.result;\n          // rebuild cropperjs with the updated source\n          this.$refs.cropper.replace(event.target.result);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        this.toast.error('Вибачте, FileReader API не підтримується');\n      }\n    },\n    showFileChooser() {\n      this.$refs.input.click();\n    },\n    zoom(percent) {\n      this.$refs.cropper.relativeZoom(percent);\n    },\n    onFileSelected(event) {\n      this.selected_file = event.target.files[0];\n    },\n    goTo(slug_u) {\n      this.$router.push({\n        name: 'cabinet',\n        params: {\n          slug: slug_u\n        }\n      });\n    },\n    async loadListTags() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/tags?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.tags = response.data;\n        for (var el in response.data) {\n          this.opt_tags.push(response.data[el].name);\n        }\n      });\n    },\n    async loadListCities() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/city?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.cities = response.data;\n        for (var el in response.data) {\n          this.opt_cities.push(response.data[el].title);\n        }\n      });\n    },\n    async loadListCountries() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/country?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.countries = response.data;\n        for (var el in response.data) {\n          this.opt_countries.push(response.data[el].title);\n        }\n      });\n    },\n    validateContent(value) {\n      let difference = 500 - value.length;\n      if (value.length < 500) {\n        this.msg['content'] = 'Повинно бути 500 символів! ' + difference + ' залишилось символів';\n      } else {\n        this.msg['content'] = '';\n      }\n    },\n    validateDescription(value) {\n      let difference = 100 - value.length;\n      let differensb = value.length - 255;\n      if (value.length < 100) {\n        this.msg['description'] = 'Повинно бути 100 символів! ' + difference + 'залишилось символів';\n      } else if (value.length > 255) {\n        this.msg['description'] = 'Повинно бути не більше 255 символів! ' + differensb + ' зайвих символів';\n      } else {\n        this.msg['description'] = '';\n      }\n    },\n    validateTitle(value) {\n      let difference = value.length - 255;\n      if (value.length > 255) {\n        this.msg['title'] = 'Повинно бути не більше 255 символів! ' + difference + ' зайвих символів';\n      } else {\n        this.msg['title'] = '';\n      }\n    },\n    create: function () {\n      if (!this.msg['content'] && !this.msg['description']) {\n        for (var el in this.s_cities) {\n          this.r_cities.push(this.cities.find(x => x.title === this.s_cities[el]).slug);\n        }\n        for (var el in this.s_countries) {\n          this.r_countries.push(this.countries.find(x => x.title === this.s_countries[el]).slug);\n        }\n        for (var el in this.s_tags) {\n          this.r_tags.push(this.tags.find(x => x.name === this.s_tags[el]).slug);\n        }\n        const formData = new FormData();\n        formData.append(\"title\", this.title);\n        formData.append(\"author_id\", this.author);\n        formData.append(\"content\", this.content);\n        formData.append(\"content\", this.content);\n        for (let i in this.r_cities) {\n          formData.append(\"city\", this.r_cities[i]);\n        }\n        for (let i in this.r_tags) {\n          formData.append(\"tags\", this.r_tags[i]);\n        }\n        for (let i in this.r_countries) {\n          formData.append(\"country\", this.r_countries[i]);\n        }\n        formData.append(\"description\", this.description);\n        formData.append(\"img\", this.selected_file);\n        axios({\n          url: this.$store.state.backendUrl + 'api/v1/create',\n          data: formData,\n          method: 'POST'\n        }).then(resp => {\n          console.log(resp);\n          for (var marker in this.markers) {\n            const formData1 = new FormData();\n            formData1.append('lng', Number(String(this.markers[marker].getPosition().lng()).slice(0, 15)));\n            formData1.append('lat', Number(String(this.markers[marker].getPosition().lat()).slice(0, 15)));\n            axios({\n              url: this.$store.state.backendUrl + `api/v1/add_point/${resp.data.slug}`,\n              data: formData1,\n              method: 'POST'\n            }).then(resp => {\n              console.log(resp);\n            });\n            console.log(Number(String(this.markers[marker].getPosition().lng()).slice(0, 15)));\n            console.log(Number(String(this.markers[marker].getPosition().lat()).slice(0, 15)));\n          }\n          let r = this.$router.resolve({\n            name: 'blog' // put your route information in\n          });\n\n          window.location.assign(r.href);\n        }).catch(err => {\n          this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \");\n        });\n      } else {\n        this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \");\n      }\n    },\n    getRoutePointsAndWaypoints(Points, marker) {\n      this.drawRoutePointsAndWaypoints(Points, marker);\n    },\n    drawRoute(originAddress, destinationAddress, _waypoints, marker) {\n      //Define a request variable for route .\n      var _request = '';\n\n      //This is for more then two locatins\n      if (_waypoints.length > 0) {\n        _request = {\n          origin: originAddress,\n          destination: destinationAddress,\n          waypoints: _waypoints,\n          //an array of waypoints\n          optimizeWaypoints: true,\n          //set to true if you want google to determine the shortest route or false to use the order specified.\n          travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n      } else {\n        //This is for one or two locations. Here noway point is used.\n        _request = {\n          origin: originAddress,\n          destination: destinationAddress,\n          travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n      }\n\n      //This will take the request and draw the route and return response and status as output\n      var that = this;\n      this.directionsService.route(_request, function (_response, _status) {\n        if (_status === google.maps.DirectionsStatus.OK) {\n          that._directionsRenderer.setDirections(_response);\n        } else if (_status === google.maps.DirectionsStatus.ZERO_RESULTS) {\n          that.toast.error('Неможливо поставити мітку.');\n          for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === marker.id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }\n          }\n        }\n      });\n    },\n    drawRoutePointsAndWaypoints(Points, marker) {\n      //Define a variable for waypoints.\n      var _waypoints = new Array();\n      if (Points.length > 2)\n        //Waypoints will be come.\n        {\n          for (var j = 1; j < Points.length - 1; j++) {\n            var address = Points[j];\n            if (address !== \"\") {\n              _waypoints.push({\n                location: address,\n                stopover: true //stopover is used to show marker on map for waypoints\n              });\n            }\n          }\n          //Call a drawRoute() function\n          this.drawRoute(Points[0], Points[Points.length - 1], _waypoints, marker);\n        } else if (Points.length > 1) {\n        //Call a drawRoute() function only for start and end locations\n        this.drawRoute(Points[this.latLang.length - 2], Points[Points.length - 1], _waypoints, marker);\n      } else {\n        //Call a drawRoute() function only for one point as start and end locations.\n        this.drawRoute(Points[this.latLang.length - 1], Points[Points.length - 1], _waypoints, marker);\n      }\n    },\n    placeMarker(map, marker) {\n      marker.id = this.marker_id;\n      this.marker_id++;\n      this.markers.push(marker);\n      return marker;\n    },\n    initMap() {\n      var zoom_option = 1;\n      const map = new google.maps.Map(this.$refs.googleMap, {\n        ...this.mapOptions\n      });\n      this._directionsRenderer.setMap(map);\n      this._directionsRenderer.setOptions({\n        draggable: true,\n        suppressMarkers: true\n      });\n      var that = this;\n      google.maps.event.addListener(map, 'click', function (event) {\n        var marker = new google.maps.Marker({\n          position: event.latLng,\n          map: map\n        });\n        that.latLang.push(event.latLng);\n        that.LegPoints.push('');\n        that.LegPoints.push('');\n        that.placeMarker(map, marker);\n        var id = marker.id;\n        that.getRoutePointsAndWaypoints(that.latLang, marker);\n        google.maps.event.addListener(marker, \"click\", function (e) {\n          for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === marker.id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }\n          }\n        });\n      });\n      google.maps.event.addListener(this._directionsRenderer, 'directions_changed', function () {\n        var myroute = this._directionsRenderer.directions.routes[0];\n        CreateRoute(myroute);\n        zoom_option = map.getZoom();\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","CKEditor","VueCropper","Editor","Multiselect","useToast","name","components","ckeditor","component","data","select","description","title","content","author","selected_file","imgSrc","tags","cities","countries","opt_tags","opt_cities","opt_countries","s_tags","s_cities","s_countries","r_tags","r_cities","r_countries","msg","toast","markers","marker_id","latLang","LegPoints","directionsService","google","maps","DirectionsService","_directionsRenderer","DirectionsRenderer","bounds","LatLngBounds","mapOptions","center","lat","lng","zoomControl","zoom","gestureHandling","editorConfig","toolbar","items","language","image","table","contentToolbar","simpleUpload","uploadUrl","editor","created","$store","state","cuser","id","loadListTags","loadListCities","loadListCountries","backendUrl","mounted","initMap","watch","value","validateContent","validateDescription","validateTitle","methods","cropImage","$refs","cropper","getCroppedCanvas","toDataURL","flipX","dom","scale","getAttribute","scaleX","setAttribute","flipY","scaleY","reset","rotate","deg","setImage","e","file","target","files","type","indexOf","warning","FileReader","reader","onload","event","result","replace","readAsDataURL","error","showFileChooser","input","click","percent","relativeZoom","onFileSelected","goTo","slug_u","$router","push","params","slug","url","method","headers","then","response","el","difference","length","differensb","create","find","x","formData","FormData","append","i","resp","console","log","marker","formData1","Number","String","getPosition","slice","r","resolve","window","location","assign","href","catch","err","getRoutePointsAndWaypoints","Points","drawRoutePointsAndWaypoints","drawRoute","originAddress","destinationAddress","_waypoints","_request","origin","destination","waypoints","optimizeWaypoints","travelMode","DirectionsTravelMode","DRIVING","that","route","_response","_status","DirectionsStatus","OK","setDirections","ZERO_RESULTS","setMap","splice","Array","j","address","stopover","placeMarker","map","zoom_option","Map","googleMap","setOptions","draggable","suppressMarkers","addListener","Marker","position","latLng","myroute","directions","routes","CreateRoute","getZoom"],"sources":["/home/oliverqa/Documents/hiker-frontend/src/views/panel.vue"],"sourcesContent":["<template>\n    <div>\n\n        <div data-aos=\"fade-in\" data-aos-delay=\"300\" class=\"modal-body\">\n            <h3>Створити статтю</h3>\n            <form @submit.prevent=\"create\" style=\"margin:1px\" enctype=\"multipart/form-data\">\n                <div class=\"form-group\">\n                    <label for=\"title\">Назва статі</label>\n                    <input class=\"form-control\" v-model=\"title\" id=\"title\" required>\n                                        <span v-if=\"msg.title\">{{msg.title}}</span>\n\n                </div>\n                <div class=\"form-group\">\n                    <label>Текст</label>\n                    <ckeditor class=\"form-control\" :editor=\"editor\" v-model=\"content\" :config=\"editorConfig\"></ckeditor>\n                    <span v-if=\"msg.content\">{{msg.content}}</span>\n\n                </div>\n                <div class=\"form-group\">\n                    <label>Короткий опис</label>\n                    <input class=\"form-control\" v-model=\"description\" >\n                    <span v-if=\"msg.description\">{{msg.description}}</span>\n\n                </div>\n\n                <div class=\"form-group\" v-if=\"opt_cities\">\n                    <label>Оберіть міста</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_cities\" :options=\"opt_cities\" >       <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\" v-if=\"opt_countries\">\n                    <label>Оберіть країни</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_countries\" :options=\"opt_countries\" ><template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\" v-if=\"opt_tags\">\n                    <label>Оберіть теги</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_tags\" :options=\"opt_tags\" ><template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\">\n                    <label>Завантажте фото</label>\n                    <input\n                            ref=\"input\"\n                            type=\"file\"\n                            name=\"image\"\n                            accept=\"image/*\"\n                            @change=\"setImage\"\n                    />\n                </div>\n                <div v-if='imgSrc !== \"\"' class=\"content\" >\n                    <section  class=\"cropper-area\">\n                        <div class=\"img-cropper\">\n                            <vue-cropper style=\"max-height: 40vh; display: block\"\n                                         ref=\"cropper\"\n                                         :aspect-ratio=\"2\"\n                                         :src=\"imgSrc\"\n                                         preview=\".preview\"/>\n                        </div>\n                        <div>\n                            <a\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"rotate(-90)\">\n                                Повернути\n                            </a>\n                            <a\n                                    ref=\"flipX\"\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"flipX\">\n                                Відзеркалити по горизонталі\n                            </a>\n                            <a\n                                    ref=\"flipY\"\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"flipY\">\n                                Відзеркалити по вертикалі\n                            </a>\n                            <a\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"cropImage\">\n                                Обрізати\n                            </a>\n                            <a\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"reset\">\n                                Скасувати\n                            </a>\n                        </div>\n                    </section>\n                    <section class=\"preview-area\">\n                        <label>Обрізане фото</label>\n                        <div class=\"cropped-image\" >\n                            <img style=\"max-height: 40vh; display: block; border-style: groove;\"\n                                 v-if=\"selected_file\"\n                                 :src=\"selected_file\"\n                                 alt=\"Cropped Image\"/>\n                            <div v-else class=\"crop-placeholder\" />\n                        </div>\n                    </section>\n                </div>\n\n                <div>\n                    <button type=\"submit\" style=\"margin:1px\n        \" class=\"btn btn-primary\">Створити статтю</button>\n                </div>\n  <div ref='googleMap' class='google-map'></div>\n            </form>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\n\nimport CKEditor from '@ckeditor/ckeditor5-vue';\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\nimport Editor from '@ckeditor/ckeditor5-simple-build';\n  import Multiselect from '@vueform/multiselect'\nimport {useToast} from \"vue-toastification\";\nexport default {\n    name: \"panel\",\n    components: {\n        ckeditor: CKEditor.component, VueCropper,Multiselect\n    },\n    data: () => ({\n        select:null,\n        description: \"\",\n        title:\"\",\n        content:\"\",\n        author:\"\",\n        selected_file: null,\n        imgSrc:\"\",\n        tags:[],\n        cities:[],\n        countries:[],\n        opt_tags:[],\n        opt_cities:[],\n        opt_countries:[],\n        s_tags:[],\n        s_cities:[],\n        s_countries:[],\n        r_tags:[],\n        r_cities:[],\n        r_countries:[],\n        msg:[],\n        toast : useToast(),\n      markers:[],\n      marker_id:1,\n      latLang:[],\n      LegPoints:[],\n      directionsService:new google.maps.DirectionsService(),\n      _directionsRenderer:new google.maps.DirectionsRenderer(),\nbounds: new google.maps.LatLngBounds(), // Авто масштабирование карты\n      mapOptions: {\n        center: { lat: 35, lng: 100.644 },\n        zoomControl: true,\n        zoom: 3,\n        gestureHandling: 'auto'\n    },\n        editorConfig: {\n            toolbar: {\n                items: [\n                        'heading',\n                        '|',\n                        'bold',\n                        'italic',\n                        'link',\n                        'bulletedList',\n                        'numberedList',\n                        '|',\n                        'outdent',\n                        'indent',\n                        '|',\n                        'imageUpload',\n                        'blockQuote',\n                        'insertTable',\n                        'mediaEmbed',\n                        'undo',\n                        'redo']},\n                language: 'ru',\n                image: {    toolbar: [\n                        'imageTextAlternative',\n                         'imageStyle:alignLeft',\n                        'imageStyle:inLine',\n                        'imageStyle:alignRight',\n                        'toggleImageCaption',\n                        'imageStyle:alignCenter',\n                        'imageStyle:centeredImage',\n\n                    ],\n\n                },\n                table: {contentToolbar: [\n                        'tableColumn',\n                        'tableRow',\n                        'mergeTableCells'\n                    ]\n                },\n                simpleUpload: {// The URL that the images are uploaded to.\n                    uploadUrl:  \"\",\n                    // Enable the XMLHttpRequest.withCredentials property.withCredentials: false,\n                }\n            },\n            editor:Editor\n        }),\n        created() {\n            this.author = this.$store.state.cuser.id;\n            this.loadListTags()\n            this.loadListCities()\n            this.loadListCountries()\n          this.editorConfig.simpleUpload.uploadUrl=this.$store.state.backendUrl+'api/v1/upload_img/none/'\n        },\n  mounted() {\n            this.initMap()\n      },\n  watch: {\n      content(value){\n        // binding this to the data value in the email input\n        this.content = value;\n        this.validateContent(value);\n      },\n        description(value){\n        // binding this to the data value in the email input\n        this.description = value;\n        this.validateDescription(value);\n      },\n      title(value){\n                  this.title = value;\n        this.validateTitle(value);\n      }\n    },\n        methods: {\n            cropImage() {\n                this.selected_file = this.$refs.cropper.getCroppedCanvas().toDataURL();\n            },\n            flipX() {\n                const dom = this.$refs.flipX;\n                let scale = dom.getAttribute('data-scale');\n                scale = scale ? -scale : -1;\n                this.$refs.cropper.scaleX(scale);\n                dom.setAttribute('data-scale', scale);\n            },\n            flipY() {\n                const dom = this.$refs.flipY;\n                let scale = dom.getAttribute('data-scale');\n                scale = scale ? -scale : -1;\n                this.$refs.cropper.scaleY(scale);\n                dom.setAttribute('data-scale', scale);\n            },\n            reset() {\n                this.$refs.cropper.reset();\n            },\n            rotate(deg) {\n                this.$refs.cropper.rotate(deg);\n            },\n            setImage(e) {\n                const file = e.target.files[0];\n                if (file.type.indexOf('image/') === -1) {\n                    this.toast.warning('Оберіть фото або файл');\n                    return;\n                }\n                if (typeof FileReader === 'function') {\n                    const reader = new FileReader();\n                    reader.onload = (event) => {\n                        this.imgSrc = event.target.result;\n                        // rebuild cropperjs with the updated source\n                        this.$refs.cropper.replace(event.target.result);\n                    };\n                    reader.readAsDataURL(file);\n                } else {\n                    this.toast.error('Вибачте, FileReader API не підтримується');\n                }\n            },\n            showFileChooser() {\n                this.$refs.input.click();\n            },\n            zoom(percent) {\n                this.$refs.cropper.relativeZoom(percent);\n            },\n            onFileSelected(event){\n                this.selected_file= event.target.files[0]\n            },\n            goTo(slug_u) {\n                this.$router.push({ name: 'cabinet', params: {slug: slug_u}})\n            },\n            async loadListTags() {\n                axios({url:  this.$store.state.backendUrl+`api/v1/tags?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.tags = response.data\n                    for(var el in response.data){\n                        this.opt_tags.push(response.data[el].name)\n                    }\n                })\n            },\n            async loadListCities() {\n                axios({url: this.$store.state.backendUrl+`api/v1/city?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.cities = response.data\n                    for(var el in response.data){\n                        this.opt_cities.push(response.data[el].title)\n                    }\n                })\n            },\n            async loadListCountries() {\n                axios({url: this.$store.state.backendUrl+`api/v1/country?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.countries  = response.data\n                    for(var el in response.data){\n                        this.opt_countries.push(response.data[el].title)\n                    }\n                })\n            },\n                  validateContent(value){\n        let difference = 500 - value.length;\n        if (value.length<500) {\n          this.msg['content'] = 'Повинно бути 500 символів! '+ difference + ' залишилось символів' ;\n        } else {\n          this.msg['content'] = '';\n        }},\n            validateDescription(value){\n        let difference = 100 - value.length;\n        let differensb = value.length -255;\n        if (value.length<100) {\n          this.msg['description'] = 'Повинно бути 100 символів! '+ difference + 'залишилось символів' ;\n        } else if(value.length>255){\n          this.msg['description'] ='Повинно бути не більше 255 символів! '+ differensb + ' зайвих символів';\n        }\n        else{\n            this.msg['description'] = ''\n        }},\n            validateTitle(value){\n        let difference = value.length-255;\n        if(value.length>255){\n          this.msg['title'] ='Повинно бути не більше 255 символів! '+ difference + ' зайвих символів';\n        }\n        else{\n            this.msg['title'] = ''\n        }},\n            create: function () {\n                                if(!this.msg['content'] && !this.msg['description']){\n                for(var el in this.s_cities){\n                    this.r_cities.push(this.cities.find(x=>x.title===this.s_cities[el]).slug)\n                }\n                for(var el in this.s_countries){\n                    this.r_countries.push(this.countries.find(x=>x.title===this.s_countries[el]).slug)\n                }\n                for(var el in this.s_tags){\n                    this.r_tags.push(this.tags.find(x=>x.name===this.s_tags[el]).slug)\n                }\n\n                const formData = new FormData();\n                formData.append(\"title\", this.title);\n                formData.append(\"author_id\", this.author);\n                formData.append(\"content\", this.content);\n                formData.append(\"content\", this.content);\n                for (let i in this.r_cities){\n                    formData.append(\"city\", this.r_cities[i]);}\n                for (let i in this.r_tags){\n                    formData.append(\"tags\", this.r_tags[i]);}\n                for (let i in this.r_countries){\n                    formData.append(\"country\", this.r_countries[i]);}\n                formData.append(\"description\", this.description);\n                formData.append(\"img\", this.selected_file);\n                axios({url: this.$store.state.backendUrl+'api/v1/create', data:formData, method: 'POST' }).then(resp =>{console.log(resp)\n\n                    for(var marker in this.markers){\n                                                            const formData1 = new FormData();\n                        formData1.append('lng',Number(String(this.markers[marker].getPosition().lng()).slice(0,15)))\n                        formData1.append('lat',Number(String(this.markers[marker].getPosition().lat()).slice(0,15)))\n                        axios({url: this.$store.state.backendUrl+`api/v1/add_point/${resp.data.slug}`, data:formData1, method: 'POST' }).then(resp =>{console.log(resp)})\n                                            console.log(Number(String(this.markers[marker].getPosition().lng()).slice(0,15)))\n                                            console.log(Number(String(this.markers[marker].getPosition().lat()).slice(0,15)))\n                    }\n                let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: 'blog', // put your route information in\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n                })\n             .catch(err => {this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \")})}\n                                else {\n                this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \")\n                }\n            },\n          getRoutePointsAndWaypoints(Points,marker) {\n        this.drawRoutePointsAndWaypoints(Points,marker);\n\n},\ndrawRoute(originAddress, destinationAddress, _waypoints,marker) {\n    //Define a request variable for route .\n    var _request = '';\n\n    //This is for more then two locatins\n    if (_waypoints.length > 0) {\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            waypoints: _waypoints, //an array of waypoints\n            optimizeWaypoints: true, //set to true if you want google to determine the shortest route or false to use the order specified.\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    } else {\n        //This is for one or two locations. Here noway point is used.\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    }\n\n    //This will take the request and draw the route and return response and status as output\n  var that =this\n    this.directionsService.route(_request, function(_response, _status) {\n        if (_status === google.maps.DirectionsStatus.OK) {\n            that._directionsRenderer.setDirections(_response);\n        }\n        else if(_status === google.maps.DirectionsStatus.ZERO_RESULTS){\n            that.toast.error('Неможливо поставити мітку.')\n\n            for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === marker.id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }}\n        }\n    });\n} ,\n\n drawRoutePointsAndWaypoints(Points, marker) {\n    //Define a variable for waypoints.\n    var _waypoints = new Array();\n\n    if (Points.length > 2) //Waypoints will be come.\n    {\n        for (var j = 1; j < Points.length - 1; j++) {\n            var address = Points[j];\n            if (address !== \"\") {\n                _waypoints.push({\n                    location: address,\n                    stopover: true,  //stopover is used to show marker on map for waypoints\n\n                });\n            }\n        }\n        //Call a drawRoute() function\n        this.drawRoute(Points[0], Points[Points.length - 1], _waypoints,marker);\n    } else if (Points.length > 1) {\n        //Call a drawRoute() function only for start and end locations\n        this.drawRoute(Points[this.latLang.length - 2], Points[Points.length - 1], _waypoints, marker);\n    } else {\n        //Call a drawRoute() function only for one point as start and end locations.\n        this.drawRoute(Points[this.latLang.length - 1], Points[Points.length - 1], _waypoints, marker);\n    }\n} ,\n           placeMarker(map,marker) {\n\n    marker.id= this.marker_id\n             this.marker_id++\n    this.markers.push(marker)\n               return marker\n},\n\n    initMap(){\n\nvar zoom_option = 1;\n\n\nconst map = new google.maps.Map(this.$refs.googleMap, {\n      ...this.mapOptions\n    })\n\n    this._directionsRenderer.setMap(map);\n    this._directionsRenderer.setOptions({\n        draggable: true,\n                                suppressMarkers: true,\n\n    });\n\n      var that =this\ngoogle.maps.event.addListener(map, 'click', function(event) {\n      var marker = new google.maps.Marker({\n        position: event.latLng,\n        map: map,\n    });\n          that.latLang.push(event.latLng)\n             that.LegPoints.push('');\n             that.LegPoints.push('');\n             that.placeMarker(map,marker);\n   var id = marker.id\n        that.getRoutePointsAndWaypoints(that.latLang,marker);\n\n                google.maps.event.addListener(marker, \"click\", function (e) {\n\n                  for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === marker.id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }}\n\n                })\n});\n          google.maps.event.addListener(this._directionsRenderer, 'directions_changed', function() {\n        var myroute = this._directionsRenderer.directions.routes[0];\n        CreateRoute(myroute);\n        zoom_option = map.getZoom();\n    });\n\n    },\n    }\n}\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style >\n\n    .multiselect-tag.is-user i:before {\n        color: #ffffff;\n        border-radius: 50%;;\n    }\n.google-map {\n  width: 100%;\n  height: 450px;\n}\n</style>"],"mappings":"AAwIA,OAAOA,KAAI,MAAO,OAAO;AAEzB,OAAOC,QAAO,MAAO,yBAAyB;AAC9C,OAAOC,UAAS,MAAO,eAAe;AACtC,OAAO,4BAA4B;AACnC,OAAOC,MAAK,MAAO,kCAAkC;AACnD,OAAOC,WAAU,MAAO,sBAAqB;AAC/C,SAAQC,QAAQ,QAAO,oBAAoB;AAC3C,eAAe;EACXC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IACRC,QAAQ,EAAEP,QAAQ,CAACQ,SAAS;IAAEP,UAAU;IAACE;EAC7C,CAAC;EACDM,IAAI,EAAEA,CAAA,MAAO;IACTC,MAAM,EAAC,IAAI;IACXC,WAAW,EAAE,EAAE;IACfC,KAAK,EAAC,EAAE;IACRC,OAAO,EAAC,EAAE;IACVC,MAAM,EAAC,EAAE;IACTC,aAAa,EAAE,IAAI;IACnBC,MAAM,EAAC,EAAE;IACTC,IAAI,EAAC,EAAE;IACPC,MAAM,EAAC,EAAE;IACTC,SAAS,EAAC,EAAE;IACZC,QAAQ,EAAC,EAAE;IACXC,UAAU,EAAC,EAAE;IACbC,aAAa,EAAC,EAAE;IAChBC,MAAM,EAAC,EAAE;IACTC,QAAQ,EAAC,EAAE;IACXC,WAAW,EAAC,EAAE;IACdC,MAAM,EAAC,EAAE;IACTC,QAAQ,EAAC,EAAE;IACXC,WAAW,EAAC,EAAE;IACdC,GAAG,EAAC,EAAE;IACNC,KAAI,EAAI1B,QAAQ,CAAC,CAAC;IACpB2B,OAAO,EAAC,EAAE;IACVC,SAAS,EAAC,CAAC;IACXC,OAAO,EAAC,EAAE;IACVC,SAAS,EAAC,EAAE;IACZC,iBAAiB,EAAC,IAAIC,MAAM,CAACC,IAAI,CAACC,iBAAiB,CAAC,CAAC;IACrDC,mBAAmB,EAAC,IAAIH,MAAM,CAACC,IAAI,CAACG,kBAAkB,CAAC,CAAC;IAC9DC,MAAM,EAAE,IAAIL,MAAM,CAACC,IAAI,CAACK,YAAY,CAAC,CAAC;IAAE;IAClCC,UAAU,EAAE;MACVC,MAAM,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAEC,GAAG,EAAE;MAAQ,CAAC;MACjCC,WAAW,EAAE,IAAI;MACjBC,IAAI,EAAE,CAAC;MACPC,eAAe,EAAE;IACrB,CAAC;IACGC,YAAY,EAAE;MACVC,OAAO,EAAE;QACLC,KAAK,EAAE,CACC,SAAS,EACT,GAAG,EACH,MAAM,EACN,QAAQ,EACR,MAAM,EACN,cAAc,EACd,cAAc,EACd,GAAG,EACH,SAAS,EACT,QAAQ,EACR,GAAG,EACH,aAAa,EACb,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,MAAM,EACN,MAAM;MAAC,CAAC;MAChBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;QAAKH,OAAO,EAAE,CACb,sBAAsB,EACrB,sBAAsB,EACvB,mBAAmB,EACnB,uBAAuB,EACvB,oBAAoB,EACpB,wBAAwB,EACxB,0BAA0B;MAIlC,CAAC;MACDI,KAAK,EAAE;QAACC,cAAc,EAAE,CAChB,aAAa,EACb,UAAU,EACV,iBAAgB;MAExB,CAAC;MACDC,YAAY,EAAE;QAAC;QACXC,SAAS,EAAG;QACZ;MACJ;IACJ,CAAC;;IACDC,MAAM,EAACzD;EACX,CAAC,CAAC;EACF0D,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC9C,MAAK,GAAI,IAAI,CAAC+C,MAAM,CAACC,KAAK,CAACC,KAAK,CAACC,EAAE;IACxC,IAAI,CAACC,YAAY,CAAC;IAClB,IAAI,CAACC,cAAc,CAAC;IACpB,IAAI,CAACC,iBAAiB,CAAC;IACzB,IAAI,CAACjB,YAAY,CAACO,YAAY,CAACC,SAAS,GAAC,IAAI,CAACG,MAAM,CAACC,KAAK,CAACM,UAAU,GAAC,yBAAwB;EAChG,CAAC;EACPC,OAAOA,CAAA,EAAG;IACA,IAAI,CAACC,OAAO,CAAC;EACnB,CAAC;EACLC,KAAK,EAAE;IACH1D,OAAOA,CAAC2D,KAAK,EAAC;MACZ;MACA,IAAI,CAAC3D,OAAM,GAAI2D,KAAK;MACpB,IAAI,CAACC,eAAe,CAACD,KAAK,CAAC;IAC7B,CAAC;IACC7D,WAAWA,CAAC6D,KAAK,EAAC;MAClB;MACA,IAAI,CAAC7D,WAAU,GAAI6D,KAAK;MACxB,IAAI,CAACE,mBAAmB,CAACF,KAAK,CAAC;IACjC,CAAC;IACD5D,KAAKA,CAAC4D,KAAK,EAAC;MACA,IAAI,CAAC5D,KAAI,GAAI4D,KAAK;MAC5B,IAAI,CAACG,aAAa,CAACH,KAAK,CAAC;IAC3B;EACF,CAAC;EACGI,OAAO,EAAE;IACLC,SAASA,CAAA,EAAG;MACR,IAAI,CAAC9D,aAAY,GAAI,IAAI,CAAC+D,KAAK,CAACC,OAAO,CAACC,gBAAgB,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC;IAC1E,CAAC;IACDC,KAAKA,CAAA,EAAG;MACJ,MAAMC,GAAE,GAAI,IAAI,CAACL,KAAK,CAACI,KAAK;MAC5B,IAAIE,KAAI,GAAID,GAAG,CAACE,YAAY,CAAC,YAAY,CAAC;MAC1CD,KAAI,GAAIA,KAAI,GAAI,CAACA,KAAI,GAAI,CAAC,CAAC;MAC3B,IAAI,CAACN,KAAK,CAACC,OAAO,CAACO,MAAM,CAACF,KAAK,CAAC;MAChCD,GAAG,CAACI,YAAY,CAAC,YAAY,EAAEH,KAAK,CAAC;IACzC,CAAC;IACDI,KAAKA,CAAA,EAAG;MACJ,MAAML,GAAE,GAAI,IAAI,CAACL,KAAK,CAACU,KAAK;MAC5B,IAAIJ,KAAI,GAAID,GAAG,CAACE,YAAY,CAAC,YAAY,CAAC;MAC1CD,KAAI,GAAIA,KAAI,GAAI,CAACA,KAAI,GAAI,CAAC,CAAC;MAC3B,IAAI,CAACN,KAAK,CAACC,OAAO,CAACU,MAAM,CAACL,KAAK,CAAC;MAChCD,GAAG,CAACI,YAAY,CAAC,YAAY,EAAEH,KAAK,CAAC;IACzC,CAAC;IACDM,KAAKA,CAAA,EAAG;MACJ,IAAI,CAACZ,KAAK,CAACC,OAAO,CAACW,KAAK,CAAC,CAAC;IAC9B,CAAC;IACDC,MAAMA,CAACC,GAAG,EAAE;MACR,IAAI,CAACd,KAAK,CAACC,OAAO,CAACY,MAAM,CAACC,GAAG,CAAC;IAClC,CAAC;IACDC,QAAQA,CAACC,CAAC,EAAE;MACR,MAAMC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC9B,IAAIF,IAAI,CAACG,IAAI,CAACC,OAAO,CAAC,QAAQ,MAAM,CAAC,CAAC,EAAE;QACpC,IAAI,CAACrE,KAAK,CAACsE,OAAO,CAAC,uBAAuB,CAAC;QAC3C;MACJ;MACA,IAAI,OAAOC,UAAS,KAAM,UAAU,EAAE;QAClC,MAAMC,MAAK,GAAI,IAAID,UAAU,CAAC,CAAC;QAC/BC,MAAM,CAACC,MAAK,GAAKC,KAAK,IAAK;UACvB,IAAI,CAACxF,MAAK,GAAIwF,KAAK,CAACR,MAAM,CAACS,MAAM;UACjC;UACA,IAAI,CAAC3B,KAAK,CAACC,OAAO,CAAC2B,OAAO,CAACF,KAAK,CAACR,MAAM,CAACS,MAAM,CAAC;QACnD,CAAC;QACDH,MAAM,CAACK,aAAa,CAACZ,IAAI,CAAC;MAC9B,OAAO;QACH,IAAI,CAACjE,KAAK,CAAC8E,KAAK,CAAC,0CAA0C,CAAC;MAChE;IACJ,CAAC;IACDC,eAAeA,CAAA,EAAG;MACd,IAAI,CAAC/B,KAAK,CAACgC,KAAK,CAACC,KAAK,CAAC,CAAC;IAC5B,CAAC;IACD/D,IAAIA,CAACgE,OAAO,EAAE;MACV,IAAI,CAAClC,KAAK,CAACC,OAAO,CAACkC,YAAY,CAACD,OAAO,CAAC;IAC5C,CAAC;IACDE,cAAcA,CAACV,KAAK,EAAC;MACjB,IAAI,CAACzF,aAAa,GAAEyF,KAAK,CAACR,MAAM,CAACC,KAAK,CAAC,CAAC;IAC5C,CAAC;IACDkB,IAAIA,CAACC,MAAM,EAAE;MACT,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEjH,IAAI,EAAE,SAAS;QAAEkH,MAAM,EAAE;UAACC,IAAI,EAAEJ;QAAM;MAAC,CAAC;IAChE,CAAC;IACD,MAAMnD,YAAYA,CAAA,EAAG;MACjBlE,KAAK,CAAC;QAAC0H,GAAG,EAAG,IAAI,CAAC5D,MAAM,CAACC,KAAK,CAACM,UAAU,GAAE,+BAA8B;QAAEsD,MAAM,EAAE,KAAK;QAACC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAmB;MAAC,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAAC,IAAI,CAAC5G,IAAG,GAAI4G,QAAQ,CAACpH,IAAG;QAChL,KAAI,IAAIqH,EAAC,IAAKD,QAAQ,CAACpH,IAAI,EAAC;UACxB,IAAI,CAACW,QAAQ,CAACkG,IAAI,CAACO,QAAQ,CAACpH,IAAI,CAACqH,EAAE,CAAC,CAACzH,IAAI;QAC7C;MACJ,CAAC;IACL,CAAC;IACD,MAAM6D,cAAcA,CAAA,EAAG;MACnBnE,KAAK,CAAC;QAAC0H,GAAG,EAAE,IAAI,CAAC5D,MAAM,CAACC,KAAK,CAACM,UAAU,GAAE,+BAA8B;QAAEsD,MAAM,EAAE,KAAK;QAACC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAmB;MAAC,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAAC,IAAI,CAAC3G,MAAK,GAAI2G,QAAQ,CAACpH,IAAG;QACjL,KAAI,IAAIqH,EAAC,IAAKD,QAAQ,CAACpH,IAAI,EAAC;UACxB,IAAI,CAACY,UAAU,CAACiG,IAAI,CAACO,QAAQ,CAACpH,IAAI,CAACqH,EAAE,CAAC,CAAClH,KAAK;QAChD;MACJ,CAAC;IACL,CAAC;IACD,MAAMuD,iBAAiBA,CAAA,EAAG;MACtBpE,KAAK,CAAC;QAAC0H,GAAG,EAAE,IAAI,CAAC5D,MAAM,CAACC,KAAK,CAACM,UAAU,GAAE,kCAAiC;QAAEsD,MAAM,EAAE,KAAK;QAACC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAmB;MAAC,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAAC,IAAI,CAAC1G,SAAQ,GAAK0G,QAAQ,CAACpH,IAAG;QACxL,KAAI,IAAIqH,EAAC,IAAKD,QAAQ,CAACpH,IAAI,EAAC;UACxB,IAAI,CAACa,aAAa,CAACgG,IAAI,CAACO,QAAQ,CAACpH,IAAI,CAACqH,EAAE,CAAC,CAAClH,KAAK;QACnD;MACJ,CAAC;IACL,CAAC;IACK6D,eAAeA,CAACD,KAAK,EAAC;MAChC,IAAIuD,UAAS,GAAI,GAAE,GAAIvD,KAAK,CAACwD,MAAM;MACnC,IAAIxD,KAAK,CAACwD,MAAM,GAAC,GAAG,EAAE;QACpB,IAAI,CAACnG,GAAG,CAAC,SAAS,IAAI,6BAA6B,GAAEkG,UAAS,GAAI,sBAAqB;MACzF,OAAO;QACL,IAAI,CAAClG,GAAG,CAAC,SAAS,IAAI,EAAE;MAC1B;IAAC,CAAC;IACE6C,mBAAmBA,CAACF,KAAK,EAAC;MAC9B,IAAIuD,UAAS,GAAI,GAAE,GAAIvD,KAAK,CAACwD,MAAM;MACnC,IAAIC,UAAS,GAAIzD,KAAK,CAACwD,MAAK,GAAG,GAAG;MAClC,IAAIxD,KAAK,CAACwD,MAAM,GAAC,GAAG,EAAE;QACpB,IAAI,CAACnG,GAAG,CAAC,aAAa,IAAI,6BAA6B,GAAEkG,UAAS,GAAI,qBAAoB;MAC5F,OAAO,IAAGvD,KAAK,CAACwD,MAAM,GAAC,GAAG,EAAC;QACzB,IAAI,CAACnG,GAAG,CAAC,aAAa,IAAG,uCAAuC,GAAEoG,UAAS,GAAI,kBAAkB;MACnG,OACI;QACA,IAAI,CAACpG,GAAG,CAAC,aAAa,IAAI,EAAC;MAC/B;IAAC,CAAC;IACE8C,aAAaA,CAACH,KAAK,EAAC;MACxB,IAAIuD,UAAS,GAAIvD,KAAK,CAACwD,MAAM,GAAC,GAAG;MACjC,IAAGxD,KAAK,CAACwD,MAAM,GAAC,GAAG,EAAC;QAClB,IAAI,CAACnG,GAAG,CAAC,OAAO,IAAG,uCAAuC,GAAEkG,UAAS,GAAI,kBAAkB;MAC7F,OACI;QACA,IAAI,CAAClG,GAAG,CAAC,OAAO,IAAI,EAAC;MACzB;IAAC,CAAC;IACEqG,MAAM,EAAE,SAAAA,CAAA,EAAY;MACA,IAAG,CAAC,IAAI,CAACrG,GAAG,CAAC,SAAS,KAAK,CAAC,IAAI,CAACA,GAAG,CAAC,aAAa,CAAC,EAAC;QACpE,KAAI,IAAIiG,EAAC,IAAK,IAAI,CAACtG,QAAQ,EAAC;UACxB,IAAI,CAACG,QAAQ,CAAC2F,IAAI,CAAC,IAAI,CAACpG,MAAM,CAACiH,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACxH,KAAK,KAAG,IAAI,CAACY,QAAQ,CAACsG,EAAE,CAAC,CAAC,CAACN,IAAI;QAC5E;QACA,KAAI,IAAIM,EAAC,IAAK,IAAI,CAACrG,WAAW,EAAC;UAC3B,IAAI,CAACG,WAAW,CAAC0F,IAAI,CAAC,IAAI,CAACnG,SAAS,CAACgH,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACxH,KAAK,KAAG,IAAI,CAACa,WAAW,CAACqG,EAAE,CAAC,CAAC,CAACN,IAAI;QACrF;QACA,KAAI,IAAIM,EAAC,IAAK,IAAI,CAACvG,MAAM,EAAC;UACtB,IAAI,CAACG,MAAM,CAAC4F,IAAI,CAAC,IAAI,CAACrG,IAAI,CAACkH,IAAI,CAACC,CAAC,IAAEA,CAAC,CAAC/H,IAAI,KAAG,IAAI,CAACkB,MAAM,CAACuG,EAAE,CAAC,CAAC,CAACN,IAAI;QACrE;QAEA,MAAMa,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC3H,KAAK,CAAC;QACpCyH,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAACzH,MAAM,CAAC;QACzCuH,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC1H,OAAO,CAAC;QACxCwH,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC1H,OAAO,CAAC;QACxC,KAAK,IAAI2H,CAAA,IAAK,IAAI,CAAC7G,QAAQ,EAAC;UACxB0G,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC5G,QAAQ,CAAC6G,CAAC,CAAC,CAAC;QAAC;QAC9C,KAAK,IAAIA,CAAA,IAAK,IAAI,CAAC9G,MAAM,EAAC;UACtB2G,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC7G,MAAM,CAAC8G,CAAC,CAAC,CAAC;QAAC;QAC5C,KAAK,IAAIA,CAAA,IAAK,IAAI,CAAC5G,WAAW,EAAC;UAC3ByG,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC3G,WAAW,CAAC4G,CAAC,CAAC,CAAC;QAAC;QACpDH,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC5H,WAAW,CAAC;QAChD0H,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAE,IAAI,CAACxH,aAAa,CAAC;QAC1ChB,KAAK,CAAC;UAAC0H,GAAG,EAAE,IAAI,CAAC5D,MAAM,CAACC,KAAK,CAACM,UAAU,GAAC,eAAe;UAAE3D,IAAI,EAAC4H,QAAQ;UAAEX,MAAM,EAAE;QAAO,CAAC,CAAC,CAACE,IAAI,CAACa,IAAG,IAAI;UAACC,OAAO,CAACC,GAAG,CAACF,IAAI;UAEpH,KAAI,IAAIG,MAAK,IAAK,IAAI,CAAC7G,OAAO,EAAC;YACS,MAAM8G,SAAQ,GAAI,IAAIP,QAAQ,CAAC,CAAC;YACpEO,SAAS,CAACN,MAAM,CAAC,KAAK,EAACO,MAAM,CAACC,MAAM,CAAC,IAAI,CAAChH,OAAO,CAAC6G,MAAM,CAAC,CAACI,WAAW,CAAC,CAAC,CAAClG,GAAG,CAAC,CAAC,CAAC,CAACmG,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;YAC3FJ,SAAS,CAACN,MAAM,CAAC,KAAK,EAACO,MAAM,CAACC,MAAM,CAAC,IAAI,CAAChH,OAAO,CAAC6G,MAAM,CAAC,CAACI,WAAW,CAAC,CAAC,CAACnG,GAAG,CAAC,CAAC,CAAC,CAACoG,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;YAC3FlJ,KAAK,CAAC;cAAC0H,GAAG,EAAE,IAAI,CAAC5D,MAAM,CAACC,KAAK,CAACM,UAAU,GAAE,oBAAmBqE,IAAI,CAAChI,IAAI,CAAC+G,IAAK,EAAC;cAAE/G,IAAI,EAACoI,SAAS;cAAEnB,MAAM,EAAE;YAAO,CAAC,CAAC,CAACE,IAAI,CAACa,IAAG,IAAI;cAACC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;YAAA,CAAC;YAC5HC,OAAO,CAACC,GAAG,CAACG,MAAM,CAACC,MAAM,CAAC,IAAI,CAAChH,OAAO,CAAC6G,MAAM,CAAC,CAACI,WAAW,CAAC,CAAC,CAAClG,GAAG,CAAC,CAAC,CAAC,CAACmG,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;YAChFP,OAAO,CAACC,GAAG,CAACG,MAAM,CAACC,MAAM,CAAC,IAAI,CAAChH,OAAO,CAAC6G,MAAM,CAAC,CAACI,WAAW,CAAC,CAAC,CAACnG,GAAG,CAAC,CAAC,CAAC,CAACoG,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;UACxG;UACJ,IAAIC,CAAA,GAAI,IAAI,CAAC7B,OAAO,CAAC8B,OAAO,CAAC;YACrC9I,IAAI,EAAE,MAAM,CAAE;UACf,CAAC;;UACD+I,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACJ,CAAC,CAACK,IAAI;QACpB,CAAC,EACHC,KAAK,CAACC,GAAE,IAAK;UAAC,IAAI,CAAC3H,KAAK,CAAC8E,KAAK,CAAC,iEAAiE,CAAC;QAAA,CAAC,CAAC;MAAA,OAC5E;QACrB,IAAI,CAAC9E,KAAK,CAAC8E,KAAK,CAAC,iEAAiE;MAClF;IACJ,CAAC;IACH8C,0BAA0BA,CAACC,MAAM,EAACf,MAAM,EAAE;MAC5C,IAAI,CAACgB,2BAA2B,CAACD,MAAM,EAACf,MAAM,CAAC;IAEvD,CAAC;IACDiB,SAASA,CAACC,aAAa,EAAEC,kBAAkB,EAAEC,UAAU,EAACpB,MAAM,EAAE;MAC5D;MACA,IAAIqB,QAAO,GAAI,EAAE;;MAEjB;MACA,IAAID,UAAU,CAAChC,MAAK,GAAI,CAAC,EAAE;QACvBiC,QAAO,GAAI;UACPC,MAAM,EAAEJ,aAAa;UACrBK,WAAW,EAAEJ,kBAAkB;UAC/BK,SAAS,EAAEJ,UAAU;UAAE;UACvBK,iBAAiB,EAAE,IAAI;UAAE;UACzBC,UAAU,EAAElI,MAAM,CAACC,IAAI,CAACkI,oBAAoB,CAACC;QACjD,CAAC;MACL,OAAO;QACH;QACAP,QAAO,GAAI;UACPC,MAAM,EAAEJ,aAAa;UACrBK,WAAW,EAAEJ,kBAAkB;UAC/BO,UAAU,EAAElI,MAAM,CAACC,IAAI,CAACkI,oBAAoB,CAACC;QACjD,CAAC;MACL;;MAEA;MACF,IAAIC,IAAG,GAAG,IAAG;MACX,IAAI,CAACtI,iBAAiB,CAACuI,KAAK,CAACT,QAAQ,EAAE,UAASU,SAAS,EAAEC,OAAO,EAAE;QAChE,IAAIA,OAAM,KAAMxI,MAAM,CAACC,IAAI,CAACwI,gBAAgB,CAACC,EAAE,EAAE;UAC7CL,IAAI,CAAClI,mBAAmB,CAACwI,aAAa,CAACJ,SAAS,CAAC;QACrD,OACK,IAAGC,OAAM,KAAMxI,MAAM,CAACC,IAAI,CAACwI,gBAAgB,CAACG,YAAY,EAAC;UAC1DP,IAAI,CAAC3I,KAAK,CAAC8E,KAAK,CAAC,4BAA4B;UAE7C,KAAK,IAAI4B,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIiC,IAAI,CAAC1I,OAAO,CAACiG,MAAM,EAAEQ,CAAC,EAAE,EAAE;YAC9C,IAAIiC,IAAI,CAAC1I,OAAO,CAACyG,CAAC,CAAC,CAACxE,EAAC,KAAM4E,MAAM,CAAC5E,EAAE,EAAE;cACpC;cACA4E,MAAM,CAACqC,MAAM,CAAC,IAAI,CAAC;cACnB;cACAR,IAAI,CAAC1I,OAAO,CAACmJ,MAAM,CAAC1C,CAAC,EAAE,CAAC,CAAC;cACzBiC,IAAI,CAACxI,OAAO,CAACiJ,MAAM,CAAC1C,CAAC,EAAE,CAAC,CAAC;cACzB;YACF;UAAC;QACL;MACJ,CAAC,CAAC;IACN;IAECoB,2BAA2BA,CAACD,MAAM,EAAEf,MAAM,EAAE;MACzC;MACA,IAAIoB,UAAS,GAAI,IAAImB,KAAK,CAAC,CAAC;MAE5B,IAAIxB,MAAM,CAAC3B,MAAK,GAAI,CAAC;QAAE;QACvB;UACI,KAAK,IAAIoD,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIzB,MAAM,CAAC3B,MAAK,GAAI,CAAC,EAAEoD,CAAC,EAAE,EAAE;YACxC,IAAIC,OAAM,GAAI1B,MAAM,CAACyB,CAAC,CAAC;YACvB,IAAIC,OAAM,KAAM,EAAE,EAAE;cAChBrB,UAAU,CAAC1C,IAAI,CAAC;gBACZ+B,QAAQ,EAAEgC,OAAO;gBACjBC,QAAQ,EAAE,IAAI,CAAG;cAErB,CAAC,CAAC;YACN;UACJ;UACA;UACA,IAAI,CAACzB,SAAS,CAACF,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAACA,MAAM,CAAC3B,MAAK,GAAI,CAAC,CAAC,EAAEgC,UAAU,EAACpB,MAAM,CAAC;QAC3E,OAAO,IAAIe,MAAM,CAAC3B,MAAK,GAAI,CAAC,EAAE;QAC1B;QACA,IAAI,CAAC6B,SAAS,CAACF,MAAM,CAAC,IAAI,CAAC1H,OAAO,CAAC+F,MAAK,GAAI,CAAC,CAAC,EAAE2B,MAAM,CAACA,MAAM,CAAC3B,MAAK,GAAI,CAAC,CAAC,EAAEgC,UAAU,EAAEpB,MAAM,CAAC;MAClG,OAAO;QACH;QACA,IAAI,CAACiB,SAAS,CAACF,MAAM,CAAC,IAAI,CAAC1H,OAAO,CAAC+F,MAAK,GAAI,CAAC,CAAC,EAAE2B,MAAM,CAACA,MAAM,CAAC3B,MAAK,GAAI,CAAC,CAAC,EAAEgC,UAAU,EAAEpB,MAAM,CAAC;MAClG;IACJ;IACW2C,WAAWA,CAACC,GAAG,EAAC5C,MAAM,EAAE;MAE/BA,MAAM,CAAC5E,EAAE,GAAE,IAAI,CAAChC,SAAQ;MACf,IAAI,CAACA,SAAS,EAAC;MACxB,IAAI,CAACD,OAAO,CAACuF,IAAI,CAACsB,MAAM;MACb,OAAOA,MAAK;IAC3B,CAAC;IAEGtE,OAAOA,CAAA,EAAE;MAEb,IAAImH,WAAU,GAAI,CAAC;MAGnB,MAAMD,GAAE,GAAI,IAAIpJ,MAAM,CAACC,IAAI,CAACqJ,GAAG,CAAC,IAAI,CAAC5G,KAAK,CAAC6G,SAAS,EAAE;QAChD,GAAG,IAAI,CAAChJ;MACV,CAAC;MAED,IAAI,CAACJ,mBAAmB,CAAC0I,MAAM,CAACO,GAAG,CAAC;MACpC,IAAI,CAACjJ,mBAAmB,CAACqJ,UAAU,CAAC;QAChCC,SAAS,EAAE,IAAI;QACSC,eAAe,EAAE;MAE7C,CAAC,CAAC;MAEA,IAAIrB,IAAG,GAAG,IAAG;MACnBrI,MAAM,CAACC,IAAI,CAACmE,KAAK,CAACuF,WAAW,CAACP,GAAG,EAAE,OAAO,EAAE,UAAShF,KAAK,EAAE;QACtD,IAAIoC,MAAK,GAAI,IAAIxG,MAAM,CAACC,IAAI,CAAC2J,MAAM,CAAC;UAClCC,QAAQ,EAAEzF,KAAK,CAAC0F,MAAM;UACtBV,GAAG,EAAEA;QACT,CAAC,CAAC;QACIf,IAAI,CAACxI,OAAO,CAACqF,IAAI,CAACd,KAAK,CAAC0F,MAAM;QAC3BzB,IAAI,CAACvI,SAAS,CAACoF,IAAI,CAAC,EAAE,CAAC;QACvBmD,IAAI,CAACvI,SAAS,CAACoF,IAAI,CAAC,EAAE,CAAC;QACvBmD,IAAI,CAACc,WAAW,CAACC,GAAG,EAAC5C,MAAM,CAAC;QACtC,IAAI5E,EAAC,GAAI4E,MAAM,CAAC5E,EAAC;QACZyG,IAAI,CAACf,0BAA0B,CAACe,IAAI,CAACxI,OAAO,EAAC2G,MAAM,CAAC;QAE5CxG,MAAM,CAACC,IAAI,CAACmE,KAAK,CAACuF,WAAW,CAACnD,MAAM,EAAE,OAAO,EAAE,UAAU9C,CAAC,EAAE;UAE1D,KAAK,IAAI0C,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIiC,IAAI,CAAC1I,OAAO,CAACiG,MAAM,EAAEQ,CAAC,EAAE,EAAE;YACpD,IAAIiC,IAAI,CAAC1I,OAAO,CAACyG,CAAC,CAAC,CAACxE,EAAC,KAAM4E,MAAM,CAAC5E,EAAE,EAAE;cACpC;cACA4E,MAAM,CAACqC,MAAM,CAAC,IAAI,CAAC;cACnB;cACAR,IAAI,CAAC1I,OAAO,CAACmJ,MAAM,CAAC1C,CAAC,EAAE,CAAC,CAAC;cACzBiC,IAAI,CAACxI,OAAO,CAACiJ,MAAM,CAAC1C,CAAC,EAAE,CAAC,CAAC;cACzB;YACF;UAAC;QAEG,CAAC;MACjB,CAAC,CAAC;MACQpG,MAAM,CAACC,IAAI,CAACmE,KAAK,CAACuF,WAAW,CAAC,IAAI,CAACxJ,mBAAmB,EAAE,oBAAoB,EAAE,YAAW;QAC3F,IAAI4J,OAAM,GAAI,IAAI,CAAC5J,mBAAmB,CAAC6J,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC;QAC3DC,WAAW,CAACH,OAAO,CAAC;QACpBV,WAAU,GAAID,GAAG,CAACe,OAAO,CAAC,CAAC;MAC/B,CAAC,CAAC;IAEF;EACA;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}