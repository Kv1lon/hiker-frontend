{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-612d761a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"b\"\n};\nconst _hoisted_2 = {\n  class: \"table table-dark\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Id\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Дата створення\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Назва\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Користувач\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Детальніше\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\"\n}, \"Видалити\")])], -1));\nconst _hoisted_4 = {\n  \"data-aos\": \"fade-in\",\n  \"data-aos-delay\": \"300\"\n};\nconst _hoisted_5 = {\n  scope: \"row\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 0,\n  class: \"no_a\",\n  \"data-aos\": \"fade-in\",\n  \"data-aos-delay\": \"300\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Pagination = _resolveComponent(\"Pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.listTickets, ticket => {\n    return _openBlock(), _createElementBlock(\"tr\", _hoisted_4, [_createElementVNode(\"th\", _hoisted_5, _toDisplayString(ticket.id), 1), _createElementVNode(\"td\", null, _toDisplayString(ticket.date), 1), _createElementVNode(\"td\", null, _toDisplayString(ticket.text_id), 1), _createElementVNode(\"td\", null, _toDisplayString(ticket.user), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", null, [_createElementVNode(\"button\", {\n      onClick: _withModifiers($event => $options.goTo(ticket.slug), [\"prevent\"]),\n      class: \"btn btn-dark\"\n    }, \"Детальніше\", 8, _hoisted_6)])]), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", null, [_createElementVNode(\"button\", {\n      onClick: _withModifiers($event => $options.delete_p(ticket.slug), [\"prevent\"]),\n      class: \"btn btn-dark\"\n    }, \"Видалити\", 8, _hoisted_7)])])]);\n  }), 256))])]), _ctx.listTickets.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" У Вас ще немає білетів \")) : _createCommentVNode(\"\", true), _createVNode(_component_Pagination, {\n    next: _ctx.next,\n    prev: _ctx.prev,\n    searchq: _ctx.search,\n    onPageChanged: $options.loadListTickets\n  }, null, 8, [\"next\", \"prev\", \"searchq\", \"onPageChanged\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","_ctx","listTickets","ticket","_hoisted_4","_hoisted_5","_toDisplayString","id","date","text_id","user","onClick","_withModifiers","$event","$options","goTo","slug","_hoisted_6","delete_p","_hoisted_7","length","_hoisted_8","_createVNode","_component_Pagination","next","prev","searchq","search","onPageChanged","loadListTickets"],"sources":["/home/oliverqa/Documents/hiker-frontend/src/views/tickets_cab.vue"],"sourcesContent":["<template>\n  <div class=\"b\">\n    <table  class=\"table table-dark\"><thead><tr>\n      <th scope=\"col\">Id</th>\n      <th scope=\"col\">Дата створення</th>\n      <th scope=\"col\">Назва</th>\n      <th scope=\"col\">Користувач</th>\n      <th scope=\"col\">Детальніше</th>\n      <th scope=\"col\">Видалити</th>\n    </tr>\n    </thead>\n\n\n      <tbody>\n      <tr data-aos=\"fade-in\" data-aos-delay=\"300\" v-for=\"ticket in listTickets\">\n        <th scope=\"row\">{{ticket.id}}</th>\n        <td>{{ticket.date}}</td>\n        <td>{{ticket.text_id}}</td>\n        <td>{{ticket.user}}</td>\n        <td><a><button @click.prevent=\"goTo(ticket.slug)\" class=\" btn btn-dark\">Детальніше</button></a></td>\n\n        <td><a><button @click.prevent=\"delete_p(ticket.slug)\" class=\" btn btn-dark\" >Видалити</button></a></td>\n      </tr>\n\n      </tbody>\n\n\n</table>\n           <div class=\"no_a\" data-aos=\"fade-in\" data-aos-delay=\"300\" v-if=\"listTickets.length === 0\">\nУ Вас ще немає білетів\n      </div>\n    <Pagination :next=\"next\" :prev=\"prev\" :searchq=\"search\"  @page-changed=\"loadListTickets\"/>\n</div>\n</template>\n\n<script>\n  import axios from \"axios\";\n    import Pagination from \"../components/Pagination\";\n  export default {\n    name: \"tickets_cab\",\n    props:['slug'],\n    components:{Pagination},\n    data: () => ({\n      listTickets:[],\n      next:``,\n      prev:``,\n      url:``,\n      search:\"\",\n    }),created() {\n      this.url = `${this.$store.getters.getServerUrl}api/v1/list_tickets/${this.$store.state.cuser.slug}?limit=10`, this.loadListTickets(this.url)\n    },\n    methods: {\n      async loadListTickets(url) {\n        axios({url: url, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.listTickets  = response.data.results,this.total = response.data.count,this.prev = response.data.previous,this.next = response.data.next})\n        console.log(this.listTickets)\n      },\n      goTo(slug) {\n        this.$router.push({ name: 'tickets_cab_single', params: {slug: slug}})\n      },\n      delete_p(slug_p){\n        axios({url: this.$store.state.backendUrl+`api/v1/delete_ticket/${slug_p}`, method: 'DELETE',}).then(resp =>{console.log(resp)} ).then(() => this.$router.go())\n      },\n    },}\n</script>\n\n<style scoped>\n.no_a{\n  font-size: 20px;\n  font-weight: bold;\n  display: flex;\n  justify-content: space-around;\n}\n.b{margin-bottom: 30%;\n}\n</style>\n\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAG;;EACJA,KAAK,EAAC;AAAkB;gEAACC,mBAAA,CAQzB,gB,aARgCA,mBAAA,CAOnC,a,aANHA,mBAAA,CAAuB;EAAnBC,KAAK,EAAC;AAAK,GAAC,IAAE,G,aAClBD,mBAAA,CAAmC;EAA/BC,KAAK,EAAC;AAAK,GAAC,gBAAc,G,aAC9BD,mBAAA,CAA0B;EAAtBC,KAAK,EAAC;AAAK,GAAC,OAAK,G,aACrBD,mBAAA,CAA+B;EAA3BC,KAAK,EAAC;AAAK,GAAC,YAAU,G,aAC1BD,mBAAA,CAA+B;EAA3BC,KAAK,EAAC;AAAK,GAAC,YAAU,G,aAC1BD,mBAAA,CAA6B;EAAzBC,KAAK,EAAC;AAAK,GAAC,UAAQ,E;;EAMpB,UAAQ,EAAC,SAAS;EAAC,gBAAc,EAAC;;;EAChCA,KAAK,EAAC;AAAK;;;;;EAaPF,KAAK,EAAC,MAAM;EAAC,UAAQ,EAAC,SAAS;EAAC,gBAAc,EAAC;;;;uBA3B7DG,mBAAA,CA+BI,OA/BJC,UA+BI,GA9BFH,mBAAA,CAyBI,SAzBJI,UAyBI,GAzB6BC,UAQzB,EAGNL,mBAAA,CAWQ,iB,kBAVRE,mBAAA,CAQKI,SAAA,QAAAC,WAAA,CARwDC,IAAA,CAAAC,WAAW,EAArBC,MAAM;yBAAzDR,mBAAA,CAQK,MARLS,UAQK,GAPHX,mBAAA,CAAkC,MAAlCY,UAAkC,EAAAC,gBAAA,CAAhBH,MAAM,CAACI,EAAE,OAC3Bd,mBAAA,CAAwB,YAAAa,gBAAA,CAAlBH,MAAM,CAACK,IAAI,OACjBf,mBAAA,CAA2B,YAAAa,gBAAA,CAArBH,MAAM,CAACM,OAAO,OACpBhB,mBAAA,CAAwB,YAAAa,gBAAA,CAAlBH,MAAM,CAACO,IAAI,OACjBjB,mBAAA,CAAoG,aAAhGA,mBAAA,CAA2F,YAAxFA,mBAAA,CAAoF;MAA3EkB,OAAK,EAAAC,cAAA,CAAAC,MAAA,IAAUC,QAAA,CAAAC,IAAI,CAACZ,MAAM,CAACa,IAAI;MAAGxB,KAAK,EAAC;OAAgB,YAAU,KAAAyB,UAAA,E,KAElFxB,mBAAA,CAAuG,aAAnGA,mBAAA,CAA8F,YAA3FA,mBAAA,CAAuF;MAA9EkB,OAAK,EAAAC,cAAA,CAAAC,MAAA,IAAUC,QAAA,CAAAI,QAAQ,CAACf,MAAM,CAACa,IAAI;MAAGxB,KAAK,EAAC;OAAiB,UAAQ,KAAA2B,UAAA,E;iBAOlBlB,IAAA,CAAAC,WAAW,CAACkB,MAAM,U,cAAlFzB,mBAAA,CAEC,OAFD0B,UAEC,EAFyF,0BAE/F,K,+BACFC,YAAA,CAA0FC,qBAAA;IAA7EC,IAAI,EAAEvB,IAAA,CAAAuB,IAAI;IAAGC,IAAI,EAAExB,IAAA,CAAAwB,IAAI;IAAGC,OAAO,EAAEzB,IAAA,CAAA0B,MAAM;IAAIC,aAAY,EAAEd,QAAA,CAAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}