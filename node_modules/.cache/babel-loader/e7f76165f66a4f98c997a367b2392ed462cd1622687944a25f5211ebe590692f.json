{"ast":null,"code":"import axios from \"axios\";\nimport CKEditor from '@ckeditor/ckeditor5-vue';\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\nimport Editor from '@ckeditor/ckeditor5-simple-build';\nimport Multiselect from \"@vueform/multiselect\";\nimport { useToast } from \"vue-toastification\";\nexport default {\n  name: \"panel_change\",\n  props: ['slug'],\n  components: {\n    ckeditor: CKEditor.component,\n    VueCropper,\n    Multiselect\n  },\n  data: () => ({\n    description: null,\n    cur_user: {},\n    tags: [],\n    cities: [],\n    countries: [],\n    opt_tags: [],\n    opt_cities: [],\n    opt_countries: [],\n    s_tags: [],\n    s_cities: [],\n    s_countries: [],\n    r_tags: [],\n    r_cities: [],\n    r_countries: [],\n    select: null,\n    post: {},\n    title: \"\",\n    content: \"\",\n    author: \"\",\n    selected_file: null,\n    imgSrc: \"\",\n    editorData: '',\n    msg: [],\n    toast: useToast(),\n    markers: [],\n    marker_id: 1,\n    latLang: [],\n    LegPoints: [],\n    map: {},\n    directionsService: new google.maps.DirectionsService(),\n    directionsRenderer: new google.maps.DirectionsRenderer(),\n    bounds: new google.maps.LatLngBounds(),\n    // Авто масштабирование карты\n    mapOptions: {\n      center: {\n        lat: 35,\n        lng: 100.644\n      },\n      zoomControl: true,\n      zoom: 3,\n      gestureHandling: 'auto'\n    },\n    editorConfig: {\n      toolbar: {\n        items: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'outdent', 'indent', '|', 'imageUpload', 'blockQuote', 'insertTable', 'mediaEmbed', 'undo', 'redo']\n      },\n      language: 'ru',\n      image: {\n        toolbar: ['imageTextAlternative', 'imageStyle:alignLeft', 'imageStyle:inLine', 'imageStyle:alignRight', 'toggleImageCaption', 'imageStyle:alignCenter', 'imageStyle:centeredImage']\n      },\n      table: {\n        contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']\n      },\n      simpleUpload: {\n        // The URL that the images are uploaded to.\n        uploadUrl: ''\n        // Enable the XMLHttpRequest.withCredentials property.withCredentials: false,\n      }\n    },\n\n    editor: Editor\n  }),\n  created() {\n    this.loadPost();\n    this.author = this.$store.state.cuser.id;\n    this.loadListTags();\n    this.loadListCities();\n    this.loadListCountries();\n    this.editorConfig.simpleUpload.uploadUrl = this.$store.state.backendUrl + 'api/v1/upload_img/none/';\n  },\n  watch: {\n    content(value) {\n      // binding this to the data value in the email input\n      this.content = value;\n      this.validateContent(value);\n    },\n    description(value) {\n      // binding this to the data value in the email input\n      this.description = value;\n      this.validateDescription(value);\n    },\n    title(value) {\n      this.title = value;\n      this.validateTitle(value);\n    }\n  },\n  mounted() {},\n  methods: {\n    cropImage() {\n      this.selected_file = this.$refs.cropper.getCroppedCanvas().toDataURL();\n    },\n    flipX() {\n      const dom = this.$refs.flipX;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleX(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    flipY() {\n      const dom = this.$refs.flipY;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleY(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    reset() {\n      this.$refs.cropper.reset();\n    },\n    rotate(deg) {\n      this.$refs.cropper.rotate(deg);\n    },\n    setImage(e) {\n      const file = e.target.files[0];\n      if (file.type.indexOf('image/') === -1) {\n        this.toast.warning('Выберите файл с фото');\n        return;\n      }\n      if (typeof FileReader === 'function') {\n        const reader = new FileReader();\n        reader.onload = event => {\n          this.imgSrc = event.target.result;\n          // rebuild cropperjs with the updated source\n          this.$refs.cropper.replace(event.target.result);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        this.toast.error('Sorry, FileReader API not supported');\n      }\n    },\n    showFileChooser() {\n      this.$refs.input.click();\n    },\n    zoom(percent) {\n      this.$refs.cropper.relativeZoom(percent);\n    },\n    onFileSelected(event) {\n      this.selected_file = event.target.files[0];\n    },\n    async loadPost() {\n      const response = await fetch(`${this.$store.getters.getServerUrl}api/v1/blog/${this.slug}`, {\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => response.json()).catch(err => {\n        let r = this.$router.resolve({\n          name: '404'\n        });\n        window.location.assign(r.href);\n      });\n      this.cur_user = this.$store.state.cuser;\n      if (this.cur_user.username !== response.author) {\n        let r = this.$router.resolve({\n          name: '404'\n        });\n        window.location.assign(r.href);\n      }\n      this.post = response;\n      this.title = response.title;\n      this.content = response.content;\n      this.s_cities = response.city;\n      this.s_countries = response.country;\n      this.s_tags = response.tags;\n      this.description = response.description;\n      this.map = new google.maps.Map(this.$refs.googleMap, {\n        center: {\n          lat: 35,\n          lng: 100.644\n        },\n        zoomControl: true,\n        zoom: 3,\n        gestureHandling: 'auto'\n      }), this.initMap(response);\n    },\n    async loadListTags() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/tags?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.tags = response.data;\n        for (var el in response.data) {\n          this.opt_tags.push(response.data[el].name);\n        }\n      });\n    },\n    async loadListCities() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/city?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.cities = response.data;\n        for (var el in response.data) {\n          this.opt_cities.push(response.data[el].title);\n        }\n      });\n    },\n    async loadListCountries() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/country?limit=100&search=`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.countries = response.data;\n        for (var el in response.data) {\n          this.opt_countries.push(response.data[el].title);\n        }\n      });\n    },\n    validateContent(value) {\n      let difference = 500 - value.length;\n      if (value.length < 500) {\n        this.msg['content'] = 'Повинно бути 500 символів! ' + difference + ' залишилось символів';\n      } else {\n        this.msg['content'] = '';\n      }\n    },\n    validateDescription(value) {\n      let difference = 100 - value.length;\n      let differensb = value.length - 255;\n      if (value.length < 100) {\n        this.msg['description'] = 'Повинно бути 100 символів! ' + difference + 'залишилось символів';\n      } else if (value.length > 255) {\n        this.msg['description'] = 'Повинно бути не більше 255 символів! ' + differensb + ' зайвих символів';\n      } else {\n        this.msg['description'] = '';\n      }\n    },\n    validateTitle(value) {\n      let difference = value.length - 255;\n      if (value.length > 255) {\n        this.msg['title'] = 'Повинно бути не більше 255 символів! ' + difference + ' зайвих символів';\n      } else {\n        this.msg['title'] = '';\n      }\n    },\n    create: function () {\n      if (!this.msg['content'] && !this.msg['description'] && this.cur_user.username === this.post.author) {\n        const formData = new FormData();\n        for (var el in this.s_cities) {\n          this.r_cities.push(this.cities.find(x => x.title === this.s_cities[el]).slug);\n        }\n        for (var el in this.s_countries) {\n          this.r_countries.push(this.countries.find(x => x.title === this.s_countries[el]).slug);\n        }\n        for (var el in this.s_tags) {\n          this.r_tags.push(this.tags.find(x => x.name === this.s_tags[el]).slug);\n        }\n        formData.append(\"title\", this.title);\n        formData.append(\"author_id\", this.author);\n        formData.append(\"content\", this.content);\n        for (let i in this.r_cities) {\n          formData.append(\"city\", this.r_cities[i]);\n        }\n        for (let i in this.r_countries) {\n          formData.append(\"country\", this.r_countries[i]);\n        }\n        for (let i in this.r_tags) {\n          formData.append(\"tags\", this.r_tags[i]);\n        }\n        formData.append(\"description\", this.description);\n        if (this.selected_file != null) {\n          formData.append(\"img\", this.selected_file);\n        }\n        axios({\n          url: this.$store.state.backendUrl + `api/v1/edit/${this.slug}`,\n          data: formData,\n          method: 'PUT'\n        }).then(resp => {\n          console.log(resp);\n          axios({\n            url: this.$store.state.backendUrl + `api/v1/set_points/${resp.data.slug}`,\n            method: 'POST'\n          }).then(resp => {\n            console.log(resp);\n          });\n          for (var marker in this.markers) {\n            const formData1 = new FormData();\n            formData1.append('lng', Number(String(this.markers[marker].getPosition().lng()).slice(0, 15)));\n            formData1.append('lat', Number(String(this.markers[marker].getPosition().lat()).slice(0, 15)));\n            axios({\n              url: this.$store.state.backendUrl + `api/v1/add_point/${resp.data.slug}`,\n              data: formData1,\n              method: 'POST'\n            }).then(resp => {\n              console.log(resp);\n            });\n            console.log(Number(String(this.markers[marker].getPosition().lng()).slice(0, 15)));\n            console.log(Number(String(this.markers[marker].getPosition().lat()).slice(0, 15)));\n          }\n          let r = this.$router.resolve({\n            name: 'blog' // put your route information in\n          });\n\n          window.location.assign(r.href);\n        }).catch(err => {\n          this.toast.error(\" Відбулася помилка. Введіть валідні данні або спробуйте пізніше \");\n        });\n      } else {\n        this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \");\n      }\n    },\n    getRoutePointsAndWaypoints(Points, marker) {\n      this.drawRoutePointsAndWaypoints(Points, marker);\n    },\n    drawRoute(originAddress, destinationAddress, _waypoints, marker) {\n      //Define a request variable for route .\n      var _request = '';\n\n      //This is for more then two locatins\n      if (_waypoints.length > 0) {\n        _request = {\n          origin: originAddress,\n          destination: destinationAddress,\n          waypoints: _waypoints,\n          //an array of waypoints\n          optimizeWaypoints: true,\n          //set to true if you want google to determine the shortest route or false to use the order specified.\n          travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n      } else {\n        //This is for one or two locations. Here noway point is used.\n        _request = {\n          origin: originAddress,\n          destination: destinationAddress,\n          travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n      }\n\n      //This will take the request and draw the route and return response and status as output\n      var that = this;\n      this.directionsService.route(_request, function (_response, _status) {\n        if (_status === google.maps.DirectionsStatus.OK) {\n          that.directionsRenderer.setDirections(_response);\n        } else if (_status === google.maps.DirectionsStatus.ZERO_RESULTS) {\n          that.toast.error('Неможливо поставити мітку');\n          for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === marker.id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }\n          }\n        }\n      });\n    },\n    drawRoutePointsAndWaypoints(Points, marker) {\n      //Define a variable for waypoints.\n      var _waypoints = new Array();\n      if (Points.length > 2)\n        //Waypoints will be come.\n        {\n          for (var j = 1; j < Points.length - 1; j++) {\n            var address = Points[j];\n            if (address !== \"\") {\n              _waypoints.push({\n                location: address,\n                stopover: true //stopover is used to show marker on map for waypoints\n              });\n            }\n          }\n          //Call a drawRoute() function\n          this.drawRoute(Points[0], Points[Points.length - 1], _waypoints, marker);\n        } else if (Points.length > 1) {\n        //Call a drawRoute() function only for start and end locations\n        this.drawRoute(Points[this.latLang.length - 2], Points[Points.length - 1], _waypoints, marker);\n      } else {\n        //Call a drawRoute() function only for one point as start and end locations.\n        this.drawRoute(Points[this.latLang.length - 1], Points[Points.length - 1], _waypoints, marker);\n      }\n    },\n    placeMarker(map, marker) {\n      marker.id = this.marker_id;\n      this.marker_id++;\n      this.markers.push(marker);\n      return marker;\n    },\n    initMap(response) {\n      var zoom_option = 1;\n      this.directionsRenderer.setMap(this.map);\n      this.directionsRenderer.setOptions({\n        draggable: true,\n        suppressMarkers: true\n      });\n      var that = this;\n      for (var el in response.waypoints) {\n        console.log(response.waypoints[el]);\n        var ll = {\n          lat: Number(response.waypoints[el].lat),\n          lng: Number(response.waypoints[el].lng)\n        };\n        let marker = new google.maps.Marker({\n          position: ll,\n          map: this.map\n        });\n        that.latLang.push(ll);\n        that.LegPoints.push('');\n        that.placeMarker(this.map, marker);\n        let id = marker.id;\n        that.getRoutePointsAndWaypoints(that.latLang, marker);\n        google.maps.event.addListener(marker, \"click\", function (e) {\n          for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }\n          }\n        });\n      }\n      google.maps.event.addListener(this.map, 'click', function (event) {\n        var marker = new google.maps.Marker({\n          position: event.latLng,\n          map: that.map\n        });\n        that.latLang.push(event.latLng);\n        that.LegPoints.push('');\n        that.getRoutePointsAndWaypoints(that.latLang, marker);\n        that.placeMarker(that.map, marker);\n        var id = marker.id;\n        google.maps.event.addListener(marker, \"click\", function (e) {\n          for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }\n          }\n        });\n      });\n      google.maps.event.addListener(this.directionsRenderer, 'directions_changed', function () {\n        var myroute = this.directionsRenderer.directions.routes[0];\n        CreateRoute(myroute);\n        zoom_option = that.map.getZoom();\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","CKEditor","VueCropper","Editor","Multiselect","useToast","name","props","components","ckeditor","component","data","description","cur_user","tags","cities","countries","opt_tags","opt_cities","opt_countries","s_tags","s_cities","s_countries","r_tags","r_cities","r_countries","select","post","title","content","author","selected_file","imgSrc","editorData","msg","toast","markers","marker_id","latLang","LegPoints","map","directionsService","google","maps","DirectionsService","directionsRenderer","DirectionsRenderer","bounds","LatLngBounds","mapOptions","center","lat","lng","zoomControl","zoom","gestureHandling","editorConfig","toolbar","items","language","image","table","contentToolbar","simpleUpload","uploadUrl","editor","created","loadPost","$store","state","cuser","id","loadListTags","loadListCities","loadListCountries","backendUrl","watch","value","validateContent","validateDescription","validateTitle","mounted","methods","cropImage","$refs","cropper","getCroppedCanvas","toDataURL","flipX","dom","scale","getAttribute","scaleX","setAttribute","flipY","scaleY","reset","rotate","deg","setImage","e","file","target","files","type","indexOf","warning","FileReader","reader","onload","event","result","replace","readAsDataURL","error","showFileChooser","input","click","percent","relativeZoom","onFileSelected","response","fetch","getters","getServerUrl","slug","method","headers","then","json","catch","err","r","$router","resolve","window","location","assign","href","username","city","country","Map","googleMap","initMap","url","el","push","difference","length","differensb","create","formData","FormData","find","x","append","i","resp","console","log","marker","formData1","Number","String","getPosition","slice","getRoutePointsAndWaypoints","Points","drawRoutePointsAndWaypoints","drawRoute","originAddress","destinationAddress","_waypoints","_request","origin","destination","waypoints","optimizeWaypoints","travelMode","DirectionsTravelMode","DRIVING","that","route","_response","_status","DirectionsStatus","OK","setDirections","ZERO_RESULTS","setMap","splice","Array","j","address","stopover","placeMarker","zoom_option","setOptions","draggable","suppressMarkers","ll","Marker","position","addListener","latLng","myroute","directions","routes","CreateRoute","getZoom"],"sources":["/home/oliverqa/Documents/hiker-frontend/src/views/panel_change.vue"],"sourcesContent":["<template>\n    <div>\n        <div data-aos=\"fade-in\"  data-aos-delay=\"300\" class=\"modal-body\">\n            <h3>Змінити статтю</h3>\n            <form @submit.prevent=\"create\" style=\"margin:1px\" enctype=\"multipart/form-data\">\n\n                <div class=\"form-group\">\n                    <label for=\"title\">Назва статті</label>\n                    <input class=\"form-control\" v-model=\"title\" id=\"title\" required>\n                                        <span v-if=\"msg.title\">{{msg.title}}</span>\n                </div>\n                <div class=\"form-group\">\n                    <label>Текст</label>\n                    <ckeditor class=\"form-control\" :editor=\"editor\" v-model=\"content\" :config=\"editorConfig \"></ckeditor>\n                    <span v-if=\"msg.content\">{{msg.content}}</span>\n\n                </div>\n                <div class=\"form-group\">\n                    <label>Короткий опис</label>\n                    <input class=\"form-control\" v-model=\"description\" required>\n                    <span v-if=\"msg.description\">{{msg.description}}</span>\n\n                </div>\n\n                <div class=\"form-group\" v-if=\"opt_cities\">\n                    <label>Оберіть міста</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_cities\" :options=\"opt_cities\" >\n                        <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                            <div class=\"multiselect-tag is-user\">\n                                {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                            </div>\n                        </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\" v-if=\"opt_countries\">\n                    <label>Оберіть країни</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_countries\" :options=\"opt_countries\" ><template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\" v-if=\"opt_tags\">\n                    <label>Оберіть теги</label>\n                    <Multiselect mode=\"tags\" :searchable=\"true\" v-model=\"s_tags\" :options=\"opt_tags\" ><template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag is-user\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect>\n                </div>\n                <div class=\"form-group\">\n                    <label>Завантажте фото</label>\n                    <input class=\"form-control-file\"\n                           ref=\"input\"\n                           type=\"file\"\n                           name=\"image\"\n                           accept=\"image/*\"\n                           @change=\"setImage\"/>\n                </div>\n                <div v-if='imgSrc !== \"\"' class=\"content\" >\n                    <section  class=\"cropper-area\">\n                        <div class=\"img-cropper\">\n                            <vue-cropper style=\"max-height: 40vh; display: block\"\n                                         ref=\"cropper\"\n                                         :aspect-ratio=\"2\"\n                                         :src=\"imgSrc\"\n                                         preview=\".preview\"/>\n                        </div>\n                        <div><a\n                                href=\"#\"\n                                role=\"button\"\n                                class=\"btn btn-theme\"\n                                @click.prevent=\"rotate(-90)\">\n                            Повернути\n                        </a>\n                            <a\n                                    ref=\"flipX\"\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n\n                                    @click.prevent=\"flipX\">\n                                Відзеркалити по горизонгталі\n                            </a>\n                            <a\n                                    ref=\"flipY\"\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"flipY\"\n                            >\n                                Відзеркалити по вертикалі\n                            </a>\n                            <a\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n\n                                    @click.prevent=\"cropImage\">\n                                Обрізати\n                            </a>\n                            <a\n                                    href=\"#\"\n                                    role=\"button\"\n                                    class=\"btn btn-theme\"\n                                    @click.prevent=\"reset\">\n                                Скасувати\n                            </a>\n                        </div>\n\n                    </section>\n                    <section class=\"preview-area\">\n                        <label>Обрізане фото</label>\n                        <div class=\"cropped-image\" >\n                            <img style=\"max-height: 40vh; display: block; border-style: groove;\"\n                                 v-if=\"selected_file\"\n                                 :src=\"selected_file\"\n                                 alt=\"Cropped Image\"/>\n                            <div v-else class=\"crop-placeholder\" />\n                        </div>\n                    </section>\n                </div>\n  <div ref='googleMap' class='google-map'></div>\n\n\n                <div>\n                    <button type=\"submit\" style=\"margin:1px\n        \" class=\"btn btn-primary\">Змінити статтю</button>\n                </div>\n\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n    import CKEditor from '@ckeditor/ckeditor5-vue';\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\nimport Editor from '@ckeditor/ckeditor5-simple-build';\n    import Multiselect from \"@vueform/multiselect\";\n    import {useToast} from \"vue-toastification\";\n    export default {\n        name: \"panel_change\",\n        props:['slug'],\n        components: {\n            ckeditor: CKEditor.component,\n            VueCropper,Multiselect\n\n        },\n        data: () => ({\n            description:null,\n            cur_user:{},\n            tags:[],\n            cities:[],\n            countries:[],\n            opt_tags:[],\n            opt_cities:[],\n            opt_countries:[],\n            s_tags:[],\n            s_cities:[],\n            s_countries:[],\n            r_tags:[],\n            r_cities:[],\n            r_countries:[],\n            select:null,\n            post:{},\n            title:\"\",\n            content:\"\",\n            author:\"\",\n            selected_file: null,\n            imgSrc:\"\",\n            editorData: '',\n            msg:[],\n            toast : useToast(),\n            markers:[],\n            marker_id:1,\n            latLang:[],\n            LegPoints:[],\n            map : {},\n            directionsService:new google.maps.DirectionsService(),\n            directionsRenderer:new google.maps.DirectionsRenderer(),\n            bounds: new google.maps.LatLngBounds(), // Авто масштабирование карты\n            mapOptions: {\n                center: { lat: 35, lng: 100.644 },\n                zoomControl: true,\n                zoom: 3,\n                gestureHandling: 'auto'},\n            editorConfig: {\n                toolbar: {\n                    items: [\n                        'heading',\n                        '|',\n                        'bold',\n                        'italic',\n                        'link',\n                        'bulletedList',\n                        'numberedList',\n                        '|',\n                        'outdent',\n                        'indent',\n                        '|',\n                        'imageUpload',\n                        'blockQuote',\n                        'insertTable',\n                        'mediaEmbed',\n                        'undo',\n                        'redo']\n                },\n                language: 'ru',\n                image: {\n                    toolbar: [\n       'imageTextAlternative',\n                         'imageStyle:alignLeft',\n                        'imageStyle:inLine',\n                        'imageStyle:alignRight',\n                        'toggleImageCaption',\n                        'imageStyle:alignCenter',\n                        'imageStyle:centeredImage',\n                    ]\n                },\n                table: {\n                    contentToolbar: [\n                        'tableColumn',\n                        'tableRow',\n                        'mergeTableCells'\n                    ]\n                },\n                simpleUpload: {\n                    // The URL that the images are uploaded to.\n                    uploadUrl: '',\n                    // Enable the XMLHttpRequest.withCredentials property.withCredentials: false,\n                }\n            },\n            editor:Editor\n        }),\n        created() {\n            this.loadPost()\n            this.author = this.$store.state.cuser.id\n            this.loadListTags()\n            this.loadListCities()\n            this.loadListCountries()\n                    this.editorConfig.simpleUpload.uploadUrl=this.$store.state.backendUrl+'api/v1/upload_img/none/'\n\n\n        },\n      watch: {\n      content(value){\n        // binding this to the data value in the email input\n        this.content = value;\n        this.validateContent(value);\n      },\n        description(value){\n        // binding this to the data value in the email input\n        this.description = value;\n        this.validateDescription(value);\n      },\n      title(value){\n                  this.title = value;\n        this.validateTitle(value);\n      }\n\n    },  mounted() {\n\n      },\n        methods: {\n            cropImage() {\n                this.selected_file = this.$refs.cropper.getCroppedCanvas().toDataURL();\n            },\n            flipX() {\n                const dom = this.$refs.flipX;\n                let scale = dom.getAttribute('data-scale');\n                scale = scale ? -scale : -1;\n                this.$refs.cropper.scaleX(scale);\n                dom.setAttribute('data-scale', scale);\n            },\n            flipY() {\n                const dom = this.$refs.flipY;\n                let scale = dom.getAttribute('data-scale');\n                scale = scale ? -scale : -1;\n                this.$refs.cropper.scaleY(scale);\n                dom.setAttribute('data-scale', scale);\n            },\n            reset() {\n                this.$refs.cropper.reset();\n            },\n            rotate(deg) {\n                this.$refs.cropper.rotate(deg);\n            },\n            setImage(e) {\n                const file = e.target.files[0];\n                if (file.type.indexOf('image/') === -1) {\n                    this.toast.warning('Выберите файл с фото');\n                    return;\n                }\n                if (typeof FileReader === 'function') {\n                    const reader = new FileReader();\n                    reader.onload = (event) => {\n                        this.imgSrc = event.target.result;\n                        // rebuild cropperjs with the updated source\n                        this.$refs.cropper.replace(event.target.result);\n                    };\n                    reader.readAsDataURL(file);\n                } else {\n                    this.toast.error('Sorry, FileReader API not supported');}\n            },\n            showFileChooser() {\n                this.$refs.input.click();\n            },\n            zoom(percent) {\n                this.$refs.cropper.relativeZoom(percent);\n            },\n            onFileSelected(event){\n\n                this.selected_file= event.target.files[0]\n            },\n            async loadPost() {\n                const response = await fetch(`${this.$store.getters.getServerUrl}api/v1/blog/${this.slug}`,{ method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => response.json()).catch(err =>{\n                            let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: '404',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n                })\n                                       this.cur_user = this.$store.state.cuser\n                    if(this.cur_user.username !== response.author){\n                                                    let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: '404',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n                    }\n                    this.post  = response\n                    this.title =response.title\n                    this.content =response.content\n                    this.s_cities = response.city\n                    this.s_countries = response.country\n                    this.s_tags = response.tags\n                    this.description = response.description\n                            this.map = new google.maps.Map(this.$refs.googleMap, {\n                             center: { lat: 35, lng: 100.644 },\n                zoomControl: true,\n                zoom: 3,\n                gestureHandling: 'auto'\n            }),\n            this.initMap(response)\n\n            },\n            async loadListTags() {\n                axios({url: this.$store.state.backendUrl+`api/v1/tags?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.tags = response.data\n                    for(var el in response.data){\n                        this.opt_tags.push(response.data[el].name)\n                    }\n                })\n            },\n            async loadListCities() {\n                axios({url: this.$store.state.backendUrl+`api/v1/city?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.cities = response.data\n                    for(var el in response.data){\n                        this.opt_cities.push(response.data[el].title)\n                    }\n                })\n            },\n            async loadListCountries() {\n                axios({url: this.$store.state.backendUrl+`api/v1/country?limit=100&search=`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.countries  = response.data\n                    for(var el in response.data){\n                        this.opt_countries.push(response.data[el].title)}\n                })\n            },\n              validateContent(value){\n        let difference = 500 - value.length;\n        if (value.length<500) {\n          this.msg['content'] = 'Повинно бути 500 символів! '+ difference + ' залишилось символів' ;\n        } else {\n          this.msg['content'] = '';\n        }},\n            validateDescription(value){\n        let difference = 100 - value.length;\n        let differensb = value.length -255;\n        if (value.length<100) {\n          this.msg['description'] = 'Повинно бути 100 символів! '+ difference + 'залишилось символів' ;\n        } else if(value.length>255){\n          this.msg['description'] ='Повинно бути не більше 255 символів! '+ differensb + ' зайвих символів';\n        }\n        else{\n            this.msg['description'] = ''\n        }},\n            validateTitle(value){\n        let difference = value.length-255;\n        if(value.length>255){\n          this.msg['title'] ='Повинно бути не більше 255 символів! '+ difference + ' зайвих символів';\n        }\n        else{\n            this.msg['title'] = ''\n        }},\n            create: function () {\n                if(!this.msg['content'] && !this.msg['description'] && this.cur_user.username === this.post.author){\n                const formData = new FormData();\n                for(var el in this.s_cities){\n                    this.r_cities.push(this.cities.find(x=>x.title===this.s_cities[el]).slug)\n                }\n                for(var el in this.s_countries){\n                    this.r_countries.push(this.countries.find(x=>x.title===this.s_countries[el]).slug)\n                }\n                for(var el in this.s_tags){\n                    this.r_tags.push(this.tags.find(x=>x.name===this.s_tags[el]).slug)\n                }\n                formData.append(\"title\", this.title);\n                formData.append(\"author_id\", this.author);\n                formData.append(\"content\", this.content);\n                for (let i in this.r_cities){\n                    formData.append(\"city\", this.r_cities[i]);}\n                for (let i in this.r_countries){\n                    formData.append(\"country\", this.r_countries[i]);}\n                for (let i in this.r_tags){\n                    formData.append(\"tags\", this.r_tags[i]);}\n                formData.append(\"description\", this.description);\n                if(this.selected_file != null){\n                    formData.append(\"img\", this.selected_file);}\n                axios({url: this.$store.state.backendUrl+`api/v1/edit/${this.slug}`, data:formData, method: 'PUT' }).then(resp =>{console.log(resp)\n                                            axios({url: this.$store.state.backendUrl+`api/v1/set_points/${resp.data.slug}`,  method: 'POST' }).then(resp =>{console.log(resp)})\n\n                               for(var marker in this.markers){\n                                                            const formData1 = new FormData();\n                        formData1.append('lng',Number(String(this.markers[marker].getPosition().lng()).slice(0,15)))\n                        formData1.append('lat',Number(String(this.markers[marker].getPosition().lat()).slice(0,15)))\n                        axios({url: this.$store.state.backendUrl+`api/v1/add_point/${resp.data.slug}`, data:formData1, method: 'POST' }).then(resp =>{console.log(resp)})\n                                            console.log(Number(String(this.markers[marker].getPosition().lng()).slice(0,15)))\n                                            console.log(Number(String(this.markers[marker].getPosition().lat()).slice(0,15)))\n                    }\n                let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: 'blog', // put your route information in\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n})\n             .catch(err => {this.toast.error(\" Відбулася помилка. Введіть валідні данні або спробуйте пізніше \")})\n            }\n            else {\n                this.toast.error(\"Відбулася помилка. Введіть валідні данні або спробуйте пізніше \")\n                }},\n                      getRoutePointsAndWaypoints(Points,marker) {\n        this.drawRoutePointsAndWaypoints(Points,marker);\n\n},\ndrawRoute(originAddress, destinationAddress, _waypoints,marker) {\n    //Define a request variable for route .\n    var _request = '';\n\n    //This is for more then two locatins\n    if (_waypoints.length > 0) {\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            waypoints: _waypoints, //an array of waypoints\n            optimizeWaypoints: true, //set to true if you want google to determine the shortest route or false to use the order specified.\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    } else {\n        //This is for one or two locations. Here noway point is used.\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    }\n\n    //This will take the request and draw the route and return response and status as output\n  var that =this\n    this.directionsService.route(_request, function(_response, _status) {\n        if (_status === google.maps.DirectionsStatus.OK) {\n            that.directionsRenderer.setDirections(_response);\n        }\n                else if(_status === google.maps.DirectionsStatus.ZERO_RESULTS) {\n            that.toast.error('Неможливо поставити мітку')\n\n            for (var i = 0; i < that.markers.length; i++) {\n                if (that.markers[i].id === marker.id) {\n                    //Remove the marker from Map\n                    marker.setMap(null);\n                    //Remove the marker from array.\n                    that.markers.splice(i, 1);\n                    that.latLang.splice(i, 1);\n                    return;\n                }\n            }\n\n        }});\n} ,\n\n drawRoutePointsAndWaypoints(Points,marker) {\n    //Define a variable for waypoints.\n    var _waypoints = new Array();\n\n    if (Points.length > 2) //Waypoints will be come.\n    {\n        for (var j = 1; j < Points.length - 1; j++) {\n            var address = Points[j];\n            if (address !== \"\") {\n                _waypoints.push({\n                    location: address,\n                    stopover: true,  //stopover is used to show marker on map for waypoints\n\n                });\n            }\n        }\n        //Call a drawRoute() function\n        this.drawRoute(Points[0], Points[Points.length - 1], _waypoints,marker);\n    } else if (Points.length > 1) {\n        //Call a drawRoute() function only for start and end locations\n        this.drawRoute(Points[this.latLang.length - 2], Points[Points.length - 1], _waypoints,marker);\n    } else {\n        //Call a drawRoute() function only for one point as start and end locations.\n        this.drawRoute(Points[this.latLang.length - 1], Points[Points.length - 1], _waypoints,marker);\n    }\n} ,\n           placeMarker(map,marker) {\n\n    marker.id= this.marker_id\n             this.marker_id++\n    this.markers.push(marker)\n               return marker\n},\n\n    initMap(response){\n\nvar zoom_option = 1;\n\n    this.directionsRenderer.setMap(this.map);\n    this.directionsRenderer.setOptions({\n        draggable: true,\n        suppressMarkers: true,\n    });\n\n      var that =this\n\n                for(var el in response.waypoints){\n                    console.log(response.waypoints[el])\n                    var ll = {lat:Number(response.waypoints[el].lat),lng:Number(response.waypoints[el].lng)}\n                          let marker = new google.maps.Marker({\n        position: ll,\n        map: this.map,\n    });\n          that.latLang.push(ll)\n             that.LegPoints.push('');\n             that.placeMarker(this.map,marker);\n   let id = marker.id\n        that.getRoutePointsAndWaypoints(that.latLang,marker);\n\n                google.maps.event.addListener(marker, \"click\", function (e) {\n                  for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }}\n                })\n                }\ngoogle.maps.event.addListener(this.map, 'click', function(event) {\n      var marker = new google.maps.Marker({\n        position: event.latLng,\n        map: that.map,\n    });\n          that.latLang.push(event.latLng)\n             that.LegPoints.push('');\n        that.getRoutePointsAndWaypoints(that.latLang,marker);\n   that.placeMarker(that.map,marker);\n   var id = marker.id\n                google.maps.event.addListener(marker, \"click\", function (e) {\n\n                  for (var i = 0; i < that.markers.length; i++) {\n            if (that.markers[i].id === id) {\n              //Remove the marker from Map\n              marker.setMap(null);\n              //Remove the marker from array.\n              that.markers.splice(i, 1);\n              that.latLang.splice(i, 1);\n              return;\n            }}\n\n                })\n});\n          google.maps.event.addListener(this.directionsRenderer, 'directions_changed', function() {\n        var myroute = this.directionsRenderer.directions.routes[0];\n        CreateRoute(myroute);\n        zoom_option = that.map.getZoom();\n    });\n\n    },\n        },}\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style scoped>\n.multiselect-tag.is-user {\n    padding: 5px 8px;\n    border-radius: 22px;\n    background: #35495e;\n    margin: 3px 3px 8px;\n    }\n.multiselect-tag.is-user i:before {\n    color: #ffffff;\n    border-radius: 50%;;\n    }\n.google-map {\n  width: 100%;\n  height: 450px;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}