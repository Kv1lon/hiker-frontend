{"ast":null,"code":"import axios from \"axios\";\nimport Pagination from \"../components/Pagination\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport Multiselect from \"@vueform/multiselect\";\nimport VueNumberInput from '@chenfengyuan/vue-number-input';\nimport f from \"./airport.csv\";\nimport md from \"./flightsearch.md\";\nimport { useToast } from \"vue-toastification\";\nimport '@mdi/font/css/materialdesignicons.css';\nimport { VDatePicker } from 'vuetify/labs/VDatePicker';\nexport default {\n  name: 'home',\n  components: {\n    Pagination,\n    'font-awesome-icon': FontAwesomeIcon,\n    Multiselect,\n    VueNumberInput,\n    VDatePicker\n  },\n  data: () => ({\n    popular: [],\n    popular_authors: [],\n    followers_count: null,\n    cur_user: {},\n    adult: 1,\n    teen: 0,\n    baby: 0,\n    forward: \"\",\n    back: \"\",\n    trip_class: '',\n    timezone: \"UTC\",\n    modelConfig: {\n      type: 'string',\n      mask: 'YYYY-MM-DD hh:mm:ss',\n      timeAdjust: '24:00:00'\n    },\n    orl: \"\",\n    del: \"\",\n    op: {},\n    arar: {},\n    toast: useToast(),\n    loading: false\n  }),\n  created() {\n    this.loadPopularPosts();\n    this.loadPopularAuthors();\n    this.cur_user = this.$store.state.cuser;\n    var data_airports = this.loadCsv(f);\n    this.arar, this.op = data_airports;\n  },\n  methods: {\n    loadCsv(allText) {\n      var mdd = md.join(\"\");\n      var ops = [];\n      for (var i = 1; i < allText.length; i++) {\n        if (mdd.includes(allText[i][0])) {\n          var st = \"\";\n          for (var j = 0; j < allText[i].length - 2; j++) {\n            st += allText[i][j] + \" \";\n          }\n          allText[i].push(st);\n          ops.push(st);\n        }\n      }\n      return allText, ops;\n    },\n    async loadPopularPosts() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/blog?limit=5&search=&date=month&ordering=descending`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.popular = response.data.results;\n      });\n    },\n    async loadPopularAuthors() {\n      axios({\n        url: this.$store.state.backendUrl + `api/v1/popular_authors`,\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json'\n        }\n      }).then(response => {\n        this.popular_authors = response.data;\n      });\n    },\n    goTo(name, params) {\n      let r = this.$router.resolve({\n        name: name,\n        params: params // put your route information in\n      });\n\n      window.location.assign(r.href);\n    },\n    async searchTickets() {\n      var data = \"grant_type=client_credentials&client_id=JuRerxA5g2sFoOvNZDgKnQeHkfw72NXo&client_secret=oziTz6ma2cghwzwl\";\n      var token;\n      var access = localStorage.getItem('access');\n      if (access) {\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n      this.loading = true;\n      await axios({\n        url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n        data: data,\n        method: 'POST',\n        headers: {\n          \"Content-type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(response => {\n        console.log(response), token = response.data.token_type + \" \" + response.data.access_token;\n      });\n      this.orl = this.orl.slice(0, 3);\n      this.del = this.del.slice(0, 3);\n      var date = this.forward.toString().slice(10);\n      var data1 = {\n        \"id\": 1,\n        \"originLocationCode\": this.orl,\n        \"destinationLocationCode\": this.del,\n        \"departureDateTimeRange\": {\n          \"date\": this.forward.slice(0, 10),\n          \"time\": this.forward.slice(11)\n        }\n      };\n      var data2 = {\n        \"id\": 2,\n        \"originLocationCode\": this.del,\n        \"destinationLocationCode\": this.orl,\n        \"departureDateTimeRange\": {\n          \"date\": this.back.slice(0, 10),\n          \"time\": this.back.slice(11)\n        }\n      };\n      var travelers = [];\n      var c = 0;\n      for (var i = 0; i < this.adult; i++) {\n        c++;\n        travelers.push({\n          \"id\": c,\n          \"travelerType\": \"ADULT\"\n        });\n      }\n      for (var i = 0; i < this.teen; i++) {\n        c++;\n        travelers.push({\n          \"id\": c,\n          \"travelerType\": \"CHILD\"\n        });\n      }\n      for (var i = 0; i < this.baby; i++) {\n        c++;\n        if (i < this.adult) {\n          travelers.push({\n            \"id\": c,\n            \"travelerType\": \"HELD_INFANT\",\n            \"associatedAdultId\": i + 1\n          });\n        }\n      }\n      var cabin = \"\";\n      if (this.trip_class === \"E\") {\n        cabin = \"ECONOMY\";\n      } else if (this.trip_class === \"PE\") {\n        cabin = \"PREMIUM_ECONOMY\";\n      } else if (this.trip_class === \"B\") {\n        cabin = \"BUSINESS\";\n      } else if (this.trip_class === \"F\") {\n        cabin = \"FIRST\";\n      }\n      var d = {\n        \"currencyCode\": \"USD\",\n        \"originDestinations\": [data1, data2],\n        \"travelers\": travelers,\n        \"sources\": [\"GDS\"],\n        \"searchCriteria\": {\n          \"maxFlightOffers\": 20,\n          \"flightFilters\": {\n            \"cabinRestrictions\": [{\n              \"cabin\": cabin,\n              \"coverage\": \"MOST_SEGMENTS\",\n              \"originDestinationIds\": [\"1\"]\n            }],\n            \"carrierRestrictions\": {\n              \"excludedCarrierCodes\": [\"AA\", \"TP\", \"AZ\"]\n            }\n          }\n        }\n      };\n      var that = this;\n      await axios({\n        url: 'https://test.api.amadeus.com/v2/shopping/flight-offers',\n        data: d,\n        method: 'POST',\n        headers: {\n          \"Authorization\": token\n        }\n      }).then(res => {\n        if (res.data.data[0]) {\n          data = res.data.data;\n          this.loading = false, this.$store.dispatch('tickets', {\n            data\n          });\n          console.log(this.$store.state), this.goTo(\"tickets\");\n        } else {\n          that.toast.error(\"Немає білетів\"), this.loading = false;\n        }\n      }).catch(err => {\n        console.log(err), that.toast.error(\"Введіть валідні дання або спробйте пізніше\"), this.loading = false;\n      });\n      console.log(this.$store.state.tickets);\n      access = localStorage.getItem('access');\n      if (access) {\n        axios.defaults.headers.common['Authorization'] = \"JWT \" + access;\n      }\n    },\n    async SearchAirport(loc) {\n      var data = \"grant_type=client_credentials&client_id=JuRerxA5g2sFoOvNZDgKnQeHkfw72NXo&client_secret=oziTz6ma2cghwzwl\";\n      var token;\n      var access = localStorage.getItem('access');\n      if (access) {\n        delete axios.defaults.headers.common[\"Authorization\"];\n      }\n      await axios({\n        url: 'https://test.api.amadeus.com/v1/security/oauth2/token',\n        data: data,\n        method: 'POST',\n        headers: {\n          \"Content-type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(response => {\n        console.log(response), token = response.data.token_type + \" \" + response.data.access_token;\n      });\n      if (loc === \"origin\") {\n        await axios({\n          url: 'https://test.api.amadeus.com/v1/reference-data/locations?subType=AIRPORT&keyword=' + this.orl,\n          method: 'GET',\n          headers: {\n            \"Authorization\": token\n          }\n        }).then(res => console.log(res));\n      } else if (loc === \"destination\") {\n        await axios({\n          url: 'https://test.api.amadeus.com/v1/reference-data/locations?subType=AIRPORT&keyword=' + this.del,\n          method: 'GET',\n          headers: {\n            \"Authorization\": token\n          }\n        }).then(res => console.log(res)).catch(err => {\n          console.log(err), that.toast.error(\"Введите валидные данные или попробуйте позже\");\n        });\n      }\n      access = localStorage.getItem('access');\n      if (access) {\n        axios.defaults.headers.common['Authorization'] = \"JWT \" + access;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Pagination","FontAwesomeIcon","Multiselect","VueNumberInput","f","md","useToast","VDatePicker","name","components","data","popular","popular_authors","followers_count","cur_user","adult","teen","baby","forward","back","trip_class","timezone","modelConfig","type","mask","timeAdjust","orl","del","op","arar","toast","loading","created","loadPopularPosts","loadPopularAuthors","$store","state","cuser","data_airports","loadCsv","methods","allText","mdd","join","ops","i","length","includes","st","j","push","url","backendUrl","method","headers","then","response","results","goTo","params","r","$router","resolve","window","location","assign","href","searchTickets","token","access","localStorage","getItem","defaults","common","console","log","token_type","access_token","slice","date","toString","data1","data2","travelers","c","cabin","d","that","res","dispatch","error","catch","err","tickets","SearchAirport","loc"],"sources":["/home/oliverqa/Documents/hiker-frontend/src/views/home.vue"],"sourcesContent":["<template>\n        <div v-if=\"loading\" class=\"preloader\">\n    <div class=\"preloader__image\">\n    </div></div>\n  <div  id=\"headerwrap\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div data-aos=\"fade-in\" data-aos-delay=\"300\" class=\"col-lg-8 col-lg-offset-2\">\n          <h3>Все потрібне в одному місці</h3>\n          <h1>Hiker</h1>\n          <h5>Дізнайся. Мандруй. Розкажи</h5>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div data-aos=\"flip-up\"  data-aos-delay=\"300\" id=\"service\">\n    <div class=\"container\">\n      <div class=\"row centered\">\n        <div class=\"col-md-4\">\n          <i class=\"fa fa-lightbulb-o\"></i>\n          <h4>Дізнайся</h4>\n          <p>Прочитайте статті інших користувачів про цікаві для Вас країни.</p>\n          <p><br/><button @click=\"goTo('blog',{})\" href=\"#\" class=\"btn btn-theme\">Дізнатися більше</button></p>\n        </div>\n        <div class=\"col-md-4\">\n          <i class=\"fa fa-map-marker\"></i>\n          <h4>Мандруй</h4>\n          <p>Прямо на нашму сайті купіть білети для своєї мандрівки</p>\n          <p><br/><button @click=\"goTo('tickets',{slug:'none'})\" href=\"#\" class=\"btn btn-theme\">Дізнатися більше</button></p>\n        </div>\n        <div class=\"col-md-4\">\n<i class=\"fa fa-pencil\"></i>\n          <h4>Розкажи</h4>\n          <p>Поділись своїми мандрами з іншими, створивши карту подорожі</p>\n          <p><br/><button @click=\"goTo('panel',null)\" href=\"#\" class=\"btn btn-theme\">Дізнатися більше</button></p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-if=\"popular[0]\" id=\"portfoliowrap\" style=\"padding-top: 0;margin-bottom: 0\">\n    <h3 style=\"color:#384452;\">Популярне</h3>\n    <div class=\"portfolio-centered\">\n      <div class=\"recentitems portfolio\">\n        <div  v-for=\"post in popular\" :key=\"post.id\"  class=\"portfolio-item graphic-design\" >\n          <div class=\"he-wrap tpl6\">\n            <div class=\"he-view\">\n              <div  class=\"bg a0\">\n                <div style=\"padding: 2%\"  data-aos=\"fade-in\" data-aos-delay=\"300\">\n                <h3 class=\"a1\" data-animate=\"fadeInDown\">{{post.title}}</h3>\n                <img style=\"max-height: 25vh\" :src=\"post.img\" alt=\"\">\n                <a data-rel=\"prettyPhoto\" href=\"\" @click.prevent=\"goTo('post',{slug:post.slug})\" class=\"dmbutton a2\" data-animate=\"fadeInUp\">\n                  <div style=\"font-weight: bold;margin-bottom: 3%\">Перейти</div>\n                  <div> <font-awesome-icon :icon=\"['far', 'clock']\" />  {{post.date }}\n                    <font-awesome-icon :icon=\"['far', 'user']\" />{{post.author}}\n                    <font-awesome-icon :icon=\"['far', 'comment']\" />{{post.comments.length}}\n                    <font-awesome-icon :icon=\"['far', 'heart']\" />{{post.likes.length}}\n                    <font-awesome-icon :icon=\"['far', 'eye']\" />{{post.views}}</div></a>\n                  </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div id=\"twrap\">\n    <div class=\"container centered\">\n      <div class=\"row\">\n        <div data-aos=\"zoom-in\" data-aos-delay=\"300\" class=\"col-lg-8 col-lg-offset-2\">\n          <h3 style=\"margin-bottom: 5%;margin-top: 0\">Пошук білетів</h3>\n          <h4>Звідки</h4>\n            <div class=\"form-group\">\n              <div class=\"form-group\">\n                   <Multiselect   :close-on-select=\"true\" :searchable=\"true\" v-model=\"orl\" :options=\"op\" placeholder=\"Оберіть аеропорт\" >       <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div  class=\"multiselect-tag\">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect></div>\n</div>\n    <h4>Куди</h4>\n            <div class=\"form-group\">\n                   <Multiselect :close-on-select=\"true\" :searchable=\"true\" v-model=\"del\" :options=\"op\" placeholder=\"Оберіть аеропорт\" >       <template v-slot:tag=\"{ option, handleTagRemove, disabled }\">\n                        <div class=\"multiselect-tag \">\n                            {{ option.value }}\n                            <i v-if=\"!disabled\" @click.prevent @mousedown.prevent.stop=\"handleTagRemove(option, $event)\"></i>\n                        </div>\n                    </template>\n                    </Multiselect></div>\n        <h4>Коли</h4>\n\n\n                <v-date-picker style=\"display:inline-block;\" mode=\"dateTime\" :is24hr=\"true\" :timezone=\"timezone\" :minute-increment=\"5\"  :model-config=\"modelConfig\"  class=\"btn\" v-model=\"forward\"  > <template v-slot=\"{ inputValue, togglePopover }\">\n      <div class=\"form-group\">\n        <button style=\"font-weight: bold\"\n          @click=\"togglePopover()\"\n                    class=\"form-control \"\n\n        >\n          Обрати дату\n          <font-awesome-icon :icon=\"['far', 'calendar-alt']\" />\n          {{inputValue}}\n\n        </button>\n\n      </div>\n    </template></v-date-picker>\n    <h4>Назад(Не обовязково)</h4>\n\n\n                <v-date-picker style=\"display:inline-block\" mode=\"dateTime\" :is24hr=\"true\" :timezone=\"timezone\"  :minute-increment=\"5\" :model-config=\"modelConfig\"  class=\"btn \" v-model=\"back\" ><template v-slot=\"{ inputValue, togglePopover }\">\n      <div class=\"form-group\">\n        <button style=\"font-weight: bold\"\n          @click=\"togglePopover()\"\n          class=\"form-control \"\n        >\n          Обрати дату\n          <font-awesome-icon :icon=\"['far', 'calendar-alt']\" />\n          {{inputValue}}\n        </button>\n\n      </div>\n    </template></v-date-picker>\n          <h4>Пасажири</h4>\n          <div class=\"btn btn-theme\">Дорослі\n              <vue-number-input  class=\"form-control\" v-model=\"adult\" :min=\"1\" :max=\"9-teen\"  controls></vue-number-input>\n</div>\n          <div class=\"btn btn-theme\" >Діти\n              <vue-number-input class=\"form-control\" v-model=\"teen\" :min=\"0\" :max=\"9-adult\"  controls></vue-number-input></div>\n              <div class=\"btn btn-theme\" >Немовля\n              <vue-number-input class=\"form-control\" v-model=\"baby\" :min=\"0\"  :max=\"adult\"  controls></vue-number-input>\n</div>\n                   <h4>Клас</h4>\n          <label for=\"E\" class=\"btn btn-theme\">Эконом <input type=\"radio\" v-model=\"trip_class \" id=\"E\" name=\"popular\" value=\"E\" /></label>\n          <label for=\"PE\" class=\"btn btn-theme\">Преміум-эконом <input type=\"radio\" v-model=\"trip_class \" id=\"PE\" name=\"popular\" value=\"PE\"/></label>\n          <label for=\"B\" class=\"btn btn-theme\" >Бізнес <input type=\"radio\" name=\"popular\" id=\"B\" v-model=\"trip_class \" value=\"B\"/></label>\n          <label for=\"F\" class=\"btn btn-theme\" >Перший <input type=\"radio\" name=\"popular\" id=\"F\"  v-model=\"trip_class \" value=\"F\"/></label>\n          <div style=\"align-items: center\"><button @click.prevent=\"searchTickets\" style=\"font-size: 15pt;text-align: center;\"  class=\"btn  btn-success \">Знайти білети</button></div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div id=\"cwrap\">\n    <div class=\"container\">\n      <div class=\"row centered\">\n        <h3 style=\"color:rgb(56, 68, 82);\">Топ авторів</h3>\n        <div data-aos=\"zoom-in\" data-aos-delay=\"300\"  v-for=\"author in popular_authors\" :key=\"author.id\" class=\"col-lg-3 col-md-3 co l-sm-3\" @click.prevent=\"goTo('profile',{slug:author.slug})\">\n          <img v-if=\"author.profile_img\" :src=\"author.profile_img\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n          <img v-else src=\"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n          <div class=\"btn btn-theme\" >{{author.username}} <br/>Бали:{{author.points}}<br/>Підписники:{{author.followers.length}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import axios from \"axios\";\n    import Pagination from \"../components/Pagination\";\n    import {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\n  import Multiselect from \"@vueform/multiselect\";\n import VueNumberInput from '@chenfengyuan/vue-number-input';\n  import f from \"./airport.csv\"\n  import md from \"./flightsearch.md\"\n  import {useToast} from \"vue-toastification\";\nimport '@mdi/font/css/materialdesignicons.css'\n  import { VDatePicker } from 'vuetify/labs/VDatePicker'\n\n  export default {\n    name: 'home',\n    components:{Pagination,'font-awesome-icon': FontAwesomeIcon,Multiselect,VueNumberInput,VDatePicker},\n\n    data: () => ({\n      popular: [],\n      popular_authors: [],\n      followers_count:null,\n      cur_user:{},\n        adult:1,\n        teen:0,\n        baby:0,\n        forward:\"\",\n        back:\"\",\n      trip_class :'',\n        timezone:\"UTC\",\n              modelConfig: {\n        type: 'string',\n        mask: 'YYYY-MM-DD hh:mm:ss',\n                        timeAdjust: '24:00:00',\n\n      },\n      orl:\"\",\n      del:\"\",\n        op:{},\n        arar:{},\n                    toast : useToast(),\n                  loading:false,\n\n\n\n    }),\n    created() {\n      this.loadPopularPosts()\n      this.loadPopularAuthors()\n      this.cur_user = this.$store.state.cuser\n\n        var data_airports = this.loadCsv(f);\n      this.arar, this.op = data_airports\n\n    },\n    methods: {\n    loadCsv(allText){\n        var mdd=md.join(\"\")\n\nvar ops = []\n    for (var i=1; i<allText.length; i++) {\n        if(mdd.includes(allText[i][0])){\n            var st =\"\";\n            for (var j=0; j<allText[i].length-2; j++) {\n                st+=allText[i][j]+\" \"\n            }\n            allText[i].push(st);\n            ops.push(st)\n    }}\n    return allText, ops\n    },\n      async loadPopularPosts() {\n        axios({url:  this.$store.state.backendUrl+`api/v1/blog?limit=5&search=&date=month&ordering=descending`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.popular  = response.data.results})\n      },\n      async loadPopularAuthors() {\n        axios({url:  this.$store.state.backendUrl+`api/v1/popular_authors`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.popular_authors  = response.data\n        })\n      },\n      goTo(name,params) {\n        let r = this.$router.resolve({\n          name: name,params: params// put your route information in\n        })\n        window.location.assign(r.href)\n      },\n      async searchTickets(){\n        var data= \"grant_type=client_credentials&client_id=JuRerxA5g2sFoOvNZDgKnQeHkfw72NXo&client_secret=oziTz6ma2cghwzwl\"\n        var token;\nvar access = localStorage.getItem('access')\nif (access) {\ndelete axios.defaults.headers.common[\"Authorization\"];\n    }\n    this.loading = true\n        await axios({url: 'https://test.api.amadeus.com/v1/security/oauth2/token', data: data, method: 'POST', headers:{\"Content-type\":\"application/x-www-form-urlencoded\"} }).then(response => {console.log(response), token = response.data.token_type+\" \"+response.data.access_token\n})\n        this.orl = this.orl.slice(0,3)\n       this.del= this.del.slice(0,3)\n          var date = this.forward.toString().slice(10)\n                    var data1 = {\"id\":1,\n                            \"originLocationCode\":this.orl,\n                            \"destinationLocationCode\":this.del,\n                            \"departureDateTimeRange\": {\n                                \"date\": this.forward.slice(0,10),\n                                \"time\": this.forward.slice(11)\n                              }}\n\n                    var data2 = {\"id\":2,\n                            \"originLocationCode\":this.del,\n                            \"destinationLocationCode\":this.orl,\n                            \"departureDateTimeRange\": {\n                                \"date\": this.back.slice(0,10),\n                                \"time\": this.back.slice(11)\n                              }}\nvar travelers =[]\n                    var c =0;\n                    for(var i =0;i<this.adult;i++){\n                        c++;\n                        travelers.push({\"id\":c,\"travelerType\": \"ADULT\"})\n                    }\n                    for(var i =0;i<this.teen;i++){\n                        c++;\n                        travelers.push({\"id\":c,\"travelerType\": \"CHILD\"})\n                    }\n                    for(var i =0;i<this.baby;i++){\n                        c++;\n                        if(i<this.adult) {\n                            travelers.push({\"id\": c, \"travelerType\": \"HELD_INFANT\", \"associatedAdultId\": i+1})\n                        }\n\n                    }\nvar cabin= \"\"\nif(this.trip_class === \"E\"){\n    cabin= \"ECONOMY\"\n}\nelse if(this.trip_class ===\"PE\"){\n        cabin= \"PREMIUM_ECONOMY\"\n\n}\nelse if(this.trip_class ===\"B\"){\n        cabin= \"BUSINESS\"\n\n}\nelse if(this.trip_class ===\"F\"){\n        cabin= \"FIRST\"\n\n}\n          var d = {\n  \"currencyCode\": \"USD\",\n  \"originDestinations\": [\n    data1,\n      data2,\n  ],\n  \"travelers\": travelers,\n  \"sources\": [\n    \"GDS\"\n  ],\n  \"searchCriteria\": {\n    \"maxFlightOffers\": 20,\n    \"flightFilters\": {\n      \"cabinRestrictions\": [\n        {\n          \"cabin\": cabin,\n          \"coverage\": \"MOST_SEGMENTS\",\n          \"originDestinationIds\": [\n            \"1\"\n          ]\n        }\n      ],\n      \"carrierRestrictions\": {\n        \"excludedCarrierCodes\": [\n          \"AA\",\n          \"TP\",\n          \"AZ\"\n        ]\n      }\n    }\n  }\n}\nvar that = this\nawait axios({url: 'https://test.api.amadeus.com/v2/shopping/flight-offers',data:d,  method: 'POST' ,headers:{\"Authorization\":token}}).then(res=>{\n    if(res.data.data[0]){\n        data = res.data.data\n    this.loading=false,\n        this.$store.dispatch('tickets', { data })\n         console.log(this.$store.state)\n         ,this.goTo(\"tickets\",)\n    }\n    else {\n        that.toast.error(\"Немає білетів\"),this.loading = false\n    }\n})\n    .catch(err => {console.log(err), that.toast.error(\"Введіть валідні дання або спробйте пізніше\"),this.loading = false})\n        console.log(this.$store.state.tickets)\n\n          access = localStorage.getItem('access')\nif (access) {\n  axios.defaults.headers.common['Authorization'] = \"JWT \" + access\n    }\n                    },\n        async SearchAirport(loc){\n                  var data= \"grant_type=client_credentials&client_id=JuRerxA5g2sFoOvNZDgKnQeHkfw72NXo&client_secret=oziTz6ma2cghwzwl\"\n        var token;\nvar access = localStorage.getItem('access')\nif (access) {\ndelete axios.defaults.headers.common[\"Authorization\"];\n    }\n        await axios({url: 'https://test.api.amadeus.com/v1/security/oauth2/token', data: data, method: 'POST', headers:{\"Content-type\":\"application/x-www-form-urlencoded\"} }).then(response => {console.log(response), token = response.data.token_type+\" \"+response.data.access_token\n})\n                if(loc === \"origin\"){\n                    await axios({url: 'https://test.api.amadeus.com/v1/reference-data/locations?subType=AIRPORT&keyword='+this.orl,  method: 'GET' ,headers:{\"Authorization\":token}}).then(res=>console.log(res))\n                }\n                else if(loc===\"destination\"){\n                    await axios({url: 'https://test.api.amadeus.com/v1/reference-data/locations?subType=AIRPORT&keyword='+this.del,  method: 'GET' ,headers:{\"Authorization\":token}}).then(res=>console.log(res))\t\t\t\t\t\t.catch(err => {console.log(err), that.toast.error(\"Введите валидные данные или попробуйте позже\")})\n\n                }\n                          access = localStorage.getItem('access')\nif (access) {\n  axios.defaults.headers.common['Authorization'] = \"JWT \" + access\n    }\n        },\n\n    }\n\n  ,}\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style  scoped>\n    #upload_pr {\n   opacity: 0;\n   position: absolute;\n   z-index: -1;\n}\n.btn{\n  margin: 1%;\n}\nh4,h3{color: white;\n}\n\n    .multiselect-clear {\n        background-color: transparent;\n    }\n  .preloader {\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    background: #fff;\n    z-index: 1001;\n  }\ninput{\n  background-color: white;\n}\n.btn{width: 200px}\n  .preloader__image {\n    position: relative;\n    top: 50%;\n    left: 50%;\n    width: 64px;\n    height: 64px;\n    margin-top: -32px;\n    margin-left: -32px;\n    background: url('../assets/Walk.gif') no-repeat 50% 50%;\n    /*расположение (url) изображения gif и др. параметры*/\n  }\n\n  .loaded_hiding .preloader {\n    transition: 0.3s opacity;\n    opacity: 0;\n  }\n\n  .loaded .preloader {\n    opacity: 50%;\n  }\n\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}