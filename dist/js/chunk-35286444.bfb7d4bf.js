(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35286444"],{"0858":function(e,t,c){"use strict";c("c2d5")},b3b1:function(e,t,c){"use strict";c.r(t);var o=c("7a23");const l=e=>(Object(o["pushScopeId"])("data-v-c164876e"),e=e(),Object(o["popScopeId"])(),e),s={"data-aos":"fade-in","data-aos-delay":"300",class:"container"},a={class:"main-body"},r={class:"row gutters-sm"},n={class:"col-md-4 mb-3"},i={class:"card"},d={class:"card-body"},m={class:"d-flex flex-column align-items-center text-center"},b=["src"],u={key:1,src:"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g",style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},j={class:"mt-3"},O={class:"profile_text"},p=["innerHTML"],k={key:1,class:"text-muted font-size-sm profile_text"},h={key:2},E={class:"text-muted profile_text"},y={class:"col-md-8"},N={class:"card mb-3"},V={class:"card-body"},f={key:0,class:"row profile_text"},v=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{lass:"mb-0"},"Імя")],-1)),g={class:"col-sm-9 text-secondary"},w={key:1},_={class:"row profile_text"},B=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Email")],-1)),x={class:"col-sm-9 text-secondary"},C=l(()=>Object(o["createElementVNode"])("hr",null,null,-1)),S={class:"row profile_text"},D=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Дата реєстрації")],-1)),U={class:"col-sm-9 text-secondary"},$=l(()=>Object(o["createElementVNode"])("hr",null,null,-1)),T=l(()=>Object(o["createElementVNode"])("hr",null,null,-1)),F={key:2,class:"row profile_text"},z=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Адреса")],-1)),I={class:"col-sm-9 text-secondary"},M={key:3},A={key:4,class:"row profile_text"},H=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Улюблене")],-1)),J={class:"col-sm-9 text-secondary"},L={key:5},P={class:"row profile_text"},G=l(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Бали")],-1)),q={class:"col-sm-9 text-secondary"},K=l(()=>Object(o["createElementVNode"])("hr",null,null,-1));function Q(e,t,c,l,Q,R){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{style:Object(o["normalizeStyle"])({"background-image":"url("+e.region.background_img+")",backgroundSize:"100%"})},[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",m,[e.user.profile_img?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:e.user.profile_img,style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},null,8,b)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",u)),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("h4",O,Object(o["toDisplayString"])(e.user.username),1),e.user.bio?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",{key:0,class:"text-secondary mb-1 profile_text",innerHTML:e.user.bio},null,8,p)):Object(o["createCommentVNode"])("",!0),e.city?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",k,Object(o["toDisplayString"])(e.city.title),1)):Object(o["createCommentVNode"])("",!0),e.user.username!==e.cur_user.username&&e.cur_user.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,["unfollow"===e.sub_status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>R.Follow&&R.Follow(...e))},"Підписатися")):Object(o["createCommentVNode"])("",!0),"follow"===e.sub_status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>R.Unfollow&&R.Unfollow(...e))},"Відписатися")):Object(o["createCommentVNode"])("",!0)])):e.cur_user.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:3,onClick:t[2]||(t[2]=Object(o["withModifiers"])(t=>R.goTo(e.user.slug),["prevent"])),class:"btn btn-primary"},"Змінити профіль")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("p",E," Підписників:"+Object(o["toDisplayString"])(e.followers_count),1)])])])])]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("div",V,[e.user.first_name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[v,Object(o["createElementVNode"])("div",g,Object(o["toDisplayString"])(e.user.first_name),1)])):Object(o["createCommentVNode"])("",!0),e.user.first_name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",w)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",_,[B,Object(o["createElementVNode"])("div",x,Object(o["toDisplayString"])(e.user.email),1)]),C,Object(o["createElementVNode"])("div",S,[D,Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.user.date_joined),1)]),$,T,e.city.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",F,[z,Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.city.title),1)])):Object(o["createCommentVNode"])("",!0),e.city.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",M)):Object(o["createCommentVNode"])("",!0),e.region.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",A,[H,Object(o["createElementVNode"])("div",J,Object(o["toDisplayString"])(e.region.title),1)])):Object(o["createCommentVNode"])("",!0),e.region.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",L)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",P,[G,Object(o["createElementVNode"])("div",q,Object(o["toDisplayString"])(e.user.points),1)]),K])])])])])])],4)}var R=c("bc3a"),W=c.n(R),X={name:"profile",props:["slug"],data:()=>({user:{},cur_user:{},backend:(void 0).$store.state.backendUrl+"auth/users/me/",sub_status:"",followers_count:"",region:{},city:""}),created(){this.cur_user=this.$store.state.cuser,this.loadUser()},methods:{async loadUser(){W()({url:this.$store.state.backendUrl+`api/v1/${this.slug}/`,method:"GET",headers:{"Content-type":"application/json"}}).then(e=>{this.user=e.data,this.followers_count=e.data.followers.length,this.region=e.data.region,this.city=e.data.city,e.data.followers.includes(this.$store.state.cuser.id)?this.sub_status="follow":this.sub_status="unfollow"}).catch(e=>{let t=this.$router.resolve({name:"404"});window.location.assign(t.href)})},async Follow(){const e=new FormData;e.append("id",this.$store.state.cuser.id),W()({url:this.$store.state.backendUrl+"api/v1/follow/"+this.user.id,data:e,method:"POST"}).then(e=>{console.log(e),this.loadUser()})},async Unfollow(){const e=new FormData;e.append("id",this.$store.state.cuser.id),W()({url:this.$store.state.backendUrl+"api/v1/unfollow/"+this.user.id,data:e,method:"POST"}).then(e=>{console.log(e),this.loadUser()})},goTo(e){let t=this.$router.resolve({name:"profile_edit",params:{slug:e}});window.location.assign(t.href)}}},Y=(c("0858"),c("d959")),Z=c.n(Y);const ee=Z()(X,[["render",Q],["__scopeId","data-v-c164876e"]]);t["default"]=ee},c2d5:function(e,t,c){}}]);
//# sourceMappingURL=chunk-35286444.bfb7d4bf.js.map