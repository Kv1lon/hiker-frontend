{"version":3,"sources":["webpack:///./src/views/profileedit.vue?e49e","webpack:///./src/views/profileedit.vue","webpack:///./src/views/profileedit.vue?b1c6"],"names":["class","data-aos","data-aos-delay","src","style","alt","width","for","lass","loading","user_region","background_img","user","profile_img","username","bio","city","resetPassword","ref","type","name","accept","setImage","id","imgSrc","aspect-ratio","preview","href","role","rotate","flipX","flipY","cropImage","reset","selected_file","update","first_name","placeholder","required","email","msg","searchable","options","opt_cities","region","opt_regions","editor","config","editorConfig","components","ckeditor","component","VueCropper","Multiselect","props","data","cur_user","password","error","cities","regions","oldpas","newpas","toast","toolbar","items","language","image","table","contentToolbar","simpleUpload","uploadUrl","watch","value","this","validateEmail","loadUser","loadListCities","loadListRegions","$store","state","backendUrl","methods","$refs","cropper","getCroppedCanvas","toDataURL","dom","scale","getAttribute","scaleX","setAttribute","scaleY","deg","e","file","target","files","indexOf","FileReader","reader","onload","event","result","replace","readAsDataURL","input","click","percent","relativeZoom","response","fetch","slug","method","headers","then","json","catch","err","r","$router","resolve","window","location","assign","title","cuser","url","el","push","formData","FormData","find","x","append","resp","console","log","test","success","__exports__","render"],"mappings":"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","file":"js/chunk-e3002df8.7e15e2f0.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./profileedit.vue?vue&type=style&index=1&id=49180319&scoped=true&lang=css\"","<template>\n        <div v-if=\"loading\" class=\"preloader\">\n    <div class=\"preloader__image\">\n    </div></div>\n<div  :style=\"{'background-image': 'url(' + user_region.background_img + ')',backgroundSize:'100%',}\">\n    <section  data-aos=\"fade-in\" data-aos-delay=\"300\" class=\"edit-profile\">\n        <div class=\"container\">\n            <div class=\"section-header\">\n                <h2 class=\"profile_text\">Зміна профіля</h2>\n            </div>\n            <div class=\"container\">\n                <div class=\"main-body\">\n                    <div class=\"row gutters-sm\">\n                        <div class=\"col-md-4 mb-3\">\n                            <div class=\"card\">\n                                <div class=\"card-body\">\n                                    <div class=\"d-flex flex-column align-items-center text-center\">\n                <img v-if=\"user.profile_img\" :src=\"user.profile_img\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n                <img v-else src=\"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n\n                                        <div class=\"mt-3\">\n                                            <h4 class=\"profile_text\"> {{user.username}}</h4>\n                                            <p v-if=\"user.bio\" class=\"text-secondary mb-1 profile_text\" v-html=\"user.bio\"></p>\n                                            <p class=\"text-muted font-size-sm profile_text\">{{city}}</p>\n                                          <div><button class=\"btn btn-dark\" @click=\"resetPassword\">Змінити пароль</button> </div>\n                                            <div><label for=\"upload_pr\" class=\"btn btn-success\">Завантажити фото</label></div>\n                                            <input\n                                                    ref=\"input\"\n                                                    type=\"file\"\n                                                    name=\"image\"\n                                                    accept=\"image/*\"\n                                                    @change=\"setImage\"\n                                                    id=\"upload_pr\"\n                                            />\n                                            <div v-if='imgSrc !== \"\"' class=\"content\" >\n                                                <section  class=\"cropper-area\">\n                                                    <div class=\"img-cropper\">\n                                                        <vue-cropper style=\"max-height: 40vh; display: block\"\n                                                                     ref=\"cropper\"\n                                                                     :aspect-ratio=\"1\"\n                                                                     :src=\"imgSrc\"\n                                                                     preview=\".preview\"/>\n                                                    </div>\n                                                    <div>\n                                                        <a\n                                                                href=\"#\"\n                                                                role=\"button\"\n                                                                class=\"btn btn-theme\"\n                                                                @click.prevent=\"rotate(-90)\">\n                                                            Повернути\n                            </a>\n                                                        <a\n                                                                ref=\"flipX\"\n                                                                href=\"#\"\n                                                                role=\"button\"\n                                                                class=\"btn btn-theme\"\n                                                                @click.prevent=\"flipX\">\n                                                            Відзеркалити по горизонгталі\n                            </a>\n                                                        <a\n                                                                ref=\"flipY\"\n                                                                href=\"#\"\n                                                                role=\"button\"\n                                                                class=\"btn btn-theme\"\n                                                                @click.prevent=\"flipY\">\n                                                            Відзеркилити по вертикалі\n                            </a>\n                                                        <a\n                                                                href=\"#\"\n                                                                role=\"button\"\n                                                                class=\"btn btn-theme\"\n\n                                                                @click.prevent=\"cropImage\">\n                                                            Обрізати\n                            </a>\n                                                        <a\n                                                                href=\"#\"\n                                                                role=\"button\"\n                                                                class=\"btn btn-theme\"\n\n                                                                @click.prevent=\"reset\">\n                                                            Скасувати\n                            </a>\n                                                    </div>\n                                                </section>\n                                                <section class=\"preview-area\">\n                                                    <label>Обрізати фото</label>\n                                                    <div class=\"cropped-image\" >\n                                                        <img style=\"max-height: 40vh; display: block; border-style: groove;\"\n                                                             v-if=\"selected_file\"\n                                                             :src=\"selected_file\"\n                                                             alt=\"Cropped Image\"/>\n                                                        <div v-else class=\"crop-placeholder\" />\n                                                    </div>\n                                                </section>\n                                            </div>                <button @click=\"update\" class=\"btn btn-primary\">Зберегти</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-md-8\">\n                            <div class=\"card mb-3\">\n                                <div class=\"card-body\">\n                                    <div class=\"row profile_text\">\n                                        <div class=\"col-sm-3 \">\n                                            <h6  lass=\"mb-0\">Імя</h6>\n                                        </div>\n                                        <div class=\"col-sm-9 text-secondary p\">\n                                            <input type=\"text\" v-model=\"first_name\" class=\"form-control\" placeholder=\"Имя пользователя\" required/>\n                                        </div>\n                                    </div>\n                                    <hr>\n                                    <div class=\"row profile_text\">\n                                        <div class=\"col-sm-3 \">\n                                            <h6 class=\" mb-0\">Email</h6>\n                                        </div>\n                                        <div class=\"col-sm-9 text-secondary\">\n                                            <input type=\"email\" v-model=\"email\" class=\"form-control\" placeholder=\"email\"  required/>\n                                                                <span v-if=\"msg.email\">{{msg.email}}</span>\n\n                                        </div>\n                                    </div>\n                                    <hr>\n\n                                    <div  class=\"row profile_text\">\n                                        <div class=\"col-sm-3\"><h6 class=\"mb-0\">Адреса</h6>\n                                        </div>\n                                        <div class=\"col-sm-9 text-secondary\">\n                                            <Multiselect :searchable=\"true\" v-model=\"city\" :options=\"opt_cities\" required></Multiselect>\n                                        </div>\n                                    </div>\n                                    <hr>\n                                    <div  class=\"row profile_text\">\n                                        <div class=\"col-sm-3\"><h6 class=\"mb-0\">Улюблене</h6>\n                                        </div>\n                                        <div class=\"col-sm-9 text-secondary\">\n                                            <Multiselect :searchable=\"true\" v-model=\"region\" :options=\"opt_regions\" required></Multiselect>\n                                        </div>\n                                    </div>\n                                    <hr>\n                                    <div  class=\"row profile_text\">\n                                        <div class=\"col-sm-3\"><h6 class=\"mb-0\" >Біо</h6>\n                                        </div>\n                                        <div class=\"col-sm-9 text-secondary\">\n                                            <ckeditor class=\"input-text\" :editor=\"editor\" v-model=\"bio\" :config=\"editorConfig\"></ckeditor>\n                                        </div>\n                                    </div>\n                                  <hr>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n        </div>\n</template>\n<script>\n    import axios from \"axios\";\nimport VueCropper from 'vue-cropperjs';\nimport 'cropperjs/dist/cropper.css';\n    import CKEditor from \"@ckeditor/ckeditor5-vue\";\nimport Editor from '@ckeditor/ckeditor5-simple-build';\n    import Multiselect from \"@vueform/multiselect\";\n    import {useToast} from \"vue-toastification\";\n\n    export default {\n        components: {\n            ckeditor: CKEditor.component,\n            VueCropper,Multiselect\n        },\n        name: \"panel_change\",\n        props:['slug'],\n        data: () => ({\n            user:{},\n            cur_user:{},\n            username:\"\",\n            password:\"\",\n            email:\"\",\n            selected_file: null,\n            imgSrc:\"\",\n            first_name:\"\",\n            city:\"\",\n            bio:\"\",\n            error:\"\",\n            cities:[],\n            opt_cities:[],\n            region:'',\n            regions:[],\n            user_region:{},\n            opt_regions:[],\n                    msg:[],\n          oldpas:'',\n          newpas:'',\n          loading:false,\n\t\t\ttoast : useToast(),\n    editorConfig: {\n            toolbar: {\n                items: [\n                        'heading',\n                        '|',\n                        'bold',\n                        'italic',\n                        'link',\n                        'bulletedList',\n                        'numberedList',\n                        '|',\n                        'outdent',\n                        'indent',\n                        '|',\n                        'imageUpload',\n                        'blockQuote',\n                        'insertTable',\n                        'mediaEmbed',\n                        'undo',\n                        'redo']},\n                language: 'ru',\n                image: {    toolbar: [\n                               'imageTextAlternative',\n                         'imageStyle:alignLeft',\n                        'imageStyle:inLine',\n                        'imageStyle:alignRight',\n                        'toggleImageCaption',\n                        'imageStyle:alignCenter',\n                        'imageStyle:centeredImage',\n                    ]\n                },\n                table: {contentToolbar: [\n                        'tableColumn',\n                        'tableRow',\n                        'mergeTableCells'\n                    ]\n                },\n                simpleUpload: {// The URL that the images are uploaded to.\n                    uploadUrl: '',\n                    // Enable the XMLHttpRequest.withCredentials property.withCredentials: false,\n                }\n            },\n            editor:Editor\n        }),\n        watch: {\n            email(value){\n                // binding this to the data value in the email input\n                this.email = value;\n                this.validateEmail(value);\n            },\n},\n        created() {\n            this.loadUser()\n            this.loadListCities()\n            this.loadListRegions()\n                              this.editorConfig.simpleUpload.uploadUrl=this.$store.state.backendUrl+'api/v1/upload_img/none/'\n\n        },\n\n      methods: {cropImage() {\n            this.selected_file = this.$refs.cropper.getCroppedCanvas().toDataURL();\n            },\n    flipX() {\n      const dom = this.$refs.flipX;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleX(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    flipY() {\n      const dom = this.$refs.flipY;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleY(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    reset() {\n      this.$refs.cropper.reset();\n    },\n    rotate(deg) {\n      this.$refs.cropper.rotate(deg);\n    },\n    setImage(e) {\n      const file = e.target.files[0];\n      if (file.type.indexOf('image/') === -1) {\n        this.toast.error('Выберите файл с фото');\n        return;\n      }\n      if (typeof FileReader === 'function') {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          this.imgSrc = event.target.result;\n          this.$refs.cropper.replace(event.target.result);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        this.toast.error('Простите, FileReader API не поддерживаеться');\n      }\n      },\n    showFileChooser() {\n      this.$refs.input.click();\n    },\n    zoom(percent) {\n      this.$refs.cropper.relativeZoom(percent);\n      },\n            onFileSelected(event){\n                this.selected_file= event.target.files[0]\n            },\n\n             async loadUser() {\n\n                const response = await fetch( this.$store.state.backendUrl+`api/v1/${this.slug}/`,{ method: 'GET',headers: {'Content-type': 'application/json',}}).then(response=>response.json()).catch(err =>{\n                            let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: '404',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n                })\n               this.user  = response\n                    this.username = response.username\n                    this.first_name = response.first_name\n                    this.email= response.email\n                    this.city= response.city.title\n                    this.region= response.region.title\n                    this.user_region = response.region\n                    this.bio= response.bio\n                       this.cur_user = this.$store.state.cuser\n                 if(this.user.email !== this.cur_user.email){\n                                let r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: '404',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n                 }\n                },\n\n             loadListCities() {\n                axios({url: this.$store.state.backendUrl+`api/v1/city`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.cities = response.data\n                    for(var el in response.data){\n                        this.opt_cities.push(response.data[el].title)\n                    }\n                })\n            },\n             loadListRegions() {\n                axios({url: this.$store.state.backendUrl+`api/v1/regions`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.regions  = response.data\n                    for(var el in response.data){\n                        this.opt_regions.push(response.data[el].title)\n                    }\n                })\n            },\n            update: function () {if(!this.msg['email'] && this.user.email == this.cur_user.email){\n                const formData = new FormData();\n                if(this.region){\n                this.region = this.regions.find(x=>x.title===this.region).slug}\n                formData.append(\"first_name\", this.first_name);\n                formData.append(\"email\", this.email);\n                if(this.selected_file != null){\n                    formData.append(\"profile_img\", this.selected_file);}\n                if (this.city){\n                                this.city = this.cities.find(x=>x.title===this.city).slug}\n\n                if(this.city != null){\n                    formData.append(\"city\", this.city);\n                }\n                if(this.region != null){\n                    formData.append(\"region\", this.region);\n                }\n\n                formData.append(\"bio\", this.bio);\n                this.loading = true\n                axios({url: this.$store.state.backendUrl+`api/v1/profile_edit/${this.user.slug}/`, data:formData, method: 'PUT' }).then(resp =>{console.log(resp), this.loading =false\n\t\t\t\t\t\t\tlet r = this.$router.resolve({\n\t\t\t\t\t\t\t\tname: 'home', // put your route information in\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\twindow.location.assign(r.href)\n\t\t\t\t\t\t\t})\n             .catch(err => {this.toast.error(\" Произошла ошибка. Введите валидные данные или попробуйте позже \"),  this.loading =false})}\n                             else {\n                this.toast.error(\" Произошла ошибка. Введите валидные данные или попробуйте позже \")\n                }\n\n        },\n            validateEmail(value){\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value))\n  {\n    this.msg['email'] = '';\n  } else{\n    this.msg['email'] = 'Это не похоже на email';\n  }\n    },\n        resetPassword(){\n                  const formData = new FormData();\n                  this.loading = true\n                    formData.append('email', this.user.email);\n                                    axios({url: this.$store.state.backendUrl+`auth/users/reset_password/`, data:formData, method: 'POST' }).then(resp => {\n                                      this.loading =false\n                                      this.toast.success('На Вашу почту была выслана ссылка для смены пароля')\n                                      console.log(resp)}\n                                    )\n        }\n\n    }}\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n\n<style scoped>\n#upload_pr {\n   opacity: 0;\n   position: absolute;\n   z-index: -1;\n}\n.btn{\n  margin: 1%;\n}\n  .preloader {\n    position: fixed;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    background: #fff;\n    z-index: 1001;\n  }\n\n  .preloader__image {\n    position: relative;\n    top: 50%;\n    left: 50%;\n    width: 64px;\n    height: 64px;\n    margin-top: -32px;\n    margin-left: -32px;\n    background: url('../assets/Walk.gif') no-repeat 50% 50%;\n    /*расположение (url) изображения gif и др. параметры*/\n  }\n\n  .loaded_hiding .preloader {\n    transition: 0.3s opacity;\n    opacity: 0;\n  }\n\n  .loaded .preloader {\n    opacity: 50%;\n  }   .profile_text{\n    background-color:mintcream ;\n    border-radius: 5px;\n    color: #384452;\n    padding: 1%;\n  }\n</style>\n","import { render } from \"./profileedit.vue?vue&type=template&id=49180319&scoped=true\"\nimport script from \"./profileedit.vue?vue&type=script&lang=js\"\nexport * from \"./profileedit.vue?vue&type=script&lang=js\"\n\nimport \"@vueform/multiselect/themes/default.css?vue&type=style&index=0&lang=css\"\nimport \"./profileedit.vue?vue&type=style&index=1&id=49180319&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\old\\\\Job\\\\Documents\\\\hiker_frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49180319\"]])\n\nexport default __exports__"],"sourceRoot":""}