"use strict";(self["webpackChunkhiker"]=self["webpackChunkhiker"]||[]).push([[53],{9339:function(t,e,a){a.d(e,{Z:function(){return _}});var s=a(6252);const n=t=>((0,s.dD)("data-v-c3996dcc"),t=t(),(0,s.Cn)(),t),l={class:"pag"},i={class:"pagination"},c={key:0,class:"page-item"},r={key:1,class:"page-item"},o=n((()=>(0,s._)("a",{class:"page-link"},"|",-1))),d=[o],u={key:2,class:"page-item"};function h(t,e,a,n,o,h){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("ul",i,[null!=a.prev?((0,s.wg)(),(0,s.iD)("li",c,[(0,s._)("span",{onClick:e[0]||(e[0]=t=>h.changePage(a.prev)),style:{cursor:"pointer"},class:"page-link"},"Минула")])):(0,s.kq)("",!0),null!=a.prev&null!=a.next?((0,s.wg)(),(0,s.iD)("li",r,d)):(0,s.kq)("",!0),null!=a.next?((0,s.wg)(),(0,s.iD)("li",u,[(0,s._)("a",{style:{cursor:"pointer"},onClick:e[1]||(e[1]=t=>h.changePage(a.next)),class:"page-link"},"Наступна")])):(0,s.kq)("",!0)])])}var p={name:"Pagination",props:["next","prev","searchq","limit"],data:()=>({currenturl:""}),created(){this.currenturl=this.$store.state.backendUrl+`api/v1/blog?city=&country=&date=&search=${this.searchq}&tags=`},methods:{changePage(t){this.currenturl=t,this.$emit("page-changed",t),window.scrollTo(0,0)}}},g=a(3744);const k=(0,g.Z)(p,[["render",h],["__scopeId","data-v-c3996dcc"]]);var _=k},6053:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=a(6252),n=a(6612),l=a(8061);const i=t=>((0,s.dD)("data-v-612d761a"),t=t(),(0,s.Cn)(),t),c={class:"b"},r={class:"table table-dark"},o=i((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"Id"),(0,s._)("th",{scope:"col"},"Дата створення"),(0,s._)("th",{scope:"col"},"Назва"),(0,s._)("th",{scope:"col"},"Користувач"),(0,s._)("th",{scope:"col"},"Детальніше"),(0,s._)("th",{scope:"col"},"Видалити")])],-1))),d={"data-aos":"fade-in","data-aos-delay":"300"},u={scope:"row"},h=["onClick"],p=["onClick"],g={key:0,class:"no_a","data-aos":"fade-in","data-aos-delay":"300"};function k(t,e,a,i,k,_){const v=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("table",r,[o,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.listTickets,(t=>((0,s.wg)(),(0,s.iD)("tr",d,[(0,s._)("th",u,(0,n.zw)(t.id),1),(0,s._)("td",null,(0,n.zw)(t.date),1),(0,s._)("td",null,(0,n.zw)(t.text_id),1),(0,s._)("td",null,(0,n.zw)(t.user),1),(0,s._)("td",null,[(0,s._)("a",null,[(0,s._)("button",{onClick:(0,l.iM)((e=>_.goTo(t.slug)),["prevent"]),class:"btn btn-dark"},"Детальніше",8,h)])]),(0,s._)("td",null,[(0,s._)("a",null,[(0,s._)("button",{onClick:(0,l.iM)((e=>_.delete_p(t.slug)),["prevent"]),class:"btn btn-dark"},"Видалити",8,p)])])])))),256))])]),0===t.listTickets.length?((0,s.wg)(),(0,s.iD)("div",g," У Вас ще немає білетів ")):(0,s.kq)("",!0),(0,s.Wm)(v,{next:t.next,prev:t.prev,searchq:t.search,onPageChanged:_.loadListTickets},null,8,["next","prev","searchq","onPageChanged"])])}var _=a(9669),v=a.n(_),b=a(9339),w={name:"tickets_cab",props:["slug"],components:{Pagination:b.Z},data:()=>({listTickets:[],next:"",prev:"",url:"",search:""}),created(){this.url=`${this.$store.getters.getServerUrl}api/v1/list_tickets/${this.$store.state.cuser.slug}?limit=10`,this.loadListTickets(this.url)},methods:{async loadListTickets(t){v()({url:t,method:"GET",headers:{"Content-type":"application/json"}}).then((t=>{this.listTickets=t.data.results,this.total=t.data.count,this.prev=t.data.previous,this.next=t.data.next})),console.log(this.listTickets)},goTo(t){this.$router.push({name:"tickets_cab_single",params:{slug:t}})},delete_p(t){v()({url:this.$store.state.backendUrl+`api/v1/delete_ticket/${t}`,method:"DELETE"}).then((t=>{console.log(t)})).then((()=>this.$router.go()))}}},m=a(3744);const y=(0,m.Z)(w,[["render",k],["__scopeId","data-v-612d761a"]]);var C=y}}]);
//# sourceMappingURL=53.e2ea9ced.js.map