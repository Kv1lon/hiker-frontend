{"version":3,"sources":["webpack:///./src/views/profile.vue?03c4","webpack:///./src/views/profile.vue","webpack:///./src/views/profile.vue?354e"],"names":["data-aos","data-aos-delay","class","src","style","alt","width","lass","region","background_img","user","profile_img","username","bio","city","title","cur_user","sub_status","Follow","Unfollow","goTo","slug","followers_count","first_name","email","date_joined","points","name","props","data","backend","this","$store","state","cuser","loadUser","backendUrl","methods","url","method","headers","then","response","followers","length","includes","id","catch","err","r","$router","resolve","window","location","assign","href","formData","FormData","append","resp","console","log","slug_u","params","__exports__","render"],"mappings":"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","file":"js/chunk-ee1cdb9c.17d27ffd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./profile.vue?vue&type=style&index=0&id=4dd63609&scoped=true&lang=css\"","<template>\n<div data-aos=\"fade-in\" data-aos-delay=\"300\"  :style=\"{'background-image': 'url(' + region.background_img + ')',backgroundSize:'100%',}\">\n  <div data-aos=\"fade-in\" data-aos-delay=\"300\" class=\"container\">\n    <div class=\"main-body\">\n      <div class=\"row gutters-sm\">\n        <div class=\"col-md-4 mb-3\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex flex-column align-items-center text-center\">\n                <img v-if=\"user.profile_img\" :src=\"user.profile_img\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n                <img v-else src=\"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g\" style=\"border-radius: 100px;\" alt=\"Admin\" class=\"rounded-circle\" width=\"150\">\n\n                <div class=\"mt-3\">\n                  <h4 class=\"profile_text\">{{user.username}}</h4>\n                  <p v-if=\"user.bio\" class=\"text-secondary mb-1 profile_text\"  v-html=\"user.bio \"></p>\n                  <p v-if=\"city\" class=\"text-muted font-size-sm profile_text\">{{city.title}}</p>\n                  <div v-if=\"user.username !== cur_user.username && cur_user.username\">\n                    <button v-if=\"sub_status === 'unfollow'\" class=\"btn btn-primary\" @click=\"Follow\">Підписатися</button>\n                    <button v-if=\"sub_status === 'follow'\" class=\"btn btn-primary\" @click=\"Unfollow\">Відписатися</button>\n                  </div>\n                  <button v-else-if=\"cur_user.username\" @click.prevent=\"goTo(user.slug)\" class=\"btn btn-primary\">Змінити профіль</button>\n                  <p class=\"text-muted profile_text\">\n                    Підписників:{{followers_count}}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-8\">\n          <div class=\"card mb-3\">\n            <div class=\"card-body\">\n              <div v-if=\"user.first_name\" class=\"row profile_text\">\n                <div class=\"col-sm-3 \">\n                  <h6  lass=\"mb-0\">Імя</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{user.first_name}}\n                    </div>\n              </div>\n              <hr  v-if=\"user.first_name\" >\n              <div class=\"row profile_text\">\n                <div class=\"col-sm-3\">\n                  <h6 class=\"mb-0\">Email</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{user.email}}\n                    </div>\n              </div>\n              <hr>\n              <div class=\"row profile_text\">\n                <div class=\"col-sm-3\">\n                  <h6 class=\"mb-0\">Дата реєстрації</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{user.date_joined}}\n                    </div>\n              </div>\n              <hr>\n              <div v-if=\"city.title\" class=\"row profile_text\">\n                <div class=\"col-sm-3\">\n                  <h6 class=\"mb-0\">Адреса</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{city.title}}\n                    </div>\n              </div>\n              <hr  v-if=\"city.title\">\n              <div v-if=\"region.title\" class=\"row profile_text\">\n                <div class=\"col-sm-3\">\n                  <h6 class=\"mb-0\">Улюблене</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{region.title}}\n                    </div>\n              </div>\n              <hr  v-if=\"region.title\">\n              <div class=\"row profile_text\">\n                <div class=\"col-sm-3\">\n                  <h6 class=\"mb-0\">Бали</h6>\n                </div>\n                <div class=\"col-sm-9 text-secondary\">\n                  {{user.points}}\n                    </div>\n              </div>\n              <hr>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n\n  export default {\n    name: \"profile\",\n    props:['slug'],\n    data: () => ({\n      user: {},\n      cur_user:{},\n      backend:\"\" ,\n      sub_status:\"\",\n      followers_count:\"\",\n      region:{},\n      city:\"\"\n    }),\n\n    created() {\n      this.cur_user = this.$store.state.cuser\n      this.loadUser()\n      this.backend = this.$store.state.backendUrl+`auth/users/me/`\n\n    },\n    methods: {\n      async loadUser() {\n        axios({url: this.$store.state.backendUrl+`api/v1/${this.slug}/`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.user  = response.data\n          this.followers_count = response.data.followers.length\n          this.region = response.data.region\n          this.city = response.data.city\n\n          if(response.data.followers.includes(this.$store.state.cuser.id)){\n            this.sub_status = \"follow\"\n          }\n          else {\n            this.sub_status = \"unfollow\"\n          }}).catch(err =>{\n          let r = this.$router.resolve({\n            name: '404',\n          })\n          window.location.assign(r.href)\n        })\n      },\n\n      async Follow(){\n        const formData = new FormData();\n        formData.append(\"id\", this.$store.state.cuser.id);\n        axios({url: this.$store.state.backendUrl+`api/v1/follow/${this.user.id}`, data:formData, method: 'POST'}).then(resp =>{console.log(resp),this.loadUser()} )\n      },\n\n      async Unfollow(){\n        const formData = new FormData();\n        formData.append(\"id\", this.$store.state.cuser.id);\n        axios({url: this.$store.state.backendUrl+`api/v1/unfollow/${this.user.id}`, data:formData, method: 'POST'})\n                .then(resp =>{console.log(resp),this.loadUser()} )\n      },\n\n      goTo(slug_u) {\n        let r = this.$router.resolve({\n          name: 'profile_edit',params: {slug: slug_u} // put your route information in\n        })\n        window.location.assign(r.href)\n      },\n    },\n  }\n\n</script>\n\n<style scoped>\n  .profile_text{\n    background-color: mintcream;\n    border-radius: 5px;\n    color: #384452;\n    padding: 1%;\n  }\n</style>","import { render } from \"./profile.vue?vue&type=template&id=4dd63609&scoped=true\"\nimport script from \"./profile.vue?vue&type=script&lang=js\"\nexport * from \"./profile.vue?vue&type=script&lang=js\"\n\nimport \"./profile.vue?vue&type=style&index=0&id=4dd63609&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\old\\\\Job\\\\Documents\\\\hiker_frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4dd63609\"]])\n\nexport default __exports__"],"sourceRoot":""}