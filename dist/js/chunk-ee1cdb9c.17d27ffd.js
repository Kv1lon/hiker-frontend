(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee1cdb9c"],{"40bb":function(e,t,c){},"9dd4":function(e,t,c){"use strict";c("40bb")},b3b1:function(e,t,c){"use strict";c.r(t);var o=c("7a23");const s=e=>(Object(o["pushScopeId"])("data-v-4dd63609"),e=e(),Object(o["popScopeId"])(),e),l={"data-aos":"fade-in","data-aos-delay":"300",class:"container"},a={class:"main-body"},r={class:"row gutters-sm"},n={class:"col-md-4 mb-3"},d={class:"card"},i={class:"card-body"},b={class:"d-flex flex-column align-items-center text-center"},m=["src"],u={key:1,src:"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g",style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},j={class:"mt-3"},O={class:"profile_text"},p=["innerHTML"],k={key:1,class:"text-muted font-size-sm profile_text"},h={key:2},y={class:"text-muted profile_text"},E={class:"col-md-8"},N={class:"card mb-3"},V={class:"card-body"},f={key:0,class:"row profile_text"},v=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{lass:"mb-0"},"Імя")],-1)),g={class:"col-sm-9 text-secondary"},w={key:1},_={class:"row profile_text"},B=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Email")],-1)),x={class:"col-sm-9 text-secondary"},C=s(()=>Object(o["createElementVNode"])("hr",null,null,-1)),S={class:"row profile_text"},D=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Дата реєстрації")],-1)),U={class:"col-sm-9 text-secondary"},$=s(()=>Object(o["createElementVNode"])("hr",null,null,-1)),T={key:2,class:"row profile_text"},F=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Адреса")],-1)),z={class:"col-sm-9 text-secondary"},I={key:3},M={key:4,class:"row profile_text"},A=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Улюблене")],-1)),H={class:"col-sm-9 text-secondary"},J={key:5},L={class:"row profile_text"},P=s(()=>Object(o["createElementVNode"])("div",{class:"col-sm-3"},[Object(o["createElementVNode"])("h6",{class:"mb-0"},"Бали")],-1)),G={class:"col-sm-9 text-secondary"},q=s(()=>Object(o["createElementVNode"])("hr",null,null,-1));function K(e,t,c,s,K,Q){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{"data-aos":"fade-in","data-aos-delay":"300",style:Object(o["normalizeStyle"])({"background-image":"url("+e.region.background_img+")",backgroundSize:"100%"})},[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",b,[e.user.profile_img?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:e.user.profile_img,style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},null,8,m)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",u)),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("h4",O,Object(o["toDisplayString"])(e.user.username),1),e.user.bio?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",{key:0,class:"text-secondary mb-1 profile_text",innerHTML:e.user.bio},null,8,p)):Object(o["createCommentVNode"])("",!0),e.city?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",k,Object(o["toDisplayString"])(e.city.title),1)):Object(o["createCommentVNode"])("",!0),e.user.username!==e.cur_user.username&&e.cur_user.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,["unfollow"===e.sub_status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>Q.Follow&&Q.Follow(...e))},"Підписатися")):Object(o["createCommentVNode"])("",!0),"follow"===e.sub_status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>Q.Unfollow&&Q.Unfollow(...e))},"Відписатися")):Object(o["createCommentVNode"])("",!0)])):e.cur_user.username?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:3,onClick:t[2]||(t[2]=Object(o["withModifiers"])(t=>Q.goTo(e.user.slug),["prevent"])),class:"btn btn-primary"},"Змінити профіль")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("p",y," Підписників:"+Object(o["toDisplayString"])(e.followers_count),1)])])])])]),Object(o["createElementVNode"])("div",E,[Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("div",V,[e.user.first_name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[v,Object(o["createElementVNode"])("div",g,Object(o["toDisplayString"])(e.user.first_name),1)])):Object(o["createCommentVNode"])("",!0),e.user.first_name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",w)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",_,[B,Object(o["createElementVNode"])("div",x,Object(o["toDisplayString"])(e.user.email),1)]),C,Object(o["createElementVNode"])("div",S,[D,Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.user.date_joined),1)]),$,e.city.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",T,[F,Object(o["createElementVNode"])("div",z,Object(o["toDisplayString"])(e.city.title),1)])):Object(o["createCommentVNode"])("",!0),e.city.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",I)):Object(o["createCommentVNode"])("",!0),e.region.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[A,Object(o["createElementVNode"])("div",H,Object(o["toDisplayString"])(e.region.title),1)])):Object(o["createCommentVNode"])("",!0),e.region.title?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",J)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",L,[P,Object(o["createElementVNode"])("div",G,Object(o["toDisplayString"])(e.user.points),1)]),q])])])])])])],4)}var Q=c("bc3a"),R=c.n(Q),W={name:"profile",props:["slug"],data:()=>({user:{},cur_user:{},backend:"",sub_status:"",followers_count:"",region:{},city:""}),created(){this.cur_user=this.$store.state.cuser,this.loadUser(),this.backend=this.$store.state.backendUrl+"auth/users/me/"},methods:{async loadUser(){R()({url:this.$store.state.backendUrl+`api/v1/${this.slug}/`,method:"GET",headers:{"Content-type":"application/json"}}).then(e=>{this.user=e.data,this.followers_count=e.data.followers.length,this.region=e.data.region,this.city=e.data.city,e.data.followers.includes(this.$store.state.cuser.id)?this.sub_status="follow":this.sub_status="unfollow"}).catch(e=>{let t=this.$router.resolve({name:"404"});window.location.assign(t.href)})},async Follow(){const e=new FormData;e.append("id",this.$store.state.cuser.id),R()({url:this.$store.state.backendUrl+"api/v1/follow/"+this.user.id,data:e,method:"POST"}).then(e=>{console.log(e),this.loadUser()})},async Unfollow(){const e=new FormData;e.append("id",this.$store.state.cuser.id),R()({url:this.$store.state.backendUrl+"api/v1/unfollow/"+this.user.id,data:e,method:"POST"}).then(e=>{console.log(e),this.loadUser()})},goTo(e){let t=this.$router.resolve({name:"profile_edit",params:{slug:e}});window.location.assign(t.href)}}},X=(c("9dd4"),c("d959")),Y=c.n(X);const Z=Y()(W,[["render",K],["__scopeId","data-v-4dd63609"]]);t["default"]=Z}}]);
//# sourceMappingURL=chunk-ee1cdb9c.17d27ffd.js.map