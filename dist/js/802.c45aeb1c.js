"use strict";(self["webpackChunkhiker"]=self["webpackChunkhiker"]||[]).push([[802],{9339:function(t,e,a){a.d(e,{Z:function(){return v}});var s=a(6252);const n=t=>((0,s.dD)("data-v-c3996dcc"),t=t(),(0,s.Cn)(),t),l={class:"pag"},o={class:"pagination"},r={key:0,class:"page-item"},i={key:1,class:"page-item"},c=n((()=>(0,s._)("a",{class:"page-link"},"|",-1))),d=[c],u={key:2,class:"page-item"};function h(t,e,a,n,c,h){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("ul",o,[null!=a.prev?((0,s.wg)(),(0,s.iD)("li",r,[(0,s._)("span",{onClick:e[0]||(e[0]=t=>h.changePage(a.prev)),style:{cursor:"pointer"},class:"page-link"},"Минула")])):(0,s.kq)("",!0),null!=a.prev&null!=a.next?((0,s.wg)(),(0,s.iD)("li",i,d)):(0,s.kq)("",!0),null!=a.next?((0,s.wg)(),(0,s.iD)("li",u,[(0,s._)("a",{style:{cursor:"pointer"},onClick:e[1]||(e[1]=t=>h.changePage(a.next)),class:"page-link"},"Наступна")])):(0,s.kq)("",!0)])])}var p={name:"Pagination",props:["next","prev","searchq","limit"],data:()=>({currenturl:""}),created(){this.currenturl=this.$store.state.backendUrl+`api/v1/blog?city=&country=&date=&search=${this.searchq}&tags=`},methods:{changePage(t){this.currenturl=t,this.$emit("page-changed",t),window.scrollTo(0,0)}}},g=a(3744);const _=(0,g.Z)(p,[["render",h],["__scopeId","data-v-c3996dcc"]]);var v=_},802:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var s=a(6252),n=a(6612),l=a(8061);const o=t=>((0,s.dD)("data-v-64ad7422"),t=t(),(0,s.Cn)(),t),r={class:"b"},i={class:"table table-dark"},c=o((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"Id"),(0,s._)("th",{scope:"col"},"Дата створення"),(0,s._)("th",{scope:"col"},"Назва"),(0,s._)("th",{scope:"col"},"Автор"),(0,s._)("th",{scope:"col"},"Змінити"),(0,s._)("th",{scope:"col"},"Видалити")])],-1))),d={"data-aos":"fade-in","data-aos-delay":"300"},u={scope:"row"},h=["onClick"],p=["onClick"],g={key:0,class:"no_a","data-aos":"fade-in","data-aos-delay":"300"};function _(t,e,a,o,_,v){const k=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("table",i,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.listPosts,(t=>((0,s.wg)(),(0,s.iD)("tr",d,[(0,s._)("th",u,(0,n.zw)(t.id),1),(0,s._)("td",null,(0,n.zw)(t.date),1),(0,s._)("td",null,(0,n.zw)(t.title),1),(0,s._)("td",null,(0,n.zw)(t.author),1),(0,s._)("td",null,[(0,s._)("a",null,[(0,s._)("button",{onClick:(0,l.iM)((e=>v.goTo(t.slug)),["prevent"]),class:"btn btn-dark"},"Змінити",8,h)])]),(0,s._)("td",null,[(0,s._)("a",null,[(0,s._)("button",{onClick:(0,l.iM)((e=>v.delete_p(t.slug)),["prevent"]),class:"btn btn-dark"},"Видалити",8,p)])])])))),256))])]),0===t.listPosts.length?((0,s.wg)(),(0,s.iD)("div",g," У Вас ще немає статей ")):(0,s.kq)("",!0),(0,s.Wm)(k,{next:t.next,prev:t.prev,searchq:t.search,onPageChanged:v.loadListPosts},null,8,["next","prev","searchq","onPageChanged"])])}var v=a(9669),k=a.n(v),b=a(9339),w={name:"panel",props:["slug"],components:{Pagination:b.Z},data:()=>({listPosts:[],next:"",prev:"",url:"",search:""}),created(){this.url=`${this.$store.getters.getServerUrl}api/v1/cabinet/${this.$store.state.cuser.slug}?limit=10&search=`,this.loadListPosts(this.url)},methods:{async loadListPosts(t){k()({url:t,method:"GET",headers:{"Content-type":"application/json"}}).then((t=>{this.listPosts=t.data.results,this.total=t.data.count,this.prev=t.data.previous,this.next=t.data.next})),console.log(this.listPosts)},goTo(t){this.$router.push({name:"panel_change",params:{slug:t}})},delete_p(t){k()({url:this.$store.state.backendUrl+`api/v1/delete/${t}`,method:"DELETE"}).then((t=>{console.log(t)})).then((()=>this.$router.go()))}}},m=a(3744);const P=(0,m.Z)(w,[["render",_],["__scopeId","data-v-64ad7422"]]);var y=P}}]);
//# sourceMappingURL=802.c45aeb1c.js.map