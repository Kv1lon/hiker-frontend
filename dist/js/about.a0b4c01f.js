"use strict";(self["webpackChunkhiker"]=self["webpackChunkhiker"]||[]).push([[443],{9339:function(e,t,i){i.d(t,{Z:function(){return k}});var s=i(6252);const a=e=>((0,s.dD)("data-v-c3996dcc"),e=e(),(0,s.Cn)(),e),l={class:"pag"},o={class:"pagination"},r={key:0,class:"page-item"},n={key:1,class:"page-item"},c=a((()=>(0,s._)("a",{class:"page-link"},"|",-1))),d=[c],u={key:2,class:"page-item"};function _(e,t,i,a,c,_){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("ul",o,[null!=i.prev?((0,s.wg)(),(0,s.iD)("li",r,[(0,s._)("span",{onClick:t[0]||(t[0]=e=>_.changePage(i.prev)),style:{cursor:"pointer"},class:"page-link"},"Минула")])):(0,s.kq)("",!0),null!=i.prev&null!=i.next?((0,s.wg)(),(0,s.iD)("li",n,d)):(0,s.kq)("",!0),null!=i.next?((0,s.wg)(),(0,s.iD)("li",u,[(0,s._)("a",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=e=>_.changePage(i.next)),class:"page-link"},"Наступна")])):(0,s.kq)("",!0)])])}var m={name:"Pagination",props:["next","prev","searchq","limit"],data:()=>({currenturl:""}),created(){this.currenturl=this.$store.state.backendUrl+`api/v1/blog?city=&country=&date=&search=${this.searchq}&tags=`},methods:{changePage(e){this.currenturl=e,this.$emit("page-changed",e),window.scrollTo(0,0)}}},h=i(3744);const p=(0,h.Z)(m,[["render",_],["__scopeId","data-v-c3996dcc"]]);var k=p},7306:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var s=i(6252),a=i(8061);const l=e=>((0,s.dD)("data-v-55a7185d"),e=e(),(0,s.Cn)(),e),o={class:"page_404"},r={class:"container"},n={class:"row"},c={class:"col-sm-12"},d={class:"col-sm-10 col-sm-offset-1 text-center"},u=l((()=>(0,s._)("div",{class:"four_zero_four_bg"},[(0,s._)("h1",{class:"text-center"},"404")],-1))),_={class:"contant_box_404"},m=l((()=>(0,s._)("h3",{class:"h2"}," Схоже ви загубились ",-1))),h=l((()=>(0,s._)("p",null,"сторінка яку Ви шукаєте недоступна",-1)));function p(e,t,i,l,p,k){return(0,s.wg)(),(0,s.iD)("section",o,[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",c,[(0,s._)("div",d,[u,(0,s._)("div",_,[m,h,(0,s._)("a",{href:"",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>k.goTo&&k.goTo(...e)),["prevent"])),class:"link_404"},"НА головну")])])])])])])}var k={name:"404",methods:{goTo(){this.$router.replace({name:"home"})}}},f=i(3744);const g=(0,f.Z)(k,[["render",p],["__scopeId","data-v-55a7185d"]]);var v=g},1387:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var s=i(6252),a=i(8061);const l={class:"page-content"},o={"data-aos":"flip-up","data-aos-delay":"100","data-aos-duration":"1000",class:"form-v5-content"},r=(0,s._)("h2",null,"Вхід",-1),n={class:"form-row"},c=(0,s._)("label",{for:"full-name"},"Email",-1),d={class:"form-row"},u=(0,s._)("label",{for:"password"},"Пароль",-1),_=(0,s._)("div",{class:"form-row-last"},[(0,s._)("input",{type:"submit",name:"register",class:"register",value:"Вход"})],-1);function m(e,t,i,m,h,p){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",o,[(0,s._)("form",{class:"form-detail",onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>p.login&&p.login(...e)),["prevent"]))},[r,(0,s._)("div",n,[c,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),name:"full-name",id:"full-name",class:"input-text",placeholder:"Імя користувача",required:""},null,512),[[a.nr,e.email]])]),(0,s._)("div",d,[u,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),name:"password",id:"password",class:"input-text",placeholder:"Пароль",required:""},null,512),[[a.nr,e.password]])]),_],32)])])}var h=i(3002),p={name:"login",data:()=>({email:"",password:"",backend:"s",toast:(0,h.pm)()}),created(){this.backend=this.$store.state.backendUrl+"auth/token/login/"},methods:{async login(){let e=this.email,t=this.password;await this.$store.dispatch("login",{email:e,password:t}).catch((e=>{console.log(e),this.toast.error("Ви неправильно ввели електронну пошту або пароль")}));var i=this.$store.state.access;await this.$store.dispatch("set_user",i).then((()=>{let e=this.$router.resolve({name:"home"});window.location.assign(e.href)})).catch((e=>{console.log(e)}))}}},k=i(3744);const f=(0,k.Z)(p,[["render",m]]);var g=f},1853:function(e,t,i){i.r(t),i.d(t,{default:function(){return ri}});var s=i(6252),a=i(8061),l=i(6612);const o=e=>((0,s.dD)("data-v-62e86c79"),e=e(),(0,s.Cn)(),e),r={key:0,class:"preloader"},n=o((()=>(0,s._)("div",{class:"preloader__image"},null,-1))),c=[n],d={class:"container mtb"},u={class:"row"},_={class:"col-lg-8"},m={class:"buy","data-aos":"zoom-in","data-aos-delay":"300"},h={class:"ticket"},p={class:"ticket"},k={class:"ticket"},f={class:"ticket"},g={class:"ticket"},v={key:0},w={class:"ticket"},y={class:"ticket"},b={class:"ticket"},C={class:"ticket"},D={class:"ticket"},U={class:"buy","data-aos":"zoom-in","data-aos-delay":"300"},T={class:"ticket"},A={class:"ticket"},z={class:"ticket"},V={class:"ticket"},q={class:"ticket"},x={key:2},P={class:"ticket"},S={class:"ticket"},I={class:"ticket"},M={class:"ticket"},N=(0,s.Uk)(),O={key:6,class:"btn btn-warning"},E={key:7,class:"btn btn-danger",style:{cursor:"default"}},L=o((()=>(0,s._)("hr",null,null,-1))),R={class:"form-detail"},W=o((()=>(0,s._)("h3",{class:"btn btn-warning",style:{cursor:"default"}},[(0,s.Uk)("Усі данні повинні бути введені на "),(0,s._)("b",null,"англійскій "),(0,s.Uk)("мові")],-1))),$={key:0,class:"form-row"},G=o((()=>(0,s._)("label",{for:"email"},"Email",-1))),Y=(0,s.Uk)(),H={key:1,class:"form-row"},B=o((()=>(0,s._)("label",{for:"full_name"},"Імя",-1))),F={key:2,class:"form-row"},Z=o((()=>(0,s._)("label",{for:"address"},"Адреса",-1))),J={key:3,class:"form-row"},K=o((()=>(0,s._)("label",{for:"cityName"},"Місто",-1))),j={key:4,class:"form-row"},Q=o((()=>(0,s._)("label",{for:"countryCode"},"Код країни",-1))),X={key:5,class:"form-row"},ee=o((()=>(0,s._)("label",{for:"phone"},"Телефон",-1))),te={key:6,class:"form-row"},ie=o((()=>(0,s._)("label",{for:"pc"},"Код телефону країни",-1))),se={key:7,class:"form-row"},ae=o((()=>(0,s._)("label",{for:"pcode"},"Поштовый індекс",-1))),le={key:8,class:"form-row"},oe=o((()=>(0,s._)("label",{for:"phone"},"Місто видачі документів",-1))),re={key:9,class:"form-row"},ne=o((()=>(0,s._)("label",{for:"phone"},"Документи",-1))),ce={key:10,class:"form-row"},de=o((()=>(0,s._)("label",{for:"birth"},"Дата нарождення",-1))),ue={key:11,class:"form-row"},_e=o((()=>(0,s._)("label",{for:"genderf"},"Стать",-1))),me=(0,s.Uk)("Жіноча "),he=(0,s.Uk)("Чоловіча "),pe=o((()=>(0,s._)("span",{class:"modal__title"},[(0,s._)("h3",null,"Обрати білети")],-1))),ke={class:"modal__content"},fe={key:0,class:"c"},ge={class:"bold"},ve=(0,s.Uk)("Напої: "),we={key:0,class:"ticket"},ye={key:1,class:"ticket"},be=o((()=>(0,s._)("hr",null,null,-1))),Ce={class:"bold"},De=(0,s.Uk)("Їжа: "),Ue={key:0,class:"ticket"},Te={key:1,class:"ticket"},Ae=o((()=>(0,s._)("hr",null,null,-1))),ze={class:"bold"},Ve=(0,s.Uk)("Зарядки: "),qe={key:0,class:"ticket"},xe={key:1,class:"ticket"},Pe=o((()=>(0,s._)("hr",null,null,-1))),Se=o((()=>(0,s._)("h4",{class:"bold"},"Місце для ніг: ",-1))),Ie=o((()=>(0,s._)("hr",null,null,-1))),Me=o((()=>(0,s._)("h4",{class:"bold"},"Розваги: ",-1))),Ne={key:0,class:"ticket"},Oe={key:1,class:"ticket"},Ee=o((()=>(0,s._)("hr",null,null,-1))),Le={class:"plane"},Re={class:"cockpit"},We=o((()=>(0,s._)("h3",null,"________",-1))),$e=o((()=>(0,s._)("h3",null,"___________",-1))),Ge=o((()=>(0,s._)("h3",null,"________________",-1))),Ye=o((()=>(0,s._)("div",{class:"exit exit--front fuselage"},null,-1))),He={class:"cabin fuselage"},Be={key:0,class:"seats"},Fe=["onClick"],Ze=["checked","id","disabled"],Je=["id","disabled"],Ke=["onMouseover","for"],je=["onMouseout","for"],Qe=o((()=>(0,s._)("div",{class:"exit exit--back fuselage"},null,-1))),Xe=o((()=>(0,s._)("div",null,null,-1))),et=o((()=>(0,s._)("span",{class:"modal__title"},[(0,s._)("h3",null,"Пошук білетів")],-1))),tt={class:"modal__content"},it=o((()=>(0,s._)("div",{class:"hline"},null,-1))),st={class:""},at=o((()=>(0,s._)("h4",null,"Звідки ",-1))),lt={class:"form-group"},ot={class:"form-group"},rt={class:"multiselect-tag is-user"},nt=["onMousedown"],ct=o((()=>(0,s._)("h4",null,"Куди",-1))),dt={class:"form-group"},ut={class:"multiselect-tag is-user"},_t=["onMousedown"],mt=o((()=>(0,s._)("h4",null,"Коли",-1))),ht={class:"form-group"},pt=["onClick"],kt=["value"],ft=o((()=>(0,s._)("h4",null,"Назад(Не обовязково)",-1))),gt={class:"form-group"},vt=["onClick"],wt=["value"],yt=o((()=>(0,s._)("h4",null,"Пассажиры",-1))),bt={class:"btn btn-theme"},Ct=(0,s.Uk)("Дорослі "),Dt={class:"btn btn-theme"},Ut=(0,s.Uk)("Діти "),Tt={class:"btn btn-theme"},At=(0,s.Uk)("Немовлята "),zt=o((()=>(0,s._)("h4",null,"Клас",-1))),Vt={class:"btn btn-theme"},qt=(0,s.Uk)("Економ "),xt={class:"btn btn-theme"},Pt=(0,s.Uk)("Преміум-економ "),St={class:"btn btn-theme"},It=(0,s.Uk)("Бізнес "),Mt={class:"btn btn-theme"},Nt=(0,s.Uk)("Перший "),Ot={"data-aos":"slide-right","data-aos-delay":"300",class:"col-lg-4"},Et={key:0,class:"single_sidebar_widget author_widget"},Lt=["src"],Rt=o((()=>(0,s._)("div",{class:"br"},null,-1))),Wt=o((()=>(0,s._)("div",{class:"spacing"},null,-1))),$t={key:1},Gt={class:"popular-posts"},Yt=["onClick"],Ht=["src"],Bt={href:""};function Ft(e,t,i,o,n,Ft){const Zt=(0,s.up)("font-awesome-icon"),Jt=(0,s.up)("vue-final-modal"),Kt=(0,s.up)("Multiselect"),jt=(0,s.up)("v-date-picker"),Qt=(0,s.up)("vue-number-input");return(0,s.wg)(),(0,s.iD)("body",null,[e.loading?((0,s.wg)(),(0,s.iD)("div",r,c)):(0,s.kq)("",!0),(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("div",_,[(0,s._)("div",m,[(0,s._)("button",{onClick:t[0]||(t[0]=(0,a.iM)((e=>Ft.buy()),["prevent"])),class:"btn btn-warning"},"Купить за "+(0,l.zw)(e.ticket.price.total)+"$",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.ticket.itineraries[0].segments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.ticket.id},[(0,s._)("div",h,"Тривалість: "+(0,l.zw)(Ft.format_date(t.duration)),1),(0,s._)("div",p,"Звідки: "+(0,l.zw)(t.departure.iataCode),1),(0,s._)("h4",k,"Відїзд: "+(0,l.zw)(Ft.format_date(t.departure.at)),1),(0,s._)("div",f,"Куди: "+(0,l.zw)(t.arrival.iataCode),1),(0,s._)("h4",g,"Прибуття: "+(0,l.zw)(Ft.format_date(t.arrival.at)),1)])))),128)),e.ticket.itineraries[1]?((0,s.wg)(),(0,s.iD)("hr",v)):(0,s.kq)("",!0),e.ticket.itineraries[1]?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(e.ticket.itineraries[1].segments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.ticket.id},[(0,s._)("div",w,"Тривалість: "+(0,l.zw)(Ft.format_date(t.duration)),1),(0,s._)("div",y,"Звідки: "+(0,l.zw)(t.departure.iataCode),1),(0,s._)("h4",b,"Відїзд: "+(0,l.zw)(Ft.format_date(t.departure.at)),1),(0,s._)("div",C,"Куди: "+(0,l.zw)(t.arrival.iataCode),1),(0,s._)("h4",D,"Прибуття: "+(0,l.zw)(Ft.format_date(t.arrival.at)),1)])))),128)):(0,s.kq)("",!0)]),(0,s._)("div",U,[(0,s._)("div",null,[(0,s._)("div",T,"Тривалість: "+(0,l.zw)(Ft.format_date(e.ticket.itineraries[e.tickets_i["it"]].segments[e.tickets_i["fl"]].duration)),1),(0,s._)("div",A,"Звідки: "+(0,l.zw)(e.ticket.itineraries[e.tickets_i["it"]].segments[e.tickets_i["fl"]].departure.iataCode),1),(0,s._)("h4",z,"Відїзд: "+(0,l.zw)(Ft.format_date(e.ticket.itineraries[e.tickets_i["it"]].segments[e.tickets_i["fl"]].departure.at)),1),(0,s._)("div",V,"Куди: "+(0,l.zw)(e.ticket.itineraries[e.tickets_i["it"]].segments[e.tickets_i["fl"]].arrival.iataCode),1),(0,s._)("h4",q,"Прибуття: "+(0,l.zw)(Ft.format_date(e.ticket.itineraries[e.tickets_i["it"]].segments[e.tickets_i["fl"]].arrival.at)),1)]),e.tickets_i["fl"]>0||e.tickets_i["it"]>0?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-theme",onClick:t[1]||(t[1]=(0,a.iM)((t=>Ft.prev_flight(e.ticket)),["prevent"]))},"Минулий переліт")):(0,s.kq)("",!0),e.tickets_i["fl"]<e.ticket.itineraries[e.tickets_i["it"]].segments.length-1||e.tickets_i["it"]<e.ticket.itineraries.length-1?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-theme",onClick:t[2]||(t[2]=(0,a.iM)((t=>Ft.next_flight(e.ticket)),["prevent"]))},"Наступний переліт")):(0,s.kq)("",!0),e.ticket.travelerPricings[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("hr",x)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",P,"Id: "+(0,l.zw)(e.ticket.travelerPricings[e.tickets_i["tr"]].travelerId),1),(0,s._)("div",S,"Білет: "+(0,l.zw)(e.travalerType[e.ticket.travelerPricings[e.tickets_i["tr"]].travelerType]),1),(0,s._)("h4",I,"Ціна: "+(0,l.zw)(e.ticket.travelerPricings[e.tickets_i["tr"]].price.total),1),(0,s._)("div",M,"Тариф: "+(0,l.zw)(e.fareType[e.ticket.travelerPricings[e.tickets_i["tr"]].fareOption]),1)]),N,e.tickets_i["tr"]>0?((0,s.wg)(),(0,s.iD)("button",{key:3,class:"btn btn-theme",onClick:t[3]||(t[3]=(0,a.iM)((t=>e.tickets_i["tr"]--),["prevent"]))},"Минулий пасажир")):(0,s.kq)("",!0),e.tickets_i["tr"]<e.ticket.travelerPricings.length-1?((0,s.wg)(),(0,s.iD)("button",{key:4,class:"btn btn-theme",onClick:t[4]||(t[4]=(0,a.iM)((t=>e.tickets_i["tr"]++),["prevent"]))},"Наступний пассажир")):(0,s.kq)("",!0),e.seatmaps[e.tickets_i["fl"]+e.tickets_i["it"]*e.ticket.itineraries[e.tickets_i["it"]].segments.length]?((0,s.wg)(),(0,s.iD)("button",{key:5,class:"btn btn-success",onClick:t[5]||(t[5]=t=>e.show_s=!0)},"Выбрать билеты")):0===e.seatmaps.length?((0,s.wg)(),(0,s.iD)("button",O,"Завантаження...")):((0,s.wg)(),(0,s.iD)("div",E,"Неможливо вибрати місця для рейсу")),L,(0,s._)("form",R,[W,!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",$,[G,(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=t=>e.travelers_info[e.tickets_i["tr"]].email=t),name:"email",id:"email",class:"input-text",placeholder:"Email",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].email]])])):(0,s.kq)("",!0),Y,!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",H,[B,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.travelers_info[e.tickets_i["tr"]].full_name=t),type:"text",name:"full_name",id:"full_name",class:"input-text",placeholder:"Імя",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].full_name]])])):(0,s.kq)("",!0),!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",F,[Z,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.travelers_info[e.tickets_i["tr"]].address=t),type:"text",name:"address",id:"address",class:"input-text",placeholder:"Вулиця, будинок",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].address]])])):(0,s.kq)("",!0),!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",J,[K,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.travelers_info[e.tickets_i["tr"]].cityName=t),type:"text",name:"cityName",id:"cityName",class:"input-text",placeholder:"Місто",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].cityName]])])):(0,s.kq)("",!0),!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",j,[Q,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.travelers_info[e.tickets_i["tr"]].countryCode=t),type:"text",name:"countryCode",id:"countryCode",class:"input-text",placeholder:"Наприклад: UA",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].countryCode]])])):(0,s.kq)("",!0),!0===e.reqs["mobilePhoneNumberRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",X,[ee,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.travelers_info[e.tickets_i["tr"]].phone=t),type:"text",name:"phone",id:"phone",class:"input-text",placeholder:"Номер телефона",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].phone]])])):(0,s.kq)("",!0),!0===e.reqs["phoneCountryCodeRequired"]?((0,s.wg)(),(0,s.iD)("div",te,[ie,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.travelers_info[e.tickets_i["tr"]].pc=t),type:"text",name:"pc",id:"pc",class:"input-text",placeholder:"Код телефона країни",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].pc]])])):(0,s.kq)("",!0),!0===e.reqs["emailAddressRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",se,[ae,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[13]||(t[13]=t=>e.travelers_info[e.tickets_i["tr"]].pcode=t),type:"number",name:"pcode",id:"pcode",class:"input-text",placeholder:"Номер телефона",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].pcode]])])):(0,s.kq)("",!0),!0===e.reqs["documentIssuanceCityRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",le,[oe,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[14]||(t[14]=t=>e.travelers_info[e.tickets_i["tr"]].city=t),type:"text",name:"city",id:"city",class:"input-text",placeholder:"Місто видачі документів",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].city]])])):(0,s.kq)("",!0),!0===e.reqs["documentRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",re,[ne,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[15]||(t[15]=t=>e.travelers_info[e.tickets_i["tr"]].doc=t),type:"text",name:"docs",id:"docs",class:"input-text",placeholder:"Документи",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].doc]])])):(0,s.kq)("",!0),!0===e.reqs["dateOfBirthRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",ce,[de,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[16]||(t[16]=t=>e.travelers_info[e.tickets_i["tr"]].birth=t),type:"date",name:"birth",id:"birth",class:"input-text",placeholder:"Дата народження",required:""},null,512),[[a.nr,e.travelers_info[e.tickets_i["tr"]].birth]])])):(0,s.kq)("",!0),!0===e.reqs["genderRequired"]&&e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("div",ue,[_e,(0,s._)("div",null,[me,(0,s.wy)((0,s._)("input",{type:"radio",name:"gender","onUpdate:modelValue":t[17]||(t[17]=t=>e.travelers_info[e.tickets_i["tr"]].gender=t),id:"genderF",class:"input-text",placeholder:"Стать",value:"MALE",required:""},null,512),[[a.G2,e.travelers_info[e.tickets_i["tr"]].gender]])]),(0,s._)("div",null,[he,(0,s.wy)((0,s._)("input",{type:"radio",name:"gender","onUpdate:modelValue":t[18]||(t[18]=t=>e.travelers_info[e.tickets_i["tr"]].gender=t),id:"genderM",class:"input-text",placeholder:"Стать",value:"FEMALE",required:""},null,512),[[a.G2,e.travelers_info[e.tickets_i["tr"]].gender]])])])):(0,s.kq)("",!0)])]),(0,s.Wm)(Jt,{modelValue:e.show_s,"onUpdate:modelValue":t[20]||(t[20]=t=>e.show_s=t),resize:!0,"keep-changed-style":!0,"esc-to-close":!0,"resize-directions":["t","tr","r","br","b","bl","l","tl"],classes:"modal-container","content-class":"modal-content"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt,{class:"modal__close",onClick:t[19]||(t[19]=t=>e.show_s=!1),icon:["fas","times"]}),pe,(0,s._)("div",ke,[e.seatmaps[e.tickets_i["fl"]]?((0,s.wg)(),(0,s.iD)("div",fe,[(0,s._)("div",null,[(0,s._)("h4",ge,[ve,e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.beverage.isChargeable?((0,s.wg)(),(0,s.iD)("div",we,"Платные")):((0,s.wg)(),(0,s.iD)("div",ye,"Бесплатные"))]),(0,s.Uk)((0,l.zw)(e.beverage[e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.beverage.beverageType]),1)]),be,(0,s._)("div",null,[(0,s._)("h4",Ce,[De,e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.food.isChargeable?((0,s.wg)(),(0,s.iD)("div",Ue,"Платные")):((0,s.wg)(),(0,s.iD)("div",Te,"Бесплатные"))]),(0,s.Uk)((0,l.zw)(e.food[e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.food.foodType]),1)]),Ae,(0,s._)("div",null,[(0,s._)("h4",ze,[Ve,e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.power.isChargeable?((0,s.wg)(),(0,s.iD)("div",qe,"Платные")):((0,s.wg)(),(0,s.iD)("div",xe,"Бесплатные"))]),(0,s.Uk)((0,l.zw)(e.power[e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.power.powerType]),1)]),Pe,(0,s._)("div",null,[Se,(0,s.Uk)((0,l.zw)(e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.seat.legSpace+" "+e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.seat.spaceUnit),1)]),Ie,(0,s._)("div",null,[Me,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.entertainment,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.seatmaps[e.tickets_i["fl"]].aircraftCabinAmenities.entertainment.id},[t.isChargeables?((0,s.wg)(),(0,s.iD)("div",Ne,"Платные "+(0,l.zw)(e.entertainment[t.entertainmentType]),1)):((0,s.wg)(),(0,s.iD)("div",Oe,"Бесплатные "+(0,l.zw)(e.entertainment[t.entertainmentType]),1))])))),128))]),Ee,(0,s._)("div",Le,[(0,s._)("div",Re,[We,$e,(0,s._)("h4",null,"Літак №"+(0,l.zw)(e.seatmaps[e.tickets_i["fl"]].number),1),(0,s._)("h4",null,"До аеропорта "+(0,l.zw)(e.seatmaps[e.tickets_i["fl"]].arrival.iataCode),1),(0,s._)("h4",null,"Клас "+(0,l.zw)(e.seatmaps[e.tickets_i["fl"]].class),1),Ge]),Ye,(0,s._)("ol",He,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.seatmaps[e.tickets_i["fl"]].decks[0].deckConfiguration.length,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,l.C_)(["row","row--"+t])},[e.travelers_info[e.tickets_i["tr"]]?((0,s.wg)(),(0,s.iD)("ol",Be,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.seatmaps[e.tickets_i["fl"]].decks[0].deckConfiguration.width,(i=>((0,s.wg)(),(0,s.iD)("li",{class:"seat",onClick:(0,a.iM)((e=>Ft.select_seat(t,i)),["prevent"])},[e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))&&e.travelers_info[e.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat?((0,s.wg)(),(0,s.iD)("input",{key:0,type:"radio",checked:e.travelers_info[e.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat.number===e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number,id:e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number+e.seatmaps[e.tickets_i["fl"]].id,disabled:Ft.validate_seat(e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number)||"AVAILABLE"!==e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).travelerPricing[0].seatAvailabilityStatus},null,8,Ze)):(0,s.kq)("",!0),e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))&&!e.travelers_info[e.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat?((0,s.wg)(),(0,s.iD)("input",{key:1,type:"radio",id:e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number+e.seatmaps[e.tickets_i["fl"]].id,disabled:Ft.validate_seat(e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number)||"AVAILABLE"!==e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).travelerPricing[e.tickets_i["tr"]].seatAvailabilityStatus},null,8,Je)):(0,s.kq)("",!0),e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))&&!e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))["s"]?((0,s.wg)(),(0,s.iD)("label",{key:2,onMouseover:s=>e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))["s"]="AVAILABLE"===e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).travelerPricing[0].seatAvailabilityStatus,for:e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number+e.seatmaps[e.tickets_i["fl"]].id},(0,l.zw)(e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number),41,Ke)):(0,s.kq)("",!0),e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))&&e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).travelerPricing[e.tickets_i["tr"]].price?(0,s.wy)(((0,s.wg)(),(0,s.iD)("label",{key:3,onMouseout:s=>e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))["s"]=!1,for:e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).number+e.seatmaps[e.tickets_i["fl"]].id},(0,l.zw)(e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1)).travelerPricing[e.tickets_i["tr"]].price.total)+"$",41,je)),[[a.F8,e.seatmaps[e.tickets_i["fl"]].decks[0].seats.find((e=>e.coordinates.x===t-1&&e.coordinates.y===i-1))["s"]]]):(0,s.kq)("",!0)],8,Fe)))),256))])):(0,s.kq)("",!0)],2)))),256))]),Qe]),Xe])):(0,s.kq)("",!0)])])),_:1},8,["modelValue"]),(0,s._)("div",null,[(0,s.Wm)(Jt,{modelValue:e.show,"onUpdate:modelValue":t[36]||(t[36]=t=>e.show=t),resize:!0,"keep-changed-style":!0,"esc-to-close":!0,"resize-directions":["t","tr","r","br","b","bl","l","tl"],classes:"modal-container","content-class":"modal-content"},{default:(0,s.w5)((()=>[(0,s.Wm)(Zt,{class:"modal__close",onClick:t[21]||(t[21]=t=>e.show=!1),icon:["fas","times"]}),et,(0,s._)("div",tt,[it,(0,s._)("div",st,[at,(0,s._)("div",lt,[(0,s._)("div",ot,[(0,s.Wm)(Kt,{"close-on-select":!0,searchable:!0,modelValue:e.orl,"onUpdate:modelValue":t[23]||(t[23]=t=>e.orl=t),options:e.op},{tag:(0,s.w5)((({option:e,handleTagRemove:i,disabled:o})=>[(0,s._)("div",rt,[(0,s.Uk)((0,l.zw)(e.value)+" ",1),o?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",{key:0,onClick:t[22]||(t[22]=(0,a.iM)((()=>{}),["prevent"])),onMousedown:(0,a.iM)((t=>i(e,t)),["prevent","stop"])},null,40,nt))])])),_:1},8,["modelValue","options"])])]),ct,(0,s._)("div",dt,[(0,s.Wm)(Kt,{"close-on-select":!0,searchable:!0,modelValue:e.del,"onUpdate:modelValue":t[25]||(t[25]=t=>e.del=t),options:e.op},{tag:(0,s.w5)((({option:e,handleTagRemove:i,disabled:o})=>[(0,s._)("div",ut,[(0,s.Uk)((0,l.zw)(e.value)+" ",1),o?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",{key:0,onClick:t[24]||(t[24]=(0,a.iM)((()=>{}),["prevent"])),onMousedown:(0,a.iM)((t=>i(e,t)),["prevent","stop"])},null,40,_t))])])),_:1},8,["modelValue","options"])]),mt,(0,s.Wm)(jt,{mode:"dateTime",is24hr:!0,timezone:e.timezone,"minute-increment":5,"model-config":e.modelConfig,class:"btn",modelValue:e.forward,"onUpdate:modelValue":t[26]||(t[26]=t=>e.forward=t)},{default:(0,s.w5)((({inputValue:e,togglePopover:t})=>[(0,s._)("div",ht,[(0,s._)("button",{onClick:e=>t(),class:"form-control"},[(0,s.Wm)(Zt,{icon:["far","calendar-alt"]})],8,pt),(0,s._)("input",{value:e,class:"form-control",readonly:""},null,8,kt)])])),_:1},8,["timezone","model-config","modelValue"]),ft,(0,s.Wm)(jt,{mode:"dateTime",is24hr:!0,timezone:e.timezone,"minute-increment":5,"model-config":e.modelConfig,class:"btn",modelValue:e.back,"onUpdate:modelValue":t[27]||(t[27]=t=>e.back=t)},{default:(0,s.w5)((({inputValue:e,togglePopover:t})=>[(0,s._)("div",gt,[(0,s._)("button",{onClick:e=>t(),class:"form-control"},[(0,s.Wm)(Zt,{icon:["far","calendar-alt"]})],8,vt),(0,s._)("input",{value:e,readonly:"",class:"form-control"},null,8,wt)])])),_:1},8,["timezone","model-config","modelValue"]),yt,(0,s._)("div",bt,[Ct,(0,s.Wm)(Qt,{class:"form-control",modelValue:e.adult,"onUpdate:modelValue":t[28]||(t[28]=t=>e.adult=t),min:1,max:9-e.teen,controls:""},null,8,["modelValue","max"])]),(0,s._)("div",Dt,[Ut,(0,s.Wm)(Qt,{class:"form-control",modelValue:e.teen,"onUpdate:modelValue":t[29]||(t[29]=t=>e.teen=t),min:0,max:9-e.adult,controls:""},null,8,["modelValue","max"])]),(0,s._)("div",Tt,[At,(0,s.Wm)(Qt,{class:"form-control",modelValue:e.baby,"onUpdate:modelValue":t[30]||(t[30]=t=>e.baby=t),min:0,max:e.adult,controls:""},null,8,["modelValue","max"])]),zt,(0,s._)("div",Vt,[qt,(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[31]||(t[31]=t=>e.trip_class=t),name:"popular",value:"E"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",xt,[Pt,(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[32]||(t[32]=t=>e.trip_class=t),name:"popular",value:"PE"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",St,[It,(0,s.wy)((0,s._)("input",{type:"radio",name:"popular","onUpdate:modelValue":t[33]||(t[33]=t=>e.trip_class=t),value:"B"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",Mt,[Nt,(0,s.wy)((0,s._)("input",{type:"radio",name:"popular","onUpdate:modelValue":t[34]||(t[34]=t=>e.trip_class=t),value:"F"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",null,[(0,s._)("button",{onClick:t[35]||(t[35]=(...e)=>Ft.searchTickets&&Ft.searchTickets(...e)),class:"btn btn-block btn-success"},"Знайти білети")])])])])),_:1},8,["modelValue"])])]),(0,s._)("div",Ot,[(0,s._)("button",{onClick:t[37]||(t[37]=(0,a.iM)((t=>e.show=!0),["prevent"])),class:"find-tickets-btn btn btn-primary"},"Знайти білети"),e.user.username?((0,s.wg)(),(0,s.iD)("aside",Et,[(0,s._)("img",{src:e.user.profile_img,alt:"Admin",class:"img-rounded rounded-circle profile_img"},null,8,Lt),(0,s._)("h4",null,(0,l.zw)(e.user.username),1),(0,s._)("p",null,(0,l.zw)(e.user.email),1),Rt])):(0,s.kq)("",!0),Wt,e.popular[0]?((0,s.wg)(),(0,s.iD)("h3",$t,"Популярні пости")):(0,s.kq)("",!0),(0,s._)("ul",Gt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.popular,(e=>((0,s.wg)(),(0,s.iD)("li",{"data-aos":"zoom-in",class:"popular-post",key:e.id,onClick:(0,a.iM)((t=>Ft.goTo("post",{slug:e.slug})),["prevent"])},[(0,s._)("img",{style:{height:"8vh"},src:e.img},null,8,Ht),(0,s._)("p",null,[(0,s._)("a",Bt,(0,l.zw)(e.title),1)]),(0,s._)("em",null,[(0,s.Wm)(Zt,{icon:["far","clock"]}),(0,s.Uk)(" "+(0,l.zw)(e.date)+" ",1),(0,s._)("div",null,[(0,s.Wm)(Zt,{icon:["far","user"]}),(0,s.Uk)((0,l.zw)(e.author),1)]),(0,s.Wm)(Zt,{icon:["far","comment"]}),(0,s.Uk)((0,l.zw)(e.comments.length)+" ",1),(0,s.Wm)(Zt,{icon:["far","heart"]}),(0,s.Uk)((0,l.zw)(e.likes.length)+" ",1),(0,s.Wm)(Zt,{icon:["far","eye"]}),(0,s.Uk)((0,l.zw)(e.views),1)])],8,Yt)))),128))])])])])])}var Zt=i(7810),Jt=i(3633),Kt=i(7939),jt=i(3002),Qt=i(5149),Xt=i.n(Qt),ei=i(4355),ti=i.n(ei),ii=i(9669),si=i.n(ii),ai={name:"ticket_single",inheritAttrs:!1,emits:["confirm","cancel"],components:{"font-awesome-icon":Zt.GN,Multiselect:Jt.Z,VueNumberInput:Kt.Z},data:()=>({listPosts:[],popular:[],user:{},total:0,date:"",adult:1,teen:0,baby:0,forward:"",back:"",reqs:[],tickets_i:{it:0,fl:0,tr:0},trip_class:"",food:{MEAL:"Їжа",FRESH_MEAL:"Свіжа їжа ",SNACK:"Снеки",FRESH_SNACK:"Свіжі снеки"},power:{PLUG:"Штекер",USB_PORT:"USB",ADAPTOR:"Адаптер",PLUG_OR_USB_PORT:"Штекер або USB"},beverage:{ALCOHOLIC:"Алкогольні",NON_ALCOHOLIC:"Безалкогольні",ALCOHOLIC_AND_NON_ALCOHOLIC:"алкогольні і безалкогольні"},entertainment:{LIVE_TV:"TV",MOVIES:"фильмы",AUDIO_VIDEO_ON_DEMAND:"аудіо і відео",TV_SHOWS:"TV шоу",IP_TV:"IP TV"},travalerType:{ADULT:"Дорослий",CHILD:"Дитина",SENIOR:"Похилого віку",YOUNG:"Молодий",HELD_INFANT:"Немовля",SEATED_INFANT:"Сидяче немовля",STUDENT:"Ученик"},fareType:{STANDARD:"Стандарт",INCLUSIVE_TOUR:"Інклюзивный тур",ADULT_WITH_COMPANION:"Дорослий із супутником",COMPANION:"Супутник"},timezone:"UTC",traveler_id:1,modelConfig:{type:"string",mask:"YYYY-MM-DD hh:mm:ss",timeAdjust:"24:00:00"},show:!1,show_s:!1,orl:"",del:"",op:{},arar:{},ticket:{},travelers_info:[],seatmaps:[],toast:(0,jt.pm)(),loading:!1}),created(){this.loadTicket(),this.loadPopularPosts(),this.user=this.$store.state.cuser;var e=this.loadCsv(Xt());this.arar,this.op=e},mounted(){console.log(this.$store.state)},methods:{loadCsv(e){for(var t=[],i=ti().join(""),s=1;s<e.length;s++)if(i.includes(e[s][0])){for(var a="",l=0;l<e[s].length-2;l++)a+=e[s][l]+" ";e[s].push(a),t.push(a)}return e.shift(),t},async loadPopularPosts(){si()({url:this.$store.state.backendUrl+"api/v1/blog?limit=3&search=&date=month&ordering=descending",method:"GET",headers:{"Content-type":"application/json"}}).then((e=>{this.popular=e.data.results}))},async loadTicket(){this.ticket=this.$store.state.ticket,console.log("ticket = "),console.log(this.$store.state.ticket),this.loading=!0;var e,t="grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h",i=localStorage.getItem("access");i&&delete si().defaults.headers.common["Authorization"],await si()({url:"https://test.api.amadeus.com/v1/security/oauth2/token",data:t,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((t=>{e=t.data.token_type+" "+t.data.access_token}));var s=this.ticket;t={data:{type:"flight-offers-pricing",flightOffers:[s]}},si()({url:"https://test.api.amadeus.com/v1/shopping/flight-offers/pricing?forceClass=false",method:"POST",data:t,headers:{Authorization:e}}).then((e=>{this.ticket=e.data.data.flightOffers[0],console.log(this.ticket),this.reqs=e.data.data.bookingRequirements,this.loading=!1})).catch((e=>{console.log(e),this.toast.error("Произошла ошибка или данный билет уже не доступен."),this.loading=!1,localStorage.removeItem("tickets_arr"),setTimeout((function(){this.goTo("tickets")}),5e3)})),i=localStorage.getItem("access"),i&&(si().defaults.headers.common["Authorization"]="JWT "+i),t={data:[s]},await si()({url:"https://test.api.amadeus.com/v1/shopping/seatmaps",method:"POST",data:t,headers:{Authorization:e}}).then((e=>{this.seatmaps=e.data.data})).catch((e=>this.seatmaps=e));for(var a=0;a<this.ticket.travelerPricings.length;a++){this.travelers_info.push({email:"",full_name:"",phone:"",cityName:"",countryCode:"",address:"",pc:"",pcode:"",city:"",doc:"",birth:"",gender:""}),this.travelers_info[a].seats=[];for(var l=0;l<this.seatmaps.length;l++)this.travelers_info[a].seats.push({})}},async searchTickets(){var e,t="grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h",i=localStorage.getItem("access");i&&delete si().defaults.headers.common["Authorization"],this.loading=!0,await si()({url:"https://test.api.amadeus.com/v1/security/oauth2/token",data:t,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((t=>{console.log(t),e=t.data.token_type+" "+t.data.access_token})),this.orl=this.orl.slice(0,3),this.del=this.del.slice(0,3);this.forward.toString().slice(10);var s={id:1,originLocationCode:this.orl,destinationLocationCode:this.del,departureDateTimeRange:{date:this.forward.slice(0,10),time:this.forward.slice(11)}};if(this.back[0])var a={id:2,originLocationCode:this.del,destinationLocationCode:this.orl,departureDateTimeRange:{date:this.back.slice(0,10),time:this.back.slice(11)}},l=[s,a];else l=[s];for(var o=[],r=0,n=0;n<this.adult;n++)r++,o.push({id:r,travelerType:"ADULT"});for(n=0;n<this.teen;n++)r++,o.push({id:r,travelerType:"CHILD"});for(n=0;n<this.baby;n++)r++,n<this.adult&&o.push({id:r,travelerType:"HELD_INFANT",associatedAdultId:n+1});var c="";"E"===this.trip_class?c="ECONOMY":"PE"===this.trip_class?c="PREMIUM_ECONOMY":"B"===this.trip_class?c="BUSINESS":"F"===this.trip_class&&(c="FIRST");var d={currencyCode:"USD",originDestinations:l,travelers:o,sources:["GDS"],searchCriteria:{maxFlightOffers:20,flightFilters:{cabinRestrictions:[{cabin:c,coverage:"MOST_SEGMENTS",originDestinationIds:["1"]}],carrierRestrictions:{excludedCarrierCodes:["AA","TP","AZ"]}}}},u=this;await si()({url:"https://test.api.amadeus.com/v2/shopping/flight-offers",data:d,method:"POST",headers:{Authorization:e}}).then((e=>{e.data.data[0]?(t=e.data.data,this.loading=!1,t=e.data.data,console.log(this.$store.state),this.$store.dispatch("tickets_arr",{data:t}),this.goTo("tickets")):(u.toast.error("Нет билетов в наличии"),this.loading=!1)})).catch((e=>{console.log(e),u.toast.error("Введите валидные данные или попробуйте позже"),this.loading=!1})),console.log(this.$store.state.tickets),i=localStorage.getItem("access"),i&&(si().defaults.headers.common["Authorization"]="JWT "+i)},goTo(e,t){let i=this.$router.resolve({name:e,params:t});window.location.assign(i.href)},format_date(e){return e.includes("-")?e.slice(0,10).replaceAll("-",".")+" "+e.slice(11,16):e.includes("P")?e.replaceAll("P","").replaceAll("T","").replaceAll("D"," день(дней) ").replaceAll("H"," час(ов) ").replaceAll("M"," минут(а) "):void 0},next_flight(e){this.tickets_i["fl"]<e.itineraries[this.tickets_i["it"]].segments.length-1?this.tickets_i["fl"]++:this.tickets_i["fl"]>=e.itineraries[this.tickets_i["it"]].segments.length-1&&this.tickets_i["it"]<e.itineraries.length-1&&(this.tickets_i["it"]++,this.tickets_i["fl"]=0)},prev_flight(e){this.tickets_i["fl"]>0?this.tickets_i["fl"]--:0===this.tickets_i["fl"]&&this.tickets_i["it"]>0&&(this.tickets_i["it"]--,this.tickets_i["fl"]=e.itineraries[this.tickets_i["it"]].segments.length-1)},select_seat(e,t){this.travelers_info[this.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat&&this.travelers_info[this.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat.number===this.seatmaps[this.tickets_i["fl"]].decks[0].seats.find((i=>i.coordinates.x===e-1&&i.coordinates.y===t-1)).number?this.travelers_info[this.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length]={}:this.travelers_info[this.tickets_i["tr"]].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat=this.seatmaps[this.tickets_i["fl"]].decks[0].seats.find((i=>i.coordinates.x===e-1&&i.coordinates.y===t-1))},validate_seat(e){for(var t=!1,i=0;i<this.ticket.travelerPricings.length;i++)this.travelers_info[i].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat&&this.travelers_info[i].seats[this.tickets_i["fl"]+this.tickets_i["it"]*this.ticket.itineraries[this.tickets_i["it"]].segments.length].seat.number===e&&this.tickets_i["tr"]!==i&&(t=!0);return t},async buy(){var e;this.ticket=this.$store.state.ticket,this.loading=!0;var t,i="grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h",s=localStorage.getItem("access");s&&delete si().defaults.headers.common["Authorization"],await si()({url:"https://test.api.amadeus.com/v1/security/oauth2/token",data:i,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((e=>{t=e.data.token_type+" "+e.data.access_token}));for(var a=this.ticket,l=0;l<a.travelerPricings.length;l++)for(var o=0;o<this.travelers_info[l].seats.length;o++)this.travelers_info[l].seats[o].seat&&(a.travelerPricings[l].fareDetailsBySegment[o]["additionalServices"]={chargeableSeatNumber:this.travelers_info[l].seats[o].seat.number});i={data:{type:"flight-offers-pricing",flightOffers:[a]}};var r=this;await si()({url:"https://test.api.amadeus.com/v1/shopping/flight-offers/pricing?forceClass=false",method:"POST",data:i,headers:{Authorization:t}}).then((t=>{this.ticket=t.data.data.flightOffers[0],this.reqs=t.data.data.bookingRequirements,e=t.data.data.flightOffers[0]})).catch((e=>{console.log(e),this.toast.error("Произошла ошибка или данный билет уже не доступен."),this.loading=!1,localStorage.removeItem("tickets_arr"),setTimeout((function(){r.goTo("tickets")}),5e3)}));for(var n=[],c=0;c<this.ticket.travelerPricings.length;c++)n.push({}),n[c]["id"]=this.ticket.travelerPricings[c].travelerId,""!==this.travelers_info[c]["birth"]&&(n[c]["dateOfBirth"]=this.travelers_info[c]["birth"]),""!==this.travelers_info[c]["gender"]&&(n[c]["gender"]=this.travelers_info[c]["gender"]),n[c]["contact"]={},""!==this.travelers_info[c]["email"]&&(n[c]["contact"]["emailAddress"]=this.travelers_info[c]["email"]),n[c]["contact"]["phones"]=[],n[c]["contact"]["phones"].push({}),""!==this.travelers_info[c]["pc"]&&(n[c]["contact"]["phones"][0]["countryCallingCode"]=this.travelers_info[c]["pc"]),""!==this.travelers_info[c]["phone"]&&(n[c]["contact"]["phones"][0]["deviceType"]="MOBILE",n[c]["contact"]["phones"][0]["number"]=this.travelers_info[c]["phone"]),n[c]["address"]={},""!==this.travelers_info[c]["pcode"]&&(n[c]["address"]["postalCode"]=this.travelers_info[c]["pcode"]),n[c]["name"]={firstName:this.travelers_info[c]["full_name"].split(" ")[0],lastName:this.travelers_info[c]["full_name"].split(" ")[1]};var d=[];d.push({}),d[0]["address"]={},""!==this.travelers_info[0]["cityName"]&&(d[0]["address"]["cityName"]=this.travelers_info[0]["cityName"]),this.travelers_info[0]&&""!==this.travelers_info[0]["countryCode"]&&(d[0]["address"]["countryCode"]=this.travelers_info[0]["countryCode"],d[0]["address"]["postalCode"]=this.travelers_info[0]["pcode"]),this.travelers_info[0]&&""!==this.travelers_info["address"]&&(d[0]["address"]["lines"]=[this.travelers_info[0]["address"]]),d[0]["addresseeName"]={firstName:this.travelers_info[0]["full_name"].split(" ")[0],lastName:this.travelers_info[0]["full_name"].split(" ")[1]},d[0]["companyName"]="AMADEUS",d[0]["purpose"]="STANDART",d[0]["emailAddress"]=this.travelers_info[0]["email"],d[0]["phones"]=[],d[0]["phones"].push({}),""!==this.travelers_info[0]["phone"]&&(d[0]["phones"][0]["deviceType"]="MOBILE",d[0]["phones"][0]["number"]=this.travelers_info[0]["phone"]),""!==this.travelers_info[0]["pc"]&&(d[0]["phones"][0]["countryCallingCode"]=this.travelers_info[c]["pc"]),console.log(this.ticket===e),console.log(this.ticket),console.log(e),i={data:{type:"flight-order",flightOffers:[e],travelers:n,contacts:d}},await si()({url:"https://test.api.amadeus.com/v1//booking/flight-orders",method:"POST",data:i,headers:{Authorization:t}}).then((e=>{this.toast.success("Билет забронировн"),this.loading=!1,console.log(e.data);var t=e.data.data.id;si()({url:this.$store.state.backendUrl+"api/v1/create_ticket",method:"POST",data:{text_id:t,user_id:this.$store.state.cuser.id},headers:{Authorization:"JWT "+localStorage.getItem("access")}}).then((e=>console.log(e.data.data)))})).catch((e=>{console.log(e.response.data.errors.find((e=>4926===e.code))),this.toast.error("Произошла ошибка или Вы ввели не валидные данные."),this.loading=!1,e.response.data.errors.find((e=>4926===e.code))&&setTimeout((function(){localStorage.removeItem("tickets_arr"),r.goTo("tickets")}),5e3)})),s=localStorage.getItem("access"),s&&(si().defaults.headers.common["Authorization"]="JWT "+s)}}},li=i(3744);const oi=(0,li.Z)(ai,[["render",Ft],["__scopeId","data-v-62e86c79"]]);var ri=oi},9184:function(e,t,i){i.r(t),i.d(t,{default:function(){return Ne}});var s=i(6252),a=i(8061),l=i(6612);const o=e=>((0,s.dD)("data-v-62a6e05a"),e=e(),(0,s.Cn)(),e),r={key:0,class:"preloader"},n=o((()=>(0,s._)("div",{class:"preloader__image"},null,-1))),c=[n],d={class:"container mtb"},u={class:"row"},_={class:"col-lg-8"},m=["onClick"],h={class:"ticket"},p={class:"ticket"},k={class:"ticket"},f={class:"ticket"},g={class:"ticket"},v={key:0},w={class:"ticket"},y={class:"ticket"},b={class:"ticket"},C={class:"ticket"},D={class:"ticket"},U={key:0},T=o((()=>(0,s._)("div",{"data-aos":"zoom-in","data-aos-delay":"300"},"На жаль, по даному запите немаю білетів :(",-1))),A=[T],z=o((()=>(0,s._)("span",{class:"modal__title"},[(0,s._)("h3",null,"Пошук білетів")],-1))),V={class:"modal__content"},q=o((()=>(0,s._)("div",{class:"hline"},null,-1))),x={class:""},P=o((()=>(0,s._)("h4",null,"Звідки ",-1))),S={class:"form-group"},I={class:"form-group"},M={class:"multiselect-tag is-user"},N=["onMousedown"],O=o((()=>(0,s._)("h4",null,"Куди",-1))),E={class:"form-group"},L={class:"multiselect-tag is-user"},R=["onMousedown"],W=o((()=>(0,s._)("h4",null,"Коли",-1))),$={class:"form-group"},G=["onClick"],Y=["value"],H=o((()=>(0,s._)("h4",null,"Назад(Не обовязково)",-1))),B={class:"form-group"},F=["onClick"],Z=["value"],J=o((()=>(0,s._)("h4",null,"Пасажири",-1))),K={class:"btn btn-theme"},j=(0,s.Uk)("Дорослі "),Q={class:"btn btn-theme"},X=(0,s.Uk)("Діти "),ee={class:"btn btn-theme"},te=(0,s.Uk)("Немовля "),ie=o((()=>(0,s._)("h4",null,"Клас",-1))),se={class:"btn btn-theme"},ae=(0,s.Uk)("Економ "),le={class:"btn btn-theme"},oe=(0,s.Uk)("Преміум-економ "),re={class:"btn btn-theme"},ne=(0,s.Uk)("Бізнес "),ce={class:"btn btn-theme"},de=(0,s.Uk)("Перший "),ue={"data-aos":"slide-right","data-aos-delay":"300",class:"col-lg-4"},_e={key:0,class:"single_sidebar_widget author_widget"},me=["src"],he=o((()=>(0,s._)("div",{class:"br"},null,-1))),pe=o((()=>(0,s._)("div",{class:"spacing"},null,-1))),ke={key:1},fe={class:"popular-posts"},ge=["onClick"],ve=["src"],we={href:""};function ye(e,t,i,o,n,T){const ye=(0,s.up)("font-awesome-icon"),be=(0,s.up)("Multiselect"),Ce=(0,s.up)("v-date-picker"),De=(0,s.up)("vue-number-input"),Ue=(0,s.up)("vue-final-modal");return(0,s.wg)(),(0,s.iD)("body",null,[e.loading?((0,s.wg)(),(0,s.iD)("div",r,c)):(0,s.kq)("",!0),(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("div",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.tickets,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"buy","data-aos":"zoom-in","data-aos-delay":"300",key:e.id},[(0,s._)("button",{onClick:(0,a.iM)((t=>T.chooseTicket(e)),["prevent"]),class:"btn btn-warning"},"Купить за "+(0,l.zw)(e.price.total)+"$",9,m),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.itineraries[0].segments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",h,"Тривалість: "+(0,l.zw)(T.format_date(t.duration)),1),(0,s._)("div",p,"Звідки: "+(0,l.zw)(t.departure.iataCode),1),(0,s._)("h4",k,"Відїзд: "+(0,l.zw)(T.format_date(t.departure.at)),1),(0,s._)("div",f,"Куди: "+(0,l.zw)(t.arrival.iataCode),1),(0,s._)("h4",g,"Прибуття: "+(0,l.zw)(T.format_date(t.arrival.at)),1)])))),128)),e.itineraries[1]?((0,s.wg)(),(0,s.iD)("hr",v)):(0,s.kq)("",!0),e.itineraries[1]?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(e.itineraries[1].segments,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",w,"Тривалість: "+(0,l.zw)(T.format_date(t.duration)),1),(0,s._)("div",y,"Звідки: "+(0,l.zw)(t.departure.iataCode),1),(0,s._)("h4",b,"Відїзд: "+(0,l.zw)(T.format_date(t.departure.at)),1),(0,s._)("div",C,"Куди: "+(0,l.zw)(t.arrival.iataCode),1),(0,s._)("h4",D,"Прибуття: "+(0,l.zw)(T.format_date(t.arrival.at)),1)])))),128)):(0,s.kq)("",!0)])))),128)),0===e.tickets.length?((0,s.wg)(),(0,s.iD)("div",U,A)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(Ue,{modelValue:e.show,"onUpdate:modelValue":t[15]||(t[15]=t=>e.show=t),resize:!0,"keep-changed-style":!0,"esc-to-close":!0,"resize-directions":["t","tr","r","br","b","bl","l","tl"],classes:"modal-container","content-class":"modal-content"},{default:(0,s.w5)((()=>[(0,s.Wm)(ye,{class:"modal__close",onClick:t[0]||(t[0]=t=>e.show=!1),icon:["fas","times"]}),z,(0,s._)("div",V,[q,(0,s._)("div",x,[P,(0,s._)("div",S,[(0,s._)("div",I,[(0,s.Wm)(be,{"close-on-select":!0,searchable:!0,modelValue:e.orl,"onUpdate:modelValue":t[2]||(t[2]=t=>e.orl=t),options:e.op},{tag:(0,s.w5)((({option:e,handleTagRemove:i,disabled:o})=>[(0,s._)("div",M,[(0,s.Uk)((0,l.zw)(e.value)+" ",1),o?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",{key:0,onClick:t[1]||(t[1]=(0,a.iM)((()=>{}),["prevent"])),onMousedown:(0,a.iM)((t=>i(e,t)),["prevent","stop"])},null,40,N))])])),_:1},8,["modelValue","options"])])]),O,(0,s._)("div",E,[(0,s.Wm)(be,{"close-on-select":!0,searchable:!0,modelValue:e.del,"onUpdate:modelValue":t[4]||(t[4]=t=>e.del=t),options:e.op},{tag:(0,s.w5)((({option:e,handleTagRemove:i,disabled:o})=>[(0,s._)("div",L,[(0,s.Uk)((0,l.zw)(e.value)+" ",1),o?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("i",{key:0,onClick:t[3]||(t[3]=(0,a.iM)((()=>{}),["prevent"])),onMousedown:(0,a.iM)((t=>i(e,t)),["prevent","stop"])},null,40,R))])])),_:1},8,["modelValue","options"])]),W,(0,s.Wm)(Ce,{mode:"dateTime",is24hr:!0,timezone:e.timezone,"minute-increment":5,"model-config":e.modelConfig,class:"btn",modelValue:e.forward,"onUpdate:modelValue":t[5]||(t[5]=t=>e.forward=t)},{default:(0,s.w5)((({inputValue:e,togglePopover:t})=>[(0,s._)("div",$,[(0,s._)("button",{onClick:e=>t(),class:"form-control"},[(0,s.Wm)(ye,{icon:["far","calendar-alt"]})],8,G),(0,s._)("input",{value:e,class:"form-control",readonly:""},null,8,Y)])])),_:1},8,["timezone","model-config","modelValue"]),H,(0,s.Wm)(Ce,{mode:"dateTime",is24hr:!0,timezone:e.timezone,"minute-increment":5,"model-config":e.modelConfig,class:"btn",modelValue:e.back,"onUpdate:modelValue":t[6]||(t[6]=t=>e.back=t)},{default:(0,s.w5)((({inputValue:e,togglePopover:t})=>[(0,s._)("div",B,[(0,s._)("button",{onClick:e=>t(),class:"form-control"},[(0,s.Wm)(ye,{icon:["far","calendar-alt"]})],8,F),(0,s._)("input",{value:e,readonly:"",class:"form-control"},null,8,Z)])])),_:1},8,["timezone","model-config","modelValue"]),J,(0,s._)("div",K,[j,(0,s.Wm)(De,{class:"form-control",modelValue:e.adult,"onUpdate:modelValue":t[7]||(t[7]=t=>e.adult=t),min:1,max:9-e.teen,controls:""},null,8,["modelValue","max"])]),(0,s._)("div",Q,[X,(0,s.Wm)(De,{class:"form-control",modelValue:e.teen,"onUpdate:modelValue":t[8]||(t[8]=t=>e.teen=t),min:0,max:9-e.adult,controls:""},null,8,["modelValue","max"])]),(0,s._)("div",ee,[te,(0,s.Wm)(De,{class:"form-control",modelValue:e.baby,"onUpdate:modelValue":t[9]||(t[9]=t=>e.baby=t),min:0,max:e.adult,controls:""},null,8,["modelValue","max"])]),ie,(0,s._)("div",se,[ae,(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=t=>e.trip_class=t),name:"popular",value:"E"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",le,[oe,(0,s.wy)((0,s._)("input",{type:"radio","onUpdate:modelValue":t[11]||(t[11]=t=>e.trip_class=t),name:"popular",value:"PE"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",re,[ne,(0,s.wy)((0,s._)("input",{type:"radio",name:"popular","onUpdate:modelValue":t[12]||(t[12]=t=>e.trip_class=t),value:"B"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",ce,[de,(0,s.wy)((0,s._)("input",{type:"radio",name:"popular","onUpdate:modelValue":t[13]||(t[13]=t=>e.trip_class=t),value:"F"},null,512),[[a.G2,e.trip_class]])]),(0,s._)("div",null,[(0,s._)("button",{onClick:t[14]||(t[14]=(...e)=>T.searchTickets&&T.searchTickets(...e)),class:"btn btn-block btn-success"},"Знайти білети")])])])])),_:1},8,["modelValue"])]),(0,s._)("div",ue,[(0,s._)("button",{onClick:t[16]||(t[16]=(0,a.iM)((t=>e.show=!0),["prevent"])),class:"find-tickets-btn btn btn-primary"},"Знайти білети"),e.user.username?((0,s.wg)(),(0,s.iD)("aside",_e,[(0,s._)("img",{src:e.user.profile_img,alt:"Admin",class:"img-rounded rounded-circle profile_img"},null,8,me),(0,s._)("h4",null,(0,l.zw)(e.user.username),1),(0,s._)("p",null,(0,l.zw)(e.user.email),1),he])):(0,s.kq)("",!0),pe,e.popular[0]?((0,s.wg)(),(0,s.iD)("h3",ke,"Популярні пости")):(0,s.kq)("",!0),(0,s._)("ul",fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.popular,(e=>((0,s.wg)(),(0,s.iD)("li",{"data-aos":"zoom-in",class:"popular-post",key:e.id,onClick:(0,a.iM)((t=>T.goTo("post",{slug:e.slug})),["prevent"])},[(0,s._)("img",{style:{height:"8vh"},src:e.img},null,8,ve),(0,s._)("p",null,[(0,s._)("a",we,(0,l.zw)(e.title),1)]),(0,s._)("em",null,[(0,s.Wm)(ye,{icon:["far","clock"]}),(0,s.Uk)(" "+(0,l.zw)(e.date)+" ",1),(0,s._)("div",null,[(0,s.Wm)(ye,{icon:["far","user"]}),(0,s.Uk)((0,l.zw)(e.author),1)]),(0,s.Wm)(ye,{icon:["far","comment"]}),(0,s.Uk)((0,l.zw)(e.comments.length)+" ",1),(0,s.Wm)(ye,{icon:["far","heart"]}),(0,s.Uk)((0,l.zw)(e.likes.length)+" ",1),(0,s.Wm)(ye,{icon:["far","eye"]}),(0,s.Uk)((0,l.zw)(e.views),1)])],8,ge)))),128))])])])])])}var be=i(9339),Ce=i(7810),De=i(9669),Ue=i.n(De),Te=i(3633),Ae=i(7939),ze=i(5149),Ve=i.n(ze),qe=i(3002),xe=i(4355),Pe=i.n(xe),Se={name:"tickets",components:{Pagination:be.Z,"font-awesome-icon":Ce.GN,Multiselect:Te.Z,VueNumberInput:Ae.Z},data:()=>({listPosts:[],popular:[],user:{},total:0,next:"",prev:"",date:"",adult:1,teen:0,baby:0,forward:"",back:"",trip_class:"",show:!1,timezone:"UTC",modelConfig:{type:"string",mask:"YYYY-MM-DD hh:mm:ss",timeAdjust:"24:00:00"},orl:"",del:"",op:{},arar:{},tickets:[],toast:(0,qe.pm)(),loading:!1}),created(){this.loadTickets(),this.loadPopularPosts(),this.user=this.$store.state.cuser;var e=this.loadCsv(Ve());this.arar,this.op=e,console.log(this.$store.state)},mounted(){console.log(this.$store.state)},methods:{loadCsv(e){for(var t=[],i=Pe().join(""),s=1;s<e.length;s++)if(i.includes(e[s][0])){for(var a="",l=0;l<e[s].length-2;l++)a+=e[s][l]+" ";e[s].push(a),t.push(a)}return e.shift(),t},async loadPopularPosts(){Ue()({url:this.$store.state.backendUrl+"api/v1/blog?limit=3&search=&date=month&ordering=descending",method:"GET",headers:{"Content-type":"application/json"}}).then((e=>{this.popular=e.data.results}))},async loadTickets(){console.log(this.$store.state.ticket),this.$store.state.tickets_arr[0]?(console.log(this.$store.state.tickets),this.tickets=this.$store.state.tickets_arr):(this.orl="ADZ",this.del="AQP",this.forward="2022-08-17 12:00:00",this.trip_class="E",this.searchTickets())},async searchTickets(){this.loading=!0;var e,t="grant_type=client_credentials&client_id=JxlnVpGLZUn7fV3UPNYfT2IJc0lL1GbE&client_secret=t965p0PRI1cCBS9h",i=localStorage.getItem("access");i&&delete Ue().defaults.headers.common["Authorization"],await Ue()({url:"https://test.api.amadeus.com/v1/security/oauth2/token",data:t,method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((t=>{console.log(t),e=t.data.token_type+" "+t.data.access_token})),this.orl=this.orl.slice(0,3),this.del=this.del.slice(0,3);this.forward.toString().slice(10);console.log(this.orl);var s={id:1,originLocationCode:this.orl,destinationLocationCode:this.del,departureDateTimeRange:{date:this.forward.slice(0,10),time:this.forward.slice(11)}};if(this.back[0])var a={id:2,originLocationCode:this.del,destinationLocationCode:this.orl,departureDateTimeRange:{date:this.back.slice(0,10),time:this.back.slice(11)}},l=[s,a];else l=[s];for(var o=[],r=0,n=0;n<this.adult;n++)r++,o.push({id:r,travelerType:"ADULT"});for(n=0;n<this.teen;n++)r++,o.push({id:r,travelerType:"CHILD"});for(n=0;n<this.baby;n++)r++,n<this.adult&&o.push({id:r,travelerType:"HELD_INFANT",associatedAdultId:n+1});var c="";"E"===this.trip_class?c="ECONOMY":"PE"===this.trip_class?c="PREMIUM_ECONOMY":"B"===this.trip_class?c="BUSINESS":"F"===this.trip_class&&(c="FIRST");var d={currencyCode:"USD",originDestinations:l,travelers:o,sources:["GDS"],searchCriteria:{maxFlightOffers:20,flightFilters:{cabinRestrictions:[{cabin:c,coverage:"MOST_SEGMENTS",originDestinationIds:["1"]}],carrierRestrictions:{excludedCarrierCodes:["AA","TP","AZ"]}}}};await Ue()({url:"https://test.api.amadeus.com/v2/shopping/flight-offers",data:d,method:"POST",headers:{Authorization:e}}).then((e=>{this.tickets=e.data.data,this.loading=!1,t=e.data.data,this.$store.dispatch("tickets_arr",{data:t},this.show=!1)})).catch((e=>{console.log(e),this.toast.error("Введіть валідні данні або спробуйте пізніше"),this.loading=!1})),i=localStorage.getItem("access"),i&&(Ue().defaults.headers.common["Authorization"]="JWT "+i)},goTo(e,t){let i=this.$router.resolve({name:e,params:t});window.location.assign(i.href)},format_date(e){return e.includes("-")?e.slice(0,10).replaceAll("-",".")+" "+e.slice(11,16):e.includes("P")?e.replaceAll("P","").replaceAll("T","").replaceAll("D"," день(днів) ").replaceAll("H"," год. ").replaceAll("M"," хвилин(а) "):void 0},chooseTicket(e){this.$store.dispatch("ticket",{data:e}),this.$store.state.access?this.goTo("ticket_single"):this.goTo("login")}}},Ie=i(3744);const Me=(0,Ie.Z)(Se,[["render",ye],["__scopeId","data-v-62a6e05a"]]);var Ne=Me}}]);
//# sourceMappingURL=about.a0b4c01f.js.map