{"version":3,"sources":["webpack:///./src/views/post_page.vue?3a03","webpack:///./src/views/post_page.vue","webpack:///./src/views/post_page.vue?77a3"],"names":["class","id","data-aos","data-aos-delay","href","ref","type","style","src","Post","img","title","user","username","like_status","Unlike","size","icon","Like","date","author","comments_count","likes_count","views","content","profile_img","alt","email","popular","post_p","key","goTo","slug","comments","length","likes","map","create","rows","name","placeholder","onfocus","onblur","comment","created_date","text","add","props","components","data","selected_file","tags_count","toast","markers","marker_id","latLang","LegPoints","directionsService","google","maps","DirectionsService","_directionsRenderer","DirectionsRenderer","bounds","LatLngBounds","mapOptions","center","lat","lng","zoomControl","zoom","gestureHandling","status","this","loadPost","loadPopularPosts","$store","state","cuser","window","addEventListener","handleScroll","removeEventListener","methods","url","getters","getServerUrl","method","headers","then","response","tags","includes","waypoints","Map","$refs","googleMap","initMap","catch","err","console","log","formData","FormData","append","backendUrl","resp","success","error","results","$router","push","params","Points","drawRoutePointsAndWaypoints","originAddress","destinationAddress","_waypoints","_request","origin","destination","optimizeWaypoints","travelMode","DirectionsTravelMode","DRIVING","that","route","_response","_status","DirectionsStatus","OK","setDirections","Array","j","address","location","stopover","drawRoute","marker","setMap","setOptions","draggable","suppressMarkers","el","ll","Number","Marker","position","getRoutePointsAndWaypoints","placeMarker","event","addListener","myroute","directions","routes","CreateRoute","getZoom","document","body","scrollHeight","pageYOffset","__exports__","render"],"mappings":"kHAAA,W,uJCCSA,MAAM,gBAAgBC,GAAG,Q,GACrBD,MAAM,O,GACFE,WAAS,UAAUC,iBAAe,MAAMH,MAAM,a,aAE3CA,MAAM,U,yCAE+H,mB,+BACC,gB,+BAGvD,O,ieAcjFE,WAAS,cAAcC,iBAAe,MAAMH,MAAM,Y,GAC/CA,MAAM,sB,SACqBA,MAAM,uC,kBAK9B,gCAAsB,OAAjBA,MAAM,MAAI,U,QAGvB,gCAAyB,OAApBA,MAAM,SAAO,U,QAClB,gCAAwB,UAApB,mBAAe,I,GACfA,MAAM,iB,2BAEII,KAAK,I,yCAKnB,gCAAyB,OAApBJ,MAAM,SAAO,U,GAGNE,WAAS,UAAUC,iBAAe,MAAME,IAAI,YAAYL,MAAM,c,SAE7EE,WAAS,UAAUC,iBAAe,MAA4BH,MAAM,O,GAChEA,MAAM,Y,QACP,gCAAyB,UAArB,oBAAgB,I,QAEhB,gCACM,OADDA,MAAM,0BAAwB,U,GAE9BA,MAAM,c,QAIX,gCAA+D,UAAvDM,KAAK,SAASN,MAAM,gBAAgB,cAAU,I,GAI9DA,MAAM,kB,GACNE,WAAS,UAAUC,iBAAe,MAAwCH,MAAM,c,GAC5EA,MAAM,S,aAEDA,MAAM,c,GACFA,MAAM,iB,GACFA,MAAM,U,GACNA,MAAM,Y,GACDA,MAAM,Q,GAGfA,MAAM,2B,wMAzE3B,gCAgFE,MAhFF,EAgFE,CA/EE,gCA4CM,MA5CN,EA4CM,CA3CF,gCAqBM,MArBN,EAqBM,CApBF,gCAAuE,UAApE,gCAAgE,OAA3DA,MAAM,iBAAiBO,MAAA,eAAqBC,IAAK,EAAAC,KAAKC,K,YAC9D,gCAAsC,KAAtC,EAAsC,6BAAjB,EAAAD,KAAKE,OAAK,GACpB,EAAAC,KAAKC,U,yBAAhB,gCAGM,SAFoB,SAAX,EAAAC,a,yBAAX,gCAAkN,O,MAA/KP,MAAA,wDAA0DP,MAAM,iBAAkB,QAAK,oBAAE,EAAAe,QAAA,EAAAA,UAAA,K,GAAwB,yBAAwD,GAApCC,KAAK,IAAKC,KAAM,CAAC,MAAO,c,uCACzK,WAAX,EAAAH,a,yBAAZ,gCAAkN,O,MAA5KP,MAAA,wDAA0DP,MAAM,kBAAmB,QAAK,oBAAE,EAAAkB,MAAA,EAAAA,QAAA,K,GAAkB,yBAA0D,GAAvCF,KAAK,MAAOC,KAAM,CAAC,MAAO,c,iFAEnM,gCAGI,UAFA,yBAA+E,Q,6BAAtE,IAA8C,CAA9C,yBAA8C,GAA1BA,KAAM,CAAC,MAAO,W,6BAAY,IAAC,6BAAE,EAAAR,KAAKU,MAAI,K,QAC3E,yBAA+Q,Q,6BAArQ,IAA6C,CAA7C,yBAA6C,GAAzBF,KAAM,CAAC,MAAO,U,0DAAa,EAAAR,KAAKW,QAAQ,IAAE,4BAAgD,GAA5BH,KAAM,CAAC,MAAO,a,0DAAgB,EAAAI,gBAAgB,IAAE,4BAA8C,GAA1BJ,KAAM,CAAC,MAAO,W,0DAAc,EAAAK,aAAc,IAAC,4BAA4C,GAAxBL,KAAM,CAAC,MAAO,S,0DAAY,EAAAR,KAAKc,OAAK,K,QAG/P,gCAAsD,OAAjDvB,MAAM,eAAe,UAAQ,EAAAS,KAAKe,S,UACvC,IASJ,gCAoBM,MApBN,EAoBM,CAnBF,gCAQM,MARN,EAQM,CAPW,EAAAZ,KAAKC,U,yBAAlB,gCAMQ,QANR,EAMQ,CALJ,gCAA4E,OAAtEL,IAAK,EAAAI,KAAKa,YAAaC,IAAI,QAAQ1B,MAAM,8B,UAC/C,gCAA0B,uCAApB,EAAAY,KAAKC,UAAQ,GACnB,gCAAqB,sCAAhB,EAAAD,KAAKe,OAAK,GAEf,K,yCAGR,EACA,EACA,gCAMK,KANL,EAMK,E,2BALD,gCAIK,2CAJwD,EAAAC,QAAVC,I,yBAAnD,gCAIK,MAJD7B,MAAM,eAAeE,WAAS,UAAqC4B,IAAKD,EAAO5B,GAAK,QAAK,GAAI,EAAA8B,KAAKF,EAAOG,O,CAAO,gCAAqD,UAAlD,gCAA8C,OAAxCzB,MAAA,eAAqBC,IAAKqB,EAAOnB,K,YAC1J,gCAAsC,UAAnC,gCAA+B,IAA/B,EAA+B,6BAAlBmB,EAAOlB,OAAK,KAC5B,gCACkS,WAD7R,yBAA8C,GAA1BM,KAAM,CAAC,MAAO,W,6BAAY,IAAE,6BAAEY,EAAOV,MAAO,IACjE,mCAAyE,YAApE,yBAA6C,GAAzBF,KAAM,CAAC,MAAO,U,0DAAaY,EAAOT,QAAM,K,EAAU,yBAAgD,GAA5BH,KAAM,CAAC,MAAO,a,0DAAgBY,EAAOI,SAASC,QAAQ,IAAE,4BAA8C,GAA1BjB,KAAM,CAAC,MAAO,W,0DAAcY,EAAOM,MAAMD,QAAQ,IAAC,4BAA4C,GAAxBjB,KAAM,CAAC,MAAO,S,0DAAYY,EAAON,OAAK,M,eAGnS,M,4BAGN,gCAAmG,MAAnG,EAAmG,W,YAAtF,EAAAa,OAEqC,EAAAxB,KAAKC,U,yBAAzD,gCAaM,MAbN,EAaM,CAZF,gCAWM,MAXN,EAWM,CAVF,EACA,gCAQO,QARA,SAAM,+CAAU,EAAAwB,QAAA,EAAAA,UAAA,GAAM,cAAErC,MAAM,gB,CACjC,EAEA,gCAGM,MAHN,EAGM,C,4BAFF,gCACkG,Y,qCAD/E,EAAAwB,QAAO,GAAExB,MAAM,qBAAqBsC,KAAK,IAAIC,KAAK,OAAOC,YAAY,cAC9EC,QAAQ,wBAAwBC,OAAO,oC,4BAD9B,EAAAlB,aAGvB,G,gDAIZ,gCAA+D,KAA/D,EAA2B,eAAY,6BAAE,EAAAH,gBAAgB,IAAC,I,2BAC1D,gCAeK,2CAf0D,EAAAZ,KAAKwB,SAAhBU,I,yBAApD,gCAeK,KAfL,EAeK,CAdD,gCAaK,KAbL,EAaK,CAZD,gCAAuG,OAAlG3C,MAAM,2BAA4BQ,IAAG,wBAA0BmC,EAAQvB,OAAOK,YAAaC,IAAI,I,UACpG,gCAUM,MAVN,EAUM,CATF,gCAKM,MALN,EAKM,CAJF,gCAAqD,MAArD,EAAqD,6BAA/BiB,EAAQvB,OAAOP,UAAQ,GAC7C,gCAEM,MAFN,EAEM,CADF,gCAAkD,OAAlD,EAAkD,6BAA7B8B,EAAQC,cAAY,OAGjD,gCAEM,MAFN,EAEM,6BADAD,EAAQE,MAAI,W,iFAiBtC,OAAQC,IAAI,QACO,OACXP,KAAM,YACNQ,MAAM,CAAC,QACPC,WAAW,CAAC,oBAAqB,QACjCC,KAAM,KAAM,CACRxC,KAAM,GACNG,KAAK,GACLY,QAAQ,GACRV,YAAY,GACZO,eAAe,GACf6B,cAAc,KACdC,WAAW,GACX7B,YAAY,GACZM,QAAQ,GACRwB,MAAQ,iBACRC,QAAQ,GACRC,UAAU,EACVC,QAAQ,GACRC,UAAU,GACVpB,IAAM,KACNqB,kBAAkB,IAAIC,OAAOC,KAAKC,kBAClCC,oBAAoB,IAAIH,OAAOC,KAAKG,mBACpCC,OAAQ,IAAIL,OAAOC,KAAKK,aACxBC,WAAY,CACRC,OAAQ,CAAEC,IAAK,GAAIC,IAAK,SACxBC,aAAa,EACbC,KAAM,EACNC,gBAAiB,QACrBC,OAAO,OAEX,UACIC,KAAKC,WACLD,KAAKE,mBACLF,KAAK7D,KAAO6D,KAAKG,OAAOC,MAAMC,MAC9BC,OAAOC,iBAAiB,SAAUP,KAAKQ,eAEjD,YACEF,OAAOG,oBAAoB,SAAUT,KAAKQ,eAEtCE,QAAS,CACL,iBACI,IAAM,CAACC,IAAM,GAAEX,KAAKG,OAAOS,QAAQC,2BAA2Bb,KAAKzC,OAAQuD,OAAQ,MAAMC,QAAS,CAAC,eAAgB,sBAAuBC,KAAKC,IAC3IjB,KAAKhE,KAAQiF,EAASzC,KACtBwB,KAAKpD,eAAgBqE,EAASzC,KAAKhB,SAASC,OAC5CuC,KAAKtB,WAAauC,EAASzC,KAAK0C,KAAKzD,OACrCuC,KAAKnD,YAAcoE,EAASzC,KAAKd,MAAMD,OACpCwD,EAASzC,KAAKd,MAAMyD,SAASnB,KAAKG,OAAOC,MAAMC,MAAMjE,UACpD4D,KAAK3D,YAAc,OAGnB2D,KAAK3D,YAAc,SAEc,IAAlC4E,EAASzC,KAAK4C,UAAU3D,SAC3BuC,KAAKrC,IAAM,IAAIsB,OAAOC,KAAKmC,IAAIrB,KAAKsB,MAAMC,UAAW,CACjD9B,OAAQ,CAAEC,IAAK,GAAIC,IAAK,SACxBC,aAAa,EACbC,KAAM,EACNC,gBAAiB,SAErBE,KAAKwB,QAAQP,MAEdQ,MAAMC,IAELC,QAAQC,IAAIF,MAGpB,aACI,MAAMG,EAAW,IAAIC,SACrBD,EAASE,OAAO,KAAM/B,KAAKG,OAAOC,MAAMC,MAAM7E,IAC9C,IAAM,CAACmF,IAAKX,KAAKG,OAAOC,MAAM4B,WAAY,eAAchC,KAAKhE,KAAKR,GAAMgD,KAAKqD,EAAUf,OAAQ,SAASE,KAAKiB,IAAQjC,KAAKC,cAG9H,eACI,MAAM4B,EAAW,IAAIC,SACrBD,EAASE,OAAO,KAAM/B,KAAKG,OAAOC,MAAMC,MAAM7E,IAC9C,IAAM,CAACmF,IAAKX,KAAKG,OAAOC,MAAM4B,WAAY,iBAAgBhC,KAAKhE,KAAKR,GAAMgD,KAAKqD,EAAUf,OAAQ,SAASE,KAAKiB,IAAQjC,KAAKC,cAGhIrC,OAAQ,WACJ,MAAMiE,EAAW,IAAIC,SACrBD,EAASE,OAAO,YAAY/B,KAAK7D,KAAKX,IACtCqG,EAASE,OAAO,OAAQ/B,KAAKjD,SAC7B,IAAM,CAAC4D,IAAKX,KAAKG,OAAOC,MAAM4B,WAAY,yBAAwBhC,KAAKzC,KAAQiB,KAAKqD,EAAUf,OAAQ,SAAUE,KAAKiB,IAASjC,KAAKjD,QAAS,GAAIiD,KAAKrB,MAAMuD,QAAQ,oDAAqDT,MAAMC,GAAK1B,KAAKrB,MAAMwD,MAAM,qBAAqBT,KAE7Q,yBACI,IAAM,CAACf,IAAKX,KAAKG,OAAOC,MAAM4B,WAAY,6DAA6DlB,OAAQ,MAAMC,QAAS,CAAC,eAAgB,sBAAuBC,KAAKC,IAAajB,KAAK7C,QAAW8D,EAASzC,KAAK4D,WAE1N,KAAK7E,GACDyC,KAAKqC,QAAQC,KAAK,CAAExE,KAAM,OAAQyE,OAAQ,CAAChF,KAAMA,MAG3C,2BAA2BiF,GACzCxC,KAAKyC,4BAA4BD,IAGzC,UAAUE,EAAeC,EAAoBC,GAEzC,IAAIC,EAAW,GAIXA,EADAD,EAAWnF,OAAS,EACT,CACPqF,OAAQJ,EACRK,YAAaJ,EACbvB,UAAWwB,EACXI,mBAAmB,EACnBC,WAAYhE,OAAOC,KAAKgE,qBAAqBC,SAItC,CACPL,OAAQJ,EACRK,YAAaJ,EACbM,WAAYhE,OAAOC,KAAKgE,qBAAqBC,SAKvD,IAAIC,EAAMpD,KACRA,KAAKhB,kBAAkBqE,MAAMR,GAAU,SAASS,EAAWC,GACnDA,GAAWtE,OAAOC,KAAKsE,iBAAiBC,IACxCL,EAAKhE,oBAAoBsE,cAAcJ,OAKlD,4BAA4Bd,GAEzB,IAAII,EAAa,IAAIe,MAErB,GAAInB,EAAO/E,OAAS,EACpB,CACI,IAAK,IAAImG,EAAI,EAAGA,EAAIpB,EAAO/E,OAAS,EAAGmG,IAAK,CACxC,IAAIC,EAAUrB,EAAOoB,GACL,KAAZC,GACAjB,EAAWN,KAAK,CACZwB,SAAUD,EACVE,UAAU,IAMtB/D,KAAKgE,UAAUxB,EAAO,GAAIA,EAAOA,EAAO/E,OAAS,GAAImF,QAC9CJ,EAAO/E,OAAS,EAEvBuC,KAAKgE,UAAUxB,EAAOxC,KAAKlB,QAAQrB,OAAS,GAAI+E,EAAOA,EAAO/E,OAAS,GAAImF,GAG3E5C,KAAKgE,UAAUxB,EAAOxC,KAAKlB,QAAQrB,OAAS,GAAI+E,EAAOA,EAAO/E,OAAS,GAAImF,IAGxE,YAAYjF,EAAIsG,GAKZ,OAHXA,EAAOzI,GAAIwE,KAAKnB,UACPmB,KAAKnB,YACdmB,KAAKpB,QAAQ0D,KAAK2B,GACAA,GAGlB,QAAQhD,GAGRjB,KAAKZ,oBAAoB8E,OAAOlE,KAAKrC,KACrCqC,KAAKZ,oBAAoB+E,WAAW,CAChCC,WAAW,EACaC,iBAAiB,IAI3C,IAAIjB,EAAMpD,KAEA,IAAI,IAAIsE,KAAMrD,EAASzC,KAAK4C,UAAU,CAClC,IAAImD,EAAK,CAAC7E,IAAI8E,OAAOvD,EAASzC,KAAK4C,UAAUkD,GAAI5E,KAAKC,IAAI6E,OAAOvD,EAASzC,KAAK4C,UAAUkD,GAAI3E,MACvF,IAAIsE,EAAS,IAAIhF,OAAOC,KAAKuF,OAAO,CACtDC,SAAUH,EACV5G,IAAKqC,KAAKrC,MAERyF,EAAKtE,QAAQwD,KAAKiC,GACfnB,EAAKrE,UAAUuD,KAAK,IACzBc,EAAKuB,2BAA2BvB,EAAKtE,SAC1CsE,EAAKwB,YAAY5E,KAAKrC,IAAIsG,GACjBA,EAAOzI,GAETyD,OAAOC,KAAK2F,MAAMC,YAAY9E,KAAKZ,oBAAqB,sBAAsB,WAChF,IAAI2F,EAAU/E,KAAKZ,oBAAoB4F,WAAWC,OAAO,GACzDC,YAAYH,GACE3B,EAAKzF,IAAIwH,cAInB,eACQC,SAASC,KAAKC,aAAa,EAAIhF,OAAOiF,aAA+B,SAAdvF,KAAKD,QACxD,IAAM,CAACY,IAAKX,KAAKG,OAAOC,MAAM4B,WAAY,mBAAkBhC,KAAKhE,KAAKuB,KAASuD,OAAQ,QAAQE,KAAKhB,KAAKD,OAAQ,W,oCCvRzI,MAAMyF,GAA2B,KAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,iB","file":"js/chunk-a236e4fa.95abf388.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./post_page.vue?vue&type=style&index=0&id=07df4c70&scoped=true&lang=css\"","<template>\n    <div class=\"container mtb\" id=\"page\">\n        <div class=\"row\">\n            <div data-aos=\"fade-in\" data-aos-delay=\"300\" class=\"col-lg-10\">\n                <p><img class=\"img-responsive\" style=\"width: 100%\" :src=\"Post.img\"></p>\n                <h3 class=\"ctitle\">{{Post.title}}</h3>\n                <div v-if=\"user.username\">\n                    <div v-if=\"like_status === 'like'\" style=\"cursor: pointer;color: #ffffff;font-weight: bold\"  class=\"btn btn-danger\" @click=\"Unlike\" >Не подобається <font-awesome-icon  size=\"x\" :icon=\"['fas', 'heart']\" /></div>\n                    <div  v-if=\"like_status === 'unlike'\" style=\"cursor: pointer;color: #ffffff;font-weight: bold;\" class=\"btn btn-primary\" @click=\"Like\">Подобається <font-awesome-icon size=\"  x\" :icon=\"['far', 'heart']\"  /></div>\n                </div>\n                <p>\n                    <csmall> <font-awesome-icon :icon=\"['far', 'clock']\" /> {{Post.date }}</csmall> |\n            <csmall2> <font-awesome-icon :icon=\"['far', 'user']\" />{{Post.author}}  <font-awesome-icon :icon=\"['far', 'comment']\" />{{comments_count}}  <font-awesome-icon :icon=\"['far', 'heart']\" />{{likes_count }} <font-awesome-icon :icon=\"['far', 'eye']\" />{{Post.views}}</csmall2>\n                </p>\n\n                <div class=\"post-content\" v-html=\"Post.content\"></div>\n                <div class=\"spacing\"></div>\n                <h6>SHARE:</h6>\n                <p class=\"share\">\n                    <a href=\"#\"><i class=\"fa fa-twitter\"></i></a>\n                    <a href=\"#\"><i class=\"fa fa-facebook\"></i></a>\n                    <a href=\"#\"><i class=\"fa fa-tumblr\"></i></a>\n                    <a href=\"#\"><i class=\"fa fa-google-plus\"></i></a>\n                </p>\n            </div>\n            <div  data-aos=\"slide-right\" data-aos-delay=\"100\" class=\"col-lg-2 \">\n                <div class=\"blog_right_sidebar\">\n                    <aside v-if=\"user.username\" class=\"single_sidebar_widget author_widget\">\n                        <img :src=\"user.profile_img\" alt=\"Admin\" class=\"rounded-circle profile_img\">\n                        <h4>{{user.username}}</h4>\n                        <p>{{user.email}}</p>\n\n                        <div class=\"br\"></div>\n                    </aside>\n                </div>\n                <div class=\"hline\"></div>\n                <h4>Популярні пости</h4>\n                <ul class=\"popular-posts\">\n                    <li class=\"popular-post\" data-aos=\"zoom-in\" v-for=\"post_p in popular\" :key=\"post_p.id\" @click = 'goTo(post_p.slug)'><a><img  style=\"height: 9vh\" :src=\"post_p.img\" /></a>\n                        <p><a href=\"\">{{post_p.title}}</a></p>\n                        <em> <font-awesome-icon :icon=\"['far', 'clock']\" />  {{post_p.date }}\n                            <div><font-awesome-icon :icon=\"['far', 'user']\" />{{post_p.author}}</div>  <font-awesome-icon :icon=\"['far', 'comment']\" />{{post_p.comments.length}}  <font-awesome-icon :icon=\"['far', 'heart']\" />{{post_p.likes.length}} <font-awesome-icon :icon=\"['far', 'eye']\" />{{post_p.views}}</em>\n                    </li>\n                </ul>\n                <div class=\"hline\"></div>\n            </div>\n        </div>\n          <div v-show=\"map\" data-aos=\"zoom-in\" data-aos-delay=\"500\" ref='googleMap' class='google-map'></div>\n\n        <div data-aos=\"zoom-in\" data-aos-delay=\"500\"  v-if=\"user.username\" class=\"row\">\n            <div class=\"col-md-4\">\n                <h4>Залиште коментар</h4>\n                <form @submit.prevent=\"create\" class=\"comment-form\" >\n                    <div class=\"form-group form-inline\">\n                    </div>\n                    <div class=\"form-group\">\n                        <textarea v-model=\"content\" class=\"form-control mb-10\" rows=\"5\" name=\"text\" placeholder=\"Комментарий\"\n                                  onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'Комментарий'\"   ></textarea>\n                    </div>\n                    <button type=\"submit\" class=\"btn btn-info\" >Відправити</button>\n                </form>\n            </div>\n        </div>\n        <h3 class=\"title-comments\">Комментарі ({{comments_count}})</h3>\n        <ul data-aos=\"fade-in\" data-aos-delay=\"500\"  v-for=\"comment in Post.comments\" class=\"media-list\">\n            <li class=\"media\" >\n                <img class=\"media-object img-rounded\" :src=\"'http://127.0.0.1:8000'+comment.author.profile_img\" alt=\"\">\n                <div class=\"media-body\">\n                    <div class=\"media-heading\">\n                        <div class=\"author\">{{comment.author.username}}</div>\n                        <div class=\"metadata\">\n                            <span class=\"date\">{{comment.created_date}}</span>\n                        </div>\n                    </div>\n                    <div class=\"media-text text-justify\">\n                        {{comment.text}}\n                    </div>\n                </div>\n            </li>\n        </ul>\n\n</div>\n\n</template>\n\n<script>\n    import axios from \"axios\";\n    import {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\n    import { faHeart} from '@fortawesome/free-solid-svg-icons'\n    import { library } from '@fortawesome/fontawesome-svg-core'\n    import {useToast} from \"vue-toastification\";\n\nlibrary.add(faHeart)\n    export default {\n        name: \"post_page\",\n        props:['slug'],\n        components:{'font-awesome-icon': FontAwesomeIcon},\n        data: () => ({\n            Post: [],\n            user:{},\n            content:\"\",\n            like_status:\"\",\n            comments_count:\"\",\n            selected_file:null,\n            tags_count:\"\",\n            likes_count:\"\",\n            popular:[],\n            toast : useToast(),\n            markers:[],\n            marker_id:1,\n            latLang:[],\n            LegPoints:[],\n            map : null,\n            directionsService:new google.maps.DirectionsService(),\n            _directionsRenderer:new google.maps.DirectionsRenderer(),\n            bounds: new google.maps.LatLngBounds(), // Авто масштабирование карты\n            mapOptions: {\n                center: { lat: 35, lng: 100.644 },\n                zoomControl: true,\n                zoom: 3,\n                gestureHandling: 'auto'},\n            status:'ok'\n        }),\n        created() {\n            this.loadPost()\n            this.loadPopularPosts()\n            this.user = this.$store.state.cuser\n            window.addEventListener('scroll', this.handleScroll);\n        },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n        methods: {\n            async loadPost() {\n                axios({url: `${this.$store.getters.getServerUrl}api/v1/blog/${this.slug}`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {\n                    this.Post  = response.data\n                    this.comments_count =response.data.comments.length\n                    this.tags_count = response.data.tags.length\n                    this.likes_count = response.data.likes.length\n                    if(response.data.likes.includes(this.$store.state.cuser.username)){\n                        this.like_status = \"like\"\n                    }\n                    else {\n                        this.like_status = \"unlike\"\n                    }\n                    if(response.data.waypoints.length !==0){\n                    this.map = new google.maps.Map(this.$refs.googleMap, {\n                        center: { lat: 35, lng: 100.644 },\n                        zoomControl: true,\n                        zoom: 3,\n                        gestureHandling: 'auto'\n                    })\n                    this.initMap(response)\n                    }\n                }).catch(err =>{\n\n                    console.log(err)\n                })\n            },\n            async Like(){\n                const formData = new FormData();\n                formData.append(\"id\", this.$store.state.cuser.id);\n                axios({url: this.$store.state.backendUrl+`api/v1/like/${this.Post.id}`, data:formData, method: 'POST'}).then(resp =>{this.loadPost()} )\n            },\n\n            async Unlike(){\n                const formData = new FormData();\n                formData.append(\"id\", this.$store.state.cuser.id);\n                axios({url: this.$store.state.backendUrl+`api/v1/unlike/${this.Post.id}`, data:formData, method: 'POST'}).then(resp =>{this.loadPost()} )\n            },\n\n            create: function () {\n                const formData = new FormData();\n                formData.append(\"author_id\",this.user.id);\n                formData.append(\"text\", this.content);\n                axios({url: this.$store.state.backendUrl+`api/v1/comment_create/${this.slug}`, data:formData, method: 'POST' }).then(resp =>{ this.content= '', this.toast.success('Комментарий создан и отправлен на рассмотрение')} ).catch(err=>this.toast.error('Произошла ошибка: '+err))\n            },\n            async loadPopularPosts() {\n                axios({url: this.$store.state.backendUrl+`api/v1/blog?limit=3&search=&date=month&ordering=descending`, method: 'GET',headers: {'Content-type': 'application/json',}}).then(response => {this.popular  = response.data.results})\n            },\n            goTo(slug) {\n                this.$router.push({ name: 'post', params: {slug: slug}})\n            },\n\n                      getRoutePointsAndWaypoints(Points) {\n        this.drawRoutePointsAndWaypoints(Points);\n\n},\ndrawRoute(originAddress, destinationAddress, _waypoints) {\n    //Define a request variable for route .\n    var _request = '';\n\n    //This is for more then two locatins\n    if (_waypoints.length > 0) {\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            waypoints: _waypoints, //an array of waypoints\n            optimizeWaypoints: true, //set to true if you want google to determine the shortest route or false to use the order specified.\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    } else {\n        //This is for one or two locations. Here noway point is used.\n        _request = {\n            origin: originAddress,\n            destination: destinationAddress,\n            travelMode: google.maps.DirectionsTravelMode.DRIVING\n        };\n    }\n\n    //This will take the request and draw the route and return response and status as output\n  var that =this\n    this.directionsService.route(_request, function(_response, _status) {\n        if (_status == google.maps.DirectionsStatus.OK) {\n            that._directionsRenderer.setDirections(_response);\n        }\n    });\n} ,\n\n drawRoutePointsAndWaypoints(Points) {\n    //Define a variable for waypoints.\n    var _waypoints = new Array();\n\n    if (Points.length > 2) //Waypoints will be come.\n    {\n        for (var j = 1; j < Points.length - 1; j++) {\n            var address = Points[j];\n            if (address !== \"\") {\n                _waypoints.push({\n                    location: address,\n                    stopover: true,  //stopover is used to show marker on map for waypoints\n\n                });\n            }\n        }\n        //Call a drawRoute() function\n        this.drawRoute(Points[0], Points[Points.length - 1], _waypoints);\n    } else if (Points.length > 1) {\n        //Call a drawRoute() function only for start and end locations\n        this.drawRoute(Points[this.latLang.length - 2], Points[Points.length - 1], _waypoints);\n    } else {\n        //Call a drawRoute() function only for one point as start and end locations.\n        this.drawRoute(Points[this.latLang.length - 1], Points[Points.length - 1], _waypoints);\n    }\n} ,\n           placeMarker(map,marker) {\n\n    marker.id= this.marker_id\n             this.marker_id++\n    this.markers.push(marker)\n               return marker\n},\n\n    initMap(response){\nvar zoom_option = 1;\n\n    this._directionsRenderer.setMap(this.map);\n    this._directionsRenderer.setOptions({\n        draggable: true,\n                                suppressMarkers: true,\n\n    });\n\n      var that =this\n\n                for(var el in response.data.waypoints){\n                    var ll = {lat:Number(response.data.waypoints[el].lat),lng:Number(response.data.waypoints[el].lng)}\n                          let marker = new google.maps.Marker({\n        position: ll,\n        map: this.map,\n    });\n          that.latLang.push(ll)\n             that.LegPoints.push('');\n        that.getRoutePointsAndWaypoints(that.latLang);\n   that.placeMarker(this.map,marker);\n   let id = marker.id\n                }\n          google.maps.event.addListener(this._directionsRenderer, 'directions_changed', function() {\n        var myroute = this._directionsRenderer.directions.routes[0];\n        CreateRoute(myroute);\n        zoom_option = that.map.getZoom();\n    });\n\n    },\n            handleScroll(){\n                if((document.body.scrollHeight/2 < window.pageYOffset ) && this.status!=='sent'){\n                        axios({url: this.$store.state.backendUrl+`api/v1/add_view/${this.Post.slug}`,  method: 'GET'}).then(this.status= 'sent')\n                }\n\n            }\n        },\n    }\n</script>\n\n<style scoped>\n.img-rounded{\n  max-height: 9vh;\n  float: left;\n  margin-right: 1%;\n  border-radius: 50%;\n}\n\n.author{\n  font-weight: bold;\n  font-family: Raleway;\n}\n.profile_img{\n  border-radius: 50%;\n}\n    .google-map {\n  width: 100%;\n  height: 450px;\n}\n</style>","import { render } from \"./post_page.vue?vue&type=template&id=07df4c70&scoped=true\"\nimport script from \"./post_page.vue?vue&type=script&lang=js\"\nexport * from \"./post_page.vue?vue&type=script&lang=js\"\n\nimport \"./post_page.vue?vue&type=style&index=0&id=07df4c70&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\old\\\\Job\\\\Documents\\\\hiker_frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07df4c70\"]])\n\nexport default __exports__"],"sourceRoot":""}