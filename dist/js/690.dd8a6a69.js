"use strict";(self["webpackChunkhiker"]=self["webpackChunkhiker"]||[]).push([[690],{5690:function(s,e,t){t.r(e),t.d(e,{default:function(){return es}});var l=t(6252),a=t(6612),i=t(8061);const r=s=>((0,l.dD)("data-v-4dd63609"),s=s(),(0,l.Cn)(),s),o={"data-aos":"fade-in","data-aos-delay":"300",class:"container"},c={class:"main-body"},d={class:"row gutters-sm"},n={class:"col-md-4 mb-3"},u={class:"card"},_={class:"card-body"},m={class:"d-flex flex-column align-items-center text-center"},h=["src"],w={key:1,src:"https://secure.gravatar.com/avatar/c9877cc06c704dbe1dd3d4f305cb22d6?s=650&d=mm&r=g",style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},g={class:"mt-3"},f={class:"profile_text"},v=["innerHTML"],y={key:1,class:"text-muted font-size-sm profile_text"},b={key:2},k={class:"text-muted profile_text"},p={class:"col-md-8"},x={class:"card mb-3"},D={class:"card-body"},$={key:0,class:"row profile_text"},q=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{lass:"mb-0"},"Імя")],-1))),z={class:"col-sm-9 text-secondary"},U={key:1},C={class:"row profile_text"},T=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{class:"mb-0"},"Email")],-1))),F={class:"col-sm-9 text-secondary"},j=r((()=>(0,l._)("hr",null,null,-1))),M={class:"row profile_text"},S=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{class:"mb-0"},"Дата реєстрації")],-1))),A={class:"col-sm-9 text-secondary"},E=r((()=>(0,l._)("hr",null,null,-1))),H={key:2,class:"row profile_text"},L=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{class:"mb-0"},"Адреса")],-1))),O={class:"col-sm-9 text-secondary"},P={key:3},G={key:4,class:"row profile_text"},I=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{class:"mb-0"},"Улюблене")],-1))),Z={class:"col-sm-9 text-secondary"},B={key:5},J={class:"row profile_text"},K=r((()=>(0,l._)("div",{class:"col-sm-3"},[(0,l._)("h6",{class:"mb-0"},"Бали")],-1))),N={class:"col-sm-9 text-secondary"},Q=r((()=>(0,l._)("hr",null,null,-1)));function R(s,e,t,r,R,V){return(0,l.wg)(),(0,l.iD)("div",{"data-aos":"fade-in","data-aos-delay":"300",style:(0,a.j5)({"background-image":"url("+s.region.background_img+")",backgroundSize:"100%"})},[(0,l._)("div",o,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l._)("div",n,[(0,l._)("div",u,[(0,l._)("div",_,[(0,l._)("div",m,[s.user.profile_img?((0,l.wg)(),(0,l.iD)("img",{key:0,src:s.user.profile_img,style:{"border-radius":"100px"},alt:"Admin",class:"rounded-circle",width:"150"},null,8,h)):((0,l.wg)(),(0,l.iD)("img",w)),(0,l._)("div",g,[(0,l._)("h4",f,(0,a.zw)(s.user.username),1),s.user.bio?((0,l.wg)(),(0,l.iD)("p",{key:0,class:"text-secondary mb-1 profile_text",innerHTML:s.user.bio},null,8,v)):(0,l.kq)("",!0),s.city?((0,l.wg)(),(0,l.iD)("p",y,(0,a.zw)(s.city.title),1)):(0,l.kq)("",!0),s.user.username!==s.cur_user.username&&s.cur_user.username?((0,l.wg)(),(0,l.iD)("div",b,["unfollow"===s.sub_status?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"btn btn-primary",onClick:e[0]||(e[0]=(...s)=>V.Follow&&V.Follow(...s))},"Підписатися")):(0,l.kq)("",!0),"follow"===s.sub_status?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-primary",onClick:e[1]||(e[1]=(...s)=>V.Unfollow&&V.Unfollow(...s))},"Відписатися")):(0,l.kq)("",!0)])):s.cur_user.username?((0,l.wg)(),(0,l.iD)("button",{key:3,onClick:e[2]||(e[2]=(0,i.iM)((e=>V.goTo(s.user.slug)),["prevent"])),class:"btn btn-primary"},"Змінити профіль")):(0,l.kq)("",!0),(0,l._)("p",k," Підписників:"+(0,a.zw)(s.followers_count),1)])])])])]),(0,l._)("div",p,[(0,l._)("div",x,[(0,l._)("div",D,[s.user.first_name?((0,l.wg)(),(0,l.iD)("div",$,[q,(0,l._)("div",z,(0,a.zw)(s.user.first_name),1)])):(0,l.kq)("",!0),s.user.first_name?((0,l.wg)(),(0,l.iD)("hr",U)):(0,l.kq)("",!0),(0,l._)("div",C,[T,(0,l._)("div",F,(0,a.zw)(s.user.email),1)]),j,(0,l._)("div",M,[S,(0,l._)("div",A,(0,a.zw)(s.user.date_joined),1)]),E,s.city.title?((0,l.wg)(),(0,l.iD)("div",H,[L,(0,l._)("div",O,(0,a.zw)(s.city.title),1)])):(0,l.kq)("",!0),s.city.title?((0,l.wg)(),(0,l.iD)("hr",P)):(0,l.kq)("",!0),s.region.title?((0,l.wg)(),(0,l.iD)("div",G,[I,(0,l._)("div",Z,(0,a.zw)(s.region.title),1)])):(0,l.kq)("",!0),s.region.title?((0,l.wg)(),(0,l.iD)("hr",B)):(0,l.kq)("",!0),(0,l._)("div",J,[K,(0,l._)("div",N,(0,a.zw)(s.user.points),1)]),Q])])])])])])],4)}var V=t(9669),W=t.n(V),X={name:"profile",props:["slug"],data:()=>({user:{},cur_user:{},backend:"",sub_status:"",followers_count:"",region:{},city:""}),created(){this.cur_user=this.$store.state.cuser,this.loadUser(),this.backend=this.$store.state.backendUrl+"auth/users/me/"},methods:{async loadUser(){W()({url:this.$store.state.backendUrl+`api/v1/${this.slug}/`,method:"GET",headers:{"Content-type":"application/json"}}).then((s=>{this.user=s.data,this.followers_count=s.data.followers.length,this.region=s.data.region,this.city=s.data.city,s.data.followers.includes(this.$store.state.cuser.id)?this.sub_status="follow":this.sub_status="unfollow"})).catch((s=>{let e=this.$router.resolve({name:"404"});window.location.assign(e.href)}))},async Follow(){const s=new FormData;s.append("id",this.$store.state.cuser.id),W()({url:this.$store.state.backendUrl+`api/v1/follow/${this.user.id}`,data:s,method:"POST"}).then((s=>{console.log(s),this.loadUser()}))},async Unfollow(){const s=new FormData;s.append("id",this.$store.state.cuser.id),W()({url:this.$store.state.backendUrl+`api/v1/unfollow/${this.user.id}`,data:s,method:"POST"}).then((s=>{console.log(s),this.loadUser()}))},goTo(s){let e=this.$router.resolve({name:"profile_edit",params:{slug:s}});window.location.assign(e.href)}}},Y=t(3744);const ss=(0,Y.Z)(X,[["render",R],["__scopeId","data-v-4dd63609"]]);var es=ss}}]);
//# sourceMappingURL=690.dd8a6a69.js.map